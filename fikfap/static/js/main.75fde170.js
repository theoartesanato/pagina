/*!For license information please see main.75fde170.js.LICENSE.txt*/!function(){var e={3025:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9160:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5218:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3755:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},268:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isMsWindow=void 0;var n=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];t.isMsWindow=function(e){if(function(e){return"MSInputMethodContext"in e&&"msCrypto"in e}(e)&&void 0!==e.msCrypto.subtle){var t=e.msCrypto,r=t.getRandomValues,i=t.subtle;return n.map((function(e){return i[e]})).concat(r).every((function(e){return"function"===typeof e}))}return!1}},5062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(9388);r.__exportStar(n(3025),t),r.__exportStar(n(9160),t),r.__exportStar(n(5218),t),r.__exportStar(n(3755),t),r.__exportStar(n(268),t)},9867:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EMPTY_DATA_SHA_256=t.SHA_256_HMAC_ALGO=t.SHA_256_HASH=void 0,t.SHA_256_HASH={name:"SHA-256"},t.SHA_256_HMAC_ALGO={name:"HMAC",hash:t.SHA_256_HASH},t.EMPTY_DATA_SHA_256=new Uint8Array([227,176,196,66,152,252,28,20,154,251,244,200,153,111,185,36,39,174,65,228,100,155,147,76,164,149,153,27,120,82,184,85])},1716:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7591),i=n(3722),o=n(9335),a=n(712),s=n(5062),u=n(3090),l=function(){function e(e){(0,a.supportsWebCrypto)((0,u.locateWindow)())?this.hash=new i.Sha256(e):(0,s.isMsWindow)((0,u.locateWindow)())?this.hash=new r.Sha256(e):this.hash=new o.Sha256(e)}return e.prototype.update=function(e,t){this.hash.update(e,t)},e.prototype.digest=function(){return this.hash.digest()},e}();t.Sha256=l},7591:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9558),i=n(9867),o=n(8071),a=n(3090),s=function(){function e(e){e?(this.operation=function(e){return new Promise((function(t,n){var r=(0,a.locateWindow)().msCrypto.subtle.importKey("raw",u(e),i.SHA_256_HMAC_ALGO,!1,["sign"]);r.oncomplete=function(){r.result&&t(r.result),n(new Error("ImportKey completed without importing key."))},r.onerror=function(){n(new Error("ImportKey failed to import key."))}}))}(e).then((function(e){return(0,a.locateWindow)().msCrypto.subtle.sign(i.SHA_256_HMAC_ALGO,e)})),this.operation.catch((function(){}))):this.operation=Promise.resolve((0,a.locateWindow)().msCrypto.subtle.digest("SHA-256"))}return e.prototype.update=function(e){var t=this;(0,r.isEmptyData)(e)||(this.operation=this.operation.then((function(n){return n.onerror=function(){t.operation=Promise.reject(new Error("Error encountered updating hash"))},n.process(u(e)),n})),this.operation.catch((function(){})))},e.prototype.digest=function(){return this.operation.then((function(e){return new Promise((function(t,n){e.onerror=function(){n(new Error("Error encountered finalizing hash"))},e.oncomplete=function(){e.result&&t(new Uint8Array(e.result)),n(new Error("Error encountered finalizing hash"))},e.finish()}))}))},e}();function u(e){return"string"===typeof e?(0,o.fromUtf8)(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}t.Sha256=s},2843:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebCryptoSha256=t.Ie11Sha256=void 0,(0,n(9388).__exportStar)(n(1716),t);var r=n(7591);Object.defineProperty(t,"Ie11Sha256",{enumerable:!0,get:function(){return r.Sha256}});var i=n(3722);Object.defineProperty(t,"WebCryptoSha256",{enumerable:!0,get:function(){return i.Sha256}})},9558:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},3722:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(7865),i=n(9867),o=n(3090),a=function(){function e(e){this.toHash=new Uint8Array(0),void 0!==e&&(this.key=new Promise((function(t,n){(0,o.locateWindow)().crypto.subtle.importKey("raw",(0,r.convertToBuffer)(e),i.SHA_256_HMAC_ALGO,!1,["sign"]).then(t,n)})),this.key.catch((function(){})))}return e.prototype.update=function(e){if(!(0,r.isEmptyData)(e)){var t=(0,r.convertToBuffer)(e),n=new Uint8Array(this.toHash.byteLength+t.byteLength);n.set(this.toHash,0),n.set(t,this.toHash.byteLength),this.toHash=n}},e.prototype.digest=function(){var e=this;return this.key?this.key.then((function(t){return(0,o.locateWindow)().crypto.subtle.sign(i.SHA_256_HMAC_ALGO,t,e.toHash).then((function(e){return new Uint8Array(e)}))})):(0,r.isEmptyData)(this.toHash)?Promise.resolve(i.EMPTY_DATA_SHA_256):Promise.resolve().then((function(){return(0,o.locateWindow)().crypto.subtle.digest(i.SHA_256_HASH,e.toHash)})).then((function(e){return Promise.resolve(new Uint8Array(e))}))},e}();t.Sha256=a},2071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawSha256=void 0;var r=n(2136),i=function(){function e(){this.state=Int32Array.from(r.INIT),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw new Error("Attempted to update an already finished hash.");var t=0,n=e.byteLength;if(this.bytesHashed+=n,8*this.bytesHashed>r.MAX_HASHABLE_LENGTH)throw new Error("Cannot hash more than 2^53 - 1 bits");for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===r.BLOCK_SIZE&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=8*this.bytesHashed,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%r.BLOCK_SIZE>=r.BLOCK_SIZE-8){for(var i=this.bufferLength;i<r.BLOCK_SIZE;i++)t.setUint8(i,0);this.hashBuffer(),this.bufferLength=0}for(i=this.bufferLength;i<r.BLOCK_SIZE-8;i++)t.setUint8(i,0);t.setUint32(r.BLOCK_SIZE-8,Math.floor(e/4294967296),!0),t.setUint32(r.BLOCK_SIZE-4,e),this.hashBuffer(),this.finished=!0}var o=new Uint8Array(r.DIGEST_LENGTH);for(i=0;i<8;i++)o[4*i]=this.state[i]>>>24&255,o[4*i+1]=this.state[i]>>>16&255,o[4*i+2]=this.state[i]>>>8&255,o[4*i+3]=this.state[i]>>>0&255;return o},e.prototype.hashBuffer=function(){for(var e=this.buffer,t=this.state,n=t[0],i=t[1],o=t[2],a=t[3],s=t[4],u=t[5],l=t[6],c=t[7],f=0;f<r.BLOCK_SIZE;f++){if(f<16)this.temp[f]=(255&e[4*f])<<24|(255&e[4*f+1])<<16|(255&e[4*f+2])<<8|255&e[4*f+3];else{var d=this.temp[f-2],h=(d>>>17|d<<15)^(d>>>19|d<<13)^d>>>10,p=((d=this.temp[f-15])>>>7|d<<25)^(d>>>18|d<<14)^d>>>3;this.temp[f]=(h+this.temp[f-7]|0)+(p+this.temp[f-16]|0)}var v=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&u^~s&l)|0)+(c+(r.KEY[f]+this.temp[f]|0)|0)|0,g=((n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10))+(n&i^n&o^i&o)|0;c=l,l=u,u=s,s=a+v|0,a=o,o=i,i=n,n=v+g|0}t[0]+=n,t[1]+=i,t[2]+=o,t[3]+=a,t[4]+=s,t[5]+=u,t[6]+=l,t[7]+=c},e}();t.RawSha256=i},2136:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_HASHABLE_LENGTH=t.INIT=t.KEY=t.DIGEST_LENGTH=t.BLOCK_SIZE=void 0,t.BLOCK_SIZE=64,t.DIGEST_LENGTH=32,t.KEY=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),t.INIT=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],t.MAX_HASHABLE_LENGTH=Math.pow(2,53)-1},9335:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),(0,n(9388).__exportStar)(n(7792),t)},7792:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Sha256=void 0;var r=n(9388),i=n(2136),o=n(2071),a=n(7865),s=function(){function e(e){if(this.hash=new o.RawSha256,e){this.outer=new o.RawSha256;var t=function(e){var t=(0,a.convertToBuffer)(e);if(t.byteLength>i.BLOCK_SIZE){var n=new o.RawSha256;n.update(t),t=n.digest()}var r=new Uint8Array(i.BLOCK_SIZE);return r.set(t),r}(e),n=new Uint8Array(i.BLOCK_SIZE);n.set(t);for(var r=0;r<i.BLOCK_SIZE;r++)t[r]^=54,n[r]^=92;this.hash.update(t),this.outer.update(n);for(r=0;r<t.byteLength;r++)t[r]=0}}return e.prototype.update=function(e){if(!(0,a.isEmptyData)(e)&&!this.error)try{this.hash.update((0,a.convertToBuffer)(e))}catch(t){this.error=t}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return(0,r.__awaiter)(this,void 0,void 0,(function(){return(0,r.__generator)(this,(function(e){return[2,this.digestSync()]}))}))},e}();t.Sha256=s},712:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(9388).__exportStar(n(362),t)},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.supportsZeroByteGCM=t.supportsSubtleCrypto=t.supportsSecureRandom=t.supportsWebCrypto=void 0;var r=n(9388),i=["decrypt","digest","encrypt","exportKey","generateKey","importKey","sign","verify"];function o(e){return"object"===typeof e&&"object"===typeof e.crypto&&"function"===typeof e.crypto.getRandomValues}function a(e){return e&&i.every((function(t){return"function"===typeof e[t]}))}t.supportsWebCrypto=function(e){return!(!o(e)||"object"!==typeof e.crypto.subtle)&&a(e.crypto.subtle)},t.supportsSecureRandom=o,t.supportsSubtleCrypto=a,t.supportsZeroByteGCM=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(n){switch(n.label){case 0:if(!a(e))return[2,!1];n.label=1;case 1:return n.trys.push([1,4,,5]),[4,e.generateKey({name:"AES-GCM",length:128},!1,["encrypt"])];case 2:return t=n.sent(),[4,e.encrypt({name:"AES-GCM",iv:new Uint8Array(Array(12)),additionalData:new Uint8Array(Array(16)),tagLength:128},t,new Uint8Array(0))];case 3:return[2,16===n.sent().byteLength];case 4:return n.sent(),[2,!1];case 5:return[2]}}))}))}},499:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertToBuffer=void 0;var r=n(6852),i="undefined"!==typeof Buffer&&Buffer.from?function(e){return Buffer.from(e,"utf8")}:r.fromUtf8;t.convertToBuffer=function(e){return e instanceof Uint8Array?e:"string"===typeof e?i(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}},7865:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=t.numToUint8=t.isEmptyData=t.convertToBuffer=void 0;var r=n(499);Object.defineProperty(t,"convertToBuffer",{enumerable:!0,get:function(){return r.convertToBuffer}});var i=n(2498);Object.defineProperty(t,"isEmptyData",{enumerable:!0,get:function(){return i.isEmptyData}});var o=n(186);Object.defineProperty(t,"numToUint8",{enumerable:!0,get:function(){return o.numToUint8}});var a=n(1329);Object.defineProperty(t,"uint32ArrayFrom",{enumerable:!0,get:function(){return a.uint32ArrayFrom}})},2498:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmptyData=void 0,t.isEmptyData=function(e){return"string"===typeof e?0===e.length:0===e.byteLength}},186:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.numToUint8=void 0,t.numToUint8=function(e){return new Uint8Array([(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e])}},1329:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uint32ArrayFrom=void 0,t.uint32ArrayFrom=function(e){if(!Array.from){for(var t=new Uint32Array(e.length);0<e.length;)t[0]=e[0];return t}return Uint32Array.from(e)}},6852:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},9700:function(e,t,n){var r=n(3484),i=n(821),o=i;o.v1=r,o.v4=i,e.exports=o},372:function(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},9133:function(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},3484:function(e,t,n){var r,i,o=n(9133),a=n(372),s=0,u=0;e.exports=function(e,t,n){var l=t&&n||0,c=t||[],f=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==f||null==d){var h=o();null==f&&(f=r=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==d&&(d=i=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),v=void 0!==e.nsecs?e.nsecs:u+1,g=p-s+(v-u)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||p>s)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,i=d;var m=(1e4*(268435455&(p+=122192928e5))+v)%4294967296;c[l++]=m>>>24&255,c[l++]=m>>>16&255,c[l++]=m>>>8&255,c[l++]=255&m;var y=p/4294967296*1e4&268435455;c[l++]=y>>>8&255,c[l++]=255&y,c[l++]=y>>>24&15|16,c[l++]=y>>>16&255,c[l++]=d>>>8|128,c[l++]=255&d;for(var b=0;b<6;++b)c[l+b]=f[b];return t||a(c)}},821:function(e,t,n){var r=n(9133),i=n(372);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},3090:function(e,t,n){"use strict";n.r(t),n.d(t,{locateWindow:function(){return i}});var r={};function i(){return"undefined"!==typeof window?window:"undefined"!==typeof self?self:r}},8071:function(e,t,n){"use strict";n.r(t),n.d(t,{fromUtf8:function(){return r},toUtf8:function(){return i}});var r=function(e){return"function"===typeof TextEncoder?function(e){return(new TextEncoder).encode(e)}(e):function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e.charCodeAt(n);if(i<128)t.push(i);else if(i<2048)t.push(i>>6|192,63&i|128);else if(n+1<e.length&&55296===(64512&i)&&56320===(64512&e.charCodeAt(n+1))){var o=65536+((1023&i)<<10)+(1023&e.charCodeAt(++n));t.push(o>>18|240,o>>12&63|128,o>>6&63|128,63&o|128)}else t.push(i>>12|224,i>>6&63|128,63&i|128)}return Uint8Array.from(t)}(e)},i=function(e){return"function"===typeof TextDecoder?function(e){return new TextDecoder("utf-8").decode(e)}(e):function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e[n];if(i<128)t+=String.fromCharCode(i);else if(192<=i&&i<224){var o=e[++n];t+=String.fromCharCode((31&i)<<6|63&o)}else if(240<=i&&i<365){var a="%"+[i,e[++n],e[++n],e[++n]].map((function(e){return e.toString(16)})).join("%");t+=decodeURIComponent(a)}else t+=String.fromCharCode((15&i)<<12|(63&e[++n])<<6|63&e[++n])}return t}(e)}},6152:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},r.apply(this,arguments)},i=this&&this.__read||function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),n(132);var s=n(2791),u=n(8542),l=a(n(292));t.default=function(e,t){var n=i(s.useState(),2),a=n[0],c=n[1],f=i(s.useState(),2),d=f[0],h=f[1];return l.default((function(){var n=u.getTargetElement(e);if(n){var i=new IntersectionObserver((function(e){var t,n;try{for(var r=o(e),i=r.next();!i.done;i=r.next()){var a=i.value;h(a.intersectionRatio),c(a.isIntersecting)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),r(r({},t),{root:u.getTargetElement(null===t||void 0===t?void 0:t.root)}));return i.observe(n),function(){i.disconnect()}}}),[],e),[a,d]}},2104:function(e,t,n){"use strict";var r=this&&this.__values||function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(5721)),a=n(5481),s=n(8542),u=i(n(2466)),l={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},c={ctrl:function(e){return e.ctrlKey},shift:function(e){return e.shiftKey},alt:function(e){return e.altKey},meta:function(e){return e.metaKey}};function f(e,t,n){var i,o;if(!e.key)return!1;if(a.isNumber(t))return e.keyCode===t;var s=t.split("."),u=0;try{for(var f=r(s),d=f.next();!d.done;d=f.next()){var h=d.value,p=c[h],v=l[h.toLowerCase()];(p&&p(e)||v&&v===e.keyCode)&&u++}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}return n?u===s.length&&function(e){var t=Object.keys(c).reduce((function(t,n){return c[n](e)?t+1:t}),0);return[16,17,18,91,92].includes(e.keyCode)?t:t+1}(e)===s.length:u===s.length}var d=["keydown"];t.default=function(e,t,n){var i=n||{},l=i.events,c=void 0===l?d:l,h=i.target,p=i.exactMatch,v=void 0!==p&&p,g=o.default(t),m=o.default(e);u.default((function(){var e,t,n,i=s.getTargetElement(h,window);if(i){var o=function(e){var t,n=function(e,t){return a.isFunction(e)?e:a.isString(e)||a.isNumber(e)?function(n){return f(n,e,t)}:Array.isArray(e)?function(n){return e.some((function(e){return f(n,e,t)}))}:e?function(){return!0}:function(){return!1}}(m.current,v);if(n(e))return null===(t=g.current)||void 0===t?void 0:t.call(g,e)};try{for(var u=r(c),l=u.next();!l.done;l=u.next()){var d=l.value;null===(n=null===i||void 0===i?void 0:i.addEventListener)||void 0===n||n.call(i,d,o)}}catch(p){e={error:p}}finally{try{l&&!l.done&&(t=u.return)&&t.call(u)}finally{if(e)throw e.error}}return function(){var e,t,n;try{for(var a=r(c),s=a.next();!s.done;s=a.next()){var u=s.value;null===(n=null===i||void 0===i?void 0:i.removeEventListener)||void 0===n||n.call(i,u,o)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}}}}),[c],h)}},5721:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2791);t.default=function(e){var t=r.useRef(e);return t.current=e,t}},987:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2791),o=r(n(5721));n(5481);t.default=function(e){var t=o.default(e);i.useEffect((function(){return function(){t.current()}}),[])}},7156:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2791),o=r(n(987)),a=r(n(265)),s=n(8542);t.default=function(e){return function(t,n,r){var u=i.useRef(!1),l=i.useRef([]),c=i.useRef([]),f=i.useRef();e((function(){var e,i=(Array.isArray(r)?r:[r]).map((function(e){return s.getTargetElement(e)}));if(!u.current)return u.current=!0,l.current=i,c.current=n,void(f.current=t());i.length===l.current.length&&a.default(i,l.current)&&a.default(n,c.current)||(null===(e=f.current)||void 0===e||e.call(f),l.current=i,c.current=n,f.current=t())})),o.default((function(){var e;null===(e=f.current)||void 0===e||e.call(f),u.current=!1}))}}},265:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}},8542:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getTargetElement=void 0;var i=n(5481),o=r(n(4597));t.getTargetElement=function(e,t){if(o.default)return e?i.isFunction(e)?e():"current"in e?e.current:e:t}},5481:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isUndef=t.isNumber=t.isBoolean=t.isString=t.isFunction=t.isObject=void 0,t.isObject=function(e){return null!==e&&"object"===typeof e},t.isFunction=function(e){return"function"===typeof e},t.isString=function(e){return"string"===typeof e},t.isBoolean=function(e){return"boolean"===typeof e},t.isNumber=function(e){return"number"===typeof e},t.isUndef=function(e){return"undefined"===typeof e}},4597:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=!("undefined"===typeof window||!window.document||!window.document.createElement);t.default=n},2466:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(8111)),o=n(2791),a=r(n(292));t.default=function(e,t,n){var r,s,u=o.useRef(),l=o.useRef(0);r=t,void 0===(s=u.current)&&(s=[]),i.default(r,s)||(u.current=t,l.current+=1),a.default(e,[l.current],n)}},292:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=n(2791),o=r(n(7156)).default(i.useEffect);t.default=o},2009:function(e,t){"use strict";t.byteLength=function(e){var t=u(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=u(e),a=o[0],s=o[1],l=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,s)),c=0,f=s>0?a-4:a;for(n=0;n<f;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],l[c++]=t>>16&255,l[c++]=t>>8&255,l[c++]=255&t;2===s&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,l[c++]=255&t);1===s&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,l[c++]=t>>8&255,l[c++]=255&t);return l},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,u=r-i;s<u;s+=a)o.push(l(e,s,s+a>u?u:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function u(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e,t,r){for(var i,o,a=[],s=t;s<r;s+=3)i=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(255&e[s+2]),a.push(n[(o=i)>>18&63]+n[o>>12&63]+n[o>>6&63]+n[63&o]);return a.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},5524:function(e){e.exports=function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=90)}({17:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=n(18),i=function(){function e(){}return e.getFirstMatch=function(e,t){var n=t.match(e);return n&&n.length>0&&n[1]||""},e.getSecondMatch=function(e,t){var n=t.match(e);return n&&n.length>1&&n[2]||""},e.matchAndReturnConst=function(e,t,n){if(e.test(t))return n},e.getWindowsVersionName=function(e){switch(e){case"NT":return"NT";case"XP":case"NT 5.1":return"XP";case"NT 5.0":return"2000";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}},e.getMacOSVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),10===t[0])switch(t[1]){case 5:return"Leopard";case 6:return"Snow Leopard";case 7:return"Lion";case 8:return"Mountain Lion";case 9:return"Mavericks";case 10:return"Yosemite";case 11:return"El Capitan";case 12:return"Sierra";case 13:return"High Sierra";case 14:return"Mojave";case 15:return"Catalina";default:return}},e.getAndroidVersionName=function(e){var t=e.split(".").splice(0,2).map((function(e){return parseInt(e,10)||0}));if(t.push(0),!(1===t[0]&&t[1]<5))return 1===t[0]&&t[1]<6?"Cupcake":1===t[0]&&t[1]>=6?"Donut":2===t[0]&&t[1]<2?"Eclair":2===t[0]&&2===t[1]?"Froyo":2===t[0]&&t[1]>2?"Gingerbread":3===t[0]?"Honeycomb":4===t[0]&&t[1]<1?"Ice Cream Sandwich":4===t[0]&&t[1]<4?"Jelly Bean":4===t[0]&&t[1]>=4?"KitKat":5===t[0]?"Lollipop":6===t[0]?"Marshmallow":7===t[0]?"Nougat":8===t[0]?"Oreo":9===t[0]?"Pie":void 0},e.getVersionPrecision=function(e){return e.split(".").length},e.compareVersions=function(t,n,r){void 0===r&&(r=!1);var i=e.getVersionPrecision(t),o=e.getVersionPrecision(n),a=Math.max(i,o),s=0,u=e.map([t,n],(function(t){var n=a-e.getVersionPrecision(t),r=t+new Array(n+1).join(".0");return e.map(r.split("."),(function(e){return new Array(20-e.length).join("0")+e})).reverse()}));for(r&&(s=a-Math.min(i,o)),a-=1;a>=s;){if(u[0][a]>u[1][a])return 1;if(u[0][a]===u[1][a]){if(a===s)return 0;a-=1}else if(u[0][a]<u[1][a])return-1}},e.map=function(e,t){var n,r=[];if(Array.prototype.map)return Array.prototype.map.call(e,t);for(n=0;n<e.length;n+=1)r.push(t(e[n]));return r},e.find=function(e,t){var n,r;if(Array.prototype.find)return Array.prototype.find.call(e,t);for(n=0,r=e.length;n<r;n+=1){var i=e[n];if(t(i,n))return i}},e.assign=function(e){for(var t,n,r=e,i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];if(Object.assign)return Object.assign.apply(Object,[e].concat(o));var s=function(){var e=o[t];"object"==typeof e&&null!==e&&Object.keys(e).forEach((function(t){r[t]=e[t]}))};for(t=0,n=o.length;t<n;t+=1)s();return e},e.getBrowserAlias=function(e){return r.BROWSER_ALIASES_MAP[e]},e.getBrowserTypeByAlias=function(e){return r.BROWSER_MAP[e]||""},e}();t.default=i,e.exports=t.default},18:function(e,t,n){"use strict";t.__esModule=!0,t.ENGINE_MAP=t.OS_MAP=t.PLATFORMS_MAP=t.BROWSER_MAP=t.BROWSER_ALIASES_MAP=void 0,t.BROWSER_ALIASES_MAP={"Amazon Silk":"amazon_silk","Android Browser":"android",Bada:"bada",BlackBerry:"blackberry",Chrome:"chrome",Chromium:"chromium",Electron:"electron",Epiphany:"epiphany",Firefox:"firefox",Focus:"focus",Generic:"generic","Google Search":"google_search",Googlebot:"googlebot","Internet Explorer":"ie","K-Meleon":"k_meleon",Maxthon:"maxthon","Microsoft Edge":"edge","MZ Browser":"mz","NAVER Whale Browser":"naver",Opera:"opera","Opera Coast":"opera_coast",PhantomJS:"phantomjs",Puffin:"puffin",QupZilla:"qupzilla",QQ:"qq",QQLite:"qqlite",Safari:"safari",Sailfish:"sailfish","Samsung Internet for Android":"samsung_internet",SeaMonkey:"seamonkey",Sleipnir:"sleipnir",Swing:"swing",Tizen:"tizen","UC Browser":"uc",Vivaldi:"vivaldi","WebOS Browser":"webos",WeChat:"wechat","Yandex Browser":"yandex",Roku:"roku"},t.BROWSER_MAP={amazon_silk:"Amazon Silk",android:"Android Browser",bada:"Bada",blackberry:"BlackBerry",chrome:"Chrome",chromium:"Chromium",electron:"Electron",epiphany:"Epiphany",firefox:"Firefox",focus:"Focus",generic:"Generic",googlebot:"Googlebot",google_search:"Google Search",ie:"Internet Explorer",k_meleon:"K-Meleon",maxthon:"Maxthon",edge:"Microsoft Edge",mz:"MZ Browser",naver:"NAVER Whale Browser",opera:"Opera",opera_coast:"Opera Coast",phantomjs:"PhantomJS",puffin:"Puffin",qupzilla:"QupZilla",qq:"QQ Browser",qqlite:"QQ Browser Lite",safari:"Safari",sailfish:"Sailfish",samsung_internet:"Samsung Internet for Android",seamonkey:"SeaMonkey",sleipnir:"Sleipnir",swing:"Swing",tizen:"Tizen",uc:"UC Browser",vivaldi:"Vivaldi",webos:"WebOS Browser",wechat:"WeChat",yandex:"Yandex Browser"},t.PLATFORMS_MAP={tablet:"tablet",mobile:"mobile",desktop:"desktop",tv:"tv"},t.OS_MAP={WindowsPhone:"Windows Phone",Windows:"Windows",MacOS:"macOS",iOS:"iOS",Android:"Android",WebOS:"WebOS",BlackBerry:"BlackBerry",Bada:"Bada",Tizen:"Tizen",Linux:"Linux",ChromeOS:"Chrome OS",PlayStation4:"PlayStation 4",Roku:"Roku"},t.ENGINE_MAP={EdgeHTML:"EdgeHTML",Blink:"Blink",Trident:"Trident",Presto:"Presto",Gecko:"Gecko",WebKit:"WebKit"}},90:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(91))&&r.__esModule?r:{default:r},o=n(18);function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(){}var t,n,r;return e.getParser=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("UserAgent should be a string");return new i.default(e,t)},e.parse=function(e){return new i.default(e).getResult()},t=e,r=[{key:"BROWSER_MAP",get:function(){return o.BROWSER_MAP}},{key:"ENGINE_MAP",get:function(){return o.ENGINE_MAP}},{key:"OS_MAP",get:function(){return o.OS_MAP}},{key:"PLATFORMS_MAP",get:function(){return o.PLATFORMS_MAP}}],(n=null)&&a(t.prototype,n),r&&a(t,r),e}();t.default=s,e.exports=t.default},91:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=u(n(92)),i=u(n(93)),o=u(n(94)),a=u(n(95)),s=u(n(17));function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(e,t){if(void 0===t&&(t=!1),null==e||""===e)throw new Error("UserAgent parameter can't be empty");this._ua=e,this.parsedResult={},!0!==t&&this.parse()}var t=e.prototype;return t.getUA=function(){return this._ua},t.test=function(e){return e.test(this._ua)},t.parseBrowser=function(){var e=this;this.parsedResult.browser={};var t=s.default.find(r.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.browser=t.describe(this.getUA())),this.parsedResult.browser},t.getBrowser=function(){return this.parsedResult.browser?this.parsedResult.browser:this.parseBrowser()},t.getBrowserName=function(e){return e?String(this.getBrowser().name).toLowerCase()||"":this.getBrowser().name||""},t.getBrowserVersion=function(){return this.getBrowser().version},t.getOS=function(){return this.parsedResult.os?this.parsedResult.os:this.parseOS()},t.parseOS=function(){var e=this;this.parsedResult.os={};var t=s.default.find(i.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.os=t.describe(this.getUA())),this.parsedResult.os},t.getOSName=function(e){var t=this.getOS().name;return e?String(t).toLowerCase()||"":t||""},t.getOSVersion=function(){return this.getOS().version},t.getPlatform=function(){return this.parsedResult.platform?this.parsedResult.platform:this.parsePlatform()},t.getPlatformType=function(e){void 0===e&&(e=!1);var t=this.getPlatform().type;return e?String(t).toLowerCase()||"":t||""},t.parsePlatform=function(){var e=this;this.parsedResult.platform={};var t=s.default.find(o.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.platform=t.describe(this.getUA())),this.parsedResult.platform},t.getEngine=function(){return this.parsedResult.engine?this.parsedResult.engine:this.parseEngine()},t.getEngineName=function(e){return e?String(this.getEngine().name).toLowerCase()||"":this.getEngine().name||""},t.parseEngine=function(){var e=this;this.parsedResult.engine={};var t=s.default.find(a.default,(function(t){if("function"==typeof t.test)return t.test(e);if(t.test instanceof Array)return t.test.some((function(t){return e.test(t)}));throw new Error("Browser's test function is not valid")}));return t&&(this.parsedResult.engine=t.describe(this.getUA())),this.parsedResult.engine},t.parse=function(){return this.parseBrowser(),this.parseOS(),this.parsePlatform(),this.parseEngine(),this},t.getResult=function(){return s.default.assign({},this.parsedResult)},t.satisfies=function(e){var t=this,n={},r=0,i={},o=0;if(Object.keys(e).forEach((function(t){var a=e[t];"string"==typeof a?(i[t]=a,o+=1):"object"==typeof a&&(n[t]=a,r+=1)})),r>0){var a=Object.keys(n),u=s.default.find(a,(function(e){return t.isOS(e)}));if(u){var l=this.satisfies(n[u]);if(void 0!==l)return l}var c=s.default.find(a,(function(e){return t.isPlatform(e)}));if(c){var f=this.satisfies(n[c]);if(void 0!==f)return f}}if(o>0){var d=Object.keys(i),h=s.default.find(d,(function(e){return t.isBrowser(e,!0)}));if(void 0!==h)return this.compareVersion(i[h])}},t.isBrowser=function(e,t){void 0===t&&(t=!1);var n=this.getBrowserName().toLowerCase(),r=e.toLowerCase(),i=s.default.getBrowserTypeByAlias(r);return t&&i&&(r=i.toLowerCase()),r===n},t.compareVersion=function(e){var t=[0],n=e,r=!1,i=this.getBrowserVersion();if("string"==typeof i)return">"===e[0]||"<"===e[0]?(n=e.substr(1),"="===e[1]?(r=!0,n=e.substr(2)):t=[],">"===e[0]?t.push(1):t.push(-1)):"="===e[0]?n=e.substr(1):"~"===e[0]&&(r=!0,n=e.substr(1)),t.indexOf(s.default.compareVersions(i,n,r))>-1},t.isOS=function(e){return this.getOSName(!0)===String(e).toLowerCase()},t.isPlatform=function(e){return this.getPlatformType(!0)===String(e).toLowerCase()},t.isEngine=function(e){return this.getEngineName(!0)===String(e).toLowerCase()},t.is=function(e,t){return void 0===t&&(t=!1),this.isBrowser(e,t)||this.isOS(e)||this.isPlatform(e)},t.some=function(e){var t=this;return void 0===e&&(e=[]),e.some((function(e){return t.is(e)}))},e}();t.default=l,e.exports=t.default},92:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=/version\/(\d+(\.?_?\d+)+)/i,a=[{test:[/googlebot/i],describe:function(e){var t={name:"Googlebot"},n=i.default.getFirstMatch(/googlebot\/(\d+(\.\d+))/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/opera/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:opera)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opr\/|opios/i],describe:function(e){var t={name:"Opera"},n=i.default.getFirstMatch(/(?:opr|opios)[\s/](\S+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/SamsungBrowser/i],describe:function(e){var t={name:"Samsung Internet for Android"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:SamsungBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Whale/i],describe:function(e){var t={name:"NAVER Whale Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:whale)[\s/](\d+(?:\.\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MZBrowser/i],describe:function(e){var t={name:"MZ Browser"},n=i.default.getFirstMatch(/(?:MZBrowser)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/focus/i],describe:function(e){var t={name:"Focus"},n=i.default.getFirstMatch(/(?:focus)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/swing/i],describe:function(e){var t={name:"Swing"},n=i.default.getFirstMatch(/(?:swing)[\s/](\d+(?:\.\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/coast/i],describe:function(e){var t={name:"Opera Coast"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:coast)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/opt\/\d+(?:.?_?\d+)+/i],describe:function(e){var t={name:"Opera Touch"},n=i.default.getFirstMatch(/(?:opt)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/yabrowser/i],describe:function(e){var t={name:"Yandex Browser"},n=i.default.getFirstMatch(/(?:yabrowser)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/ucbrowser/i],describe:function(e){var t={name:"UC Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:ucbrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/Maxthon|mxios/i],describe:function(e){var t={name:"Maxthon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:Maxthon|mxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/epiphany/i],describe:function(e){var t={name:"Epiphany"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:epiphany)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/puffin/i],describe:function(e){var t={name:"Puffin"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:puffin)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sleipnir/i],describe:function(e){var t={name:"Sleipnir"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:sleipnir)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/k-meleon/i],describe:function(e){var t={name:"K-Meleon"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/(?:k-meleon)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/micromessenger/i],describe:function(e){var t={name:"WeChat"},n=i.default.getFirstMatch(/(?:micromessenger)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qqbrowser/i],describe:function(e){var t={name:/qqbrowserlite/i.test(e)?"QQ Browser Lite":"QQ Browser"},n=i.default.getFirstMatch(/(?:qqbrowserlite|qqbrowser)[/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/msie|trident/i],describe:function(e){var t={name:"Internet Explorer"},n=i.default.getFirstMatch(/(?:msie |rv:)(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/\sedg\//i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getFirstMatch(/\sedg\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/edg([ea]|ios)/i],describe:function(e){var t={name:"Microsoft Edge"},n=i.default.getSecondMatch(/edg([ea]|ios)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/vivaldi/i],describe:function(e){var t={name:"Vivaldi"},n=i.default.getFirstMatch(/vivaldi\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/seamonkey/i],describe:function(e){var t={name:"SeaMonkey"},n=i.default.getFirstMatch(/seamonkey\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/sailfish/i],describe:function(e){var t={name:"Sailfish"},n=i.default.getFirstMatch(/sailfish\s?browser\/(\d+(\.\d+)?)/i,e);return n&&(t.version=n),t}},{test:[/silk/i],describe:function(e){var t={name:"Amazon Silk"},n=i.default.getFirstMatch(/silk\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/phantom/i],describe:function(e){var t={name:"PhantomJS"},n=i.default.getFirstMatch(/phantomjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/slimerjs/i],describe:function(e){var t={name:"SlimerJS"},n=i.default.getFirstMatch(/slimerjs\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t={name:"BlackBerry"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/blackberry[\d]+\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t={name:"WebOS Browser"},n=i.default.getFirstMatch(o,e)||i.default.getFirstMatch(/w(?:eb)?[o0]sbrowser\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/bada/i],describe:function(e){var t={name:"Bada"},n=i.default.getFirstMatch(/dolfin\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/tizen/i],describe:function(e){var t={name:"Tizen"},n=i.default.getFirstMatch(/(?:tizen\s?)?browser\/(\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/qupzilla/i],describe:function(e){var t={name:"QupZilla"},n=i.default.getFirstMatch(/(?:qupzilla)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/firefox|iceweasel|fxios/i],describe:function(e){var t={name:"Firefox"},n=i.default.getFirstMatch(/(?:firefox|iceweasel|fxios)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/electron/i],describe:function(e){var t={name:"Electron"},n=i.default.getFirstMatch(/(?:electron)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/MiuiBrowser/i],describe:function(e){var t={name:"Miui"},n=i.default.getFirstMatch(/(?:MiuiBrowser)[\s/](\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/chromium/i],describe:function(e){var t={name:"Chromium"},n=i.default.getFirstMatch(/(?:chromium)[\s/](\d+(\.?_?\d+)+)/i,e)||i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/chrome|crios|crmo/i],describe:function(e){var t={name:"Chrome"},n=i.default.getFirstMatch(/(?:chrome|crios|crmo)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/GSA/i],describe:function(e){var t={name:"Google Search"},n=i.default.getFirstMatch(/(?:GSA)\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t={name:"Android Browser"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/playstation 4/i],describe:function(e){var t={name:"PlayStation 4"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/safari|applewebkit/i],describe:function(e){var t={name:"Safari"},n=i.default.getFirstMatch(o,e);return n&&(t.version=n),t}},{test:[/.*/i],describe:function(e){var t=-1!==e.search("\\(")?/^(.*)\/(.*)[ \t]\((.*)/:/^(.*)\/(.*) /;return{name:i.default.getFirstMatch(t,e),version:i.default.getSecondMatch(t,e)}}}];t.default=a,e.exports=t.default},93:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/Roku\/DVP/],describe:function(e){var t=i.default.getFirstMatch(/Roku\/DVP-(\d+\.\d+)/i,e);return{name:o.OS_MAP.Roku,version:t}}},{test:[/windows phone/i],describe:function(e){var t=i.default.getFirstMatch(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.WindowsPhone,version:t}}},{test:[/windows /i],describe:function(e){var t=i.default.getFirstMatch(/Windows ((NT|XP)( \d\d?.\d)?)/i,e),n=i.default.getWindowsVersionName(t);return{name:o.OS_MAP.Windows,version:t,versionName:n}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(e){var t={name:o.OS_MAP.iOS},n=i.default.getSecondMatch(/(Version\/)(\d[\d.]+)/,e);return n&&(t.version=n),t}},{test:[/macintosh/i],describe:function(e){var t=i.default.getFirstMatch(/mac os x (\d+(\.?_?\d+)+)/i,e).replace(/[_\s]/g,"."),n=i.default.getMacOSVersionName(t),r={name:o.OS_MAP.MacOS,version:t};return n&&(r.versionName=n),r}},{test:[/(ipod|iphone|ipad)/i],describe:function(e){var t=i.default.getFirstMatch(/os (\d+([_\s]\d+)*) like mac os x/i,e).replace(/[_\s]/g,".");return{name:o.OS_MAP.iOS,version:t}}},{test:function(e){var t=!e.test(/like android/i),n=e.test(/android/i);return t&&n},describe:function(e){var t=i.default.getFirstMatch(/android[\s/-](\d+(\.\d+)*)/i,e),n=i.default.getAndroidVersionName(t),r={name:o.OS_MAP.Android,version:t};return n&&(r.versionName=n),r}},{test:[/(web|hpw)[o0]s/i],describe:function(e){var t=i.default.getFirstMatch(/(?:web|hpw)[o0]s\/(\d+(\.\d+)*)/i,e),n={name:o.OS_MAP.WebOS};return t&&t.length&&(n.version=t),n}},{test:[/blackberry|\bbb\d+/i,/rim\stablet/i],describe:function(e){var t=i.default.getFirstMatch(/rim\stablet\sos\s(\d+(\.\d+)*)/i,e)||i.default.getFirstMatch(/blackberry\d+\/(\d+([_\s]\d+)*)/i,e)||i.default.getFirstMatch(/\bbb(\d+)/i,e);return{name:o.OS_MAP.BlackBerry,version:t}}},{test:[/bada/i],describe:function(e){var t=i.default.getFirstMatch(/bada\/(\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Bada,version:t}}},{test:[/tizen/i],describe:function(e){var t=i.default.getFirstMatch(/tizen[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.Tizen,version:t}}},{test:[/linux/i],describe:function(){return{name:o.OS_MAP.Linux}}},{test:[/CrOS/],describe:function(){return{name:o.OS_MAP.ChromeOS}}},{test:[/PlayStation 4/],describe:function(e){var t=i.default.getFirstMatch(/PlayStation 4[/\s](\d+(\.\d+)*)/i,e);return{name:o.OS_MAP.PlayStation4,version:t}}}];t.default=a,e.exports=t.default},94:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:[/googlebot/i],describe:function(){return{type:"bot",vendor:"Google"}}},{test:[/huawei/i],describe:function(e){var t=i.default.getFirstMatch(/(can-l01)/i,e)&&"Nova",n={type:o.PLATFORMS_MAP.mobile,vendor:"Huawei"};return t&&(n.model=t),n}},{test:[/nexus\s*(?:7|8|9|10).*/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Nexus"}}},{test:[/ipad/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/Macintosh(.*?) FxiOS(.*?)\//],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Apple",model:"iPad"}}},{test:[/kftt build/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon",model:"Kindle Fire HD 7"}}},{test:[/silk/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet,vendor:"Amazon"}}},{test:[/tablet(?! pc)/i],describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){var t=e.test(/ipod|iphone/i),n=e.test(/like (ipod|iphone)/i);return t&&!n},describe:function(e){var t=i.default.getFirstMatch(/(ipod|iphone)/i,e);return{type:o.PLATFORMS_MAP.mobile,vendor:"Apple",model:t}}},{test:[/nexus\s*[0-6].*/i,/galaxy nexus/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Nexus"}}},{test:[/[^-]mobi/i],describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"blackberry"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"BlackBerry"}}},{test:function(e){return"bada"===e.getBrowserName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"windows phone"===e.getBrowserName()},describe:function(){return{type:o.PLATFORMS_MAP.mobile,vendor:"Microsoft"}}},{test:function(e){var t=Number(String(e.getOSVersion()).split(".")[0]);return"android"===e.getOSName(!0)&&t>=3},describe:function(){return{type:o.PLATFORMS_MAP.tablet}}},{test:function(e){return"android"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.mobile}}},{test:function(e){return"macos"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop,vendor:"Apple"}}},{test:function(e){return"windows"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"linux"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.desktop}}},{test:function(e){return"playstation 4"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}},{test:function(e){return"roku"===e.getOSName(!0)},describe:function(){return{type:o.PLATFORMS_MAP.tv}}}];t.default=a,e.exports=t.default},95:function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r,i=(r=n(17))&&r.__esModule?r:{default:r},o=n(18),a=[{test:function(e){return"microsoft edge"===e.getBrowserName(!0)},describe:function(e){if(/\sedg\//i.test(e))return{name:o.ENGINE_MAP.Blink};var t=i.default.getFirstMatch(/edge\/(\d+(\.?_?\d+)+)/i,e);return{name:o.ENGINE_MAP.EdgeHTML,version:t}}},{test:[/trident/i],describe:function(e){var t={name:o.ENGINE_MAP.Trident},n=i.default.getFirstMatch(/trident\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){return e.test(/presto/i)},describe:function(e){var t={name:o.ENGINE_MAP.Presto},n=i.default.getFirstMatch(/presto\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:function(e){var t=e.test(/gecko/i),n=e.test(/like gecko/i);return t&&!n},describe:function(e){var t={name:o.ENGINE_MAP.Gecko},n=i.default.getFirstMatch(/gecko\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}},{test:[/(apple)?webkit\/537\.36/i],describe:function(){return{name:o.ENGINE_MAP.Blink}}},{test:[/(apple)?webkit/i],describe:function(e){var t={name:o.ENGINE_MAP.WebKit},n=i.default.getFirstMatch(/webkit\/(\d+(\.?_?\d+)+)/i,e);return n&&(t.version=n),t}}];t.default=a,e.exports=t.default}})},9778:function(e,t,n){"use strict";var r=n(2009),i=n(4038),o=n(1571);function a(){return u.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function s(e,t){if(a()<t)throw new RangeError("Invalid typed array length");return u.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=u.prototype:(null===e&&(e=new u(t)),e.length=t),e}function u(e,t,n){if(!u.TYPED_ARRAY_SUPPORT&&!(this instanceof u))return new u(e,t,n);if("number"===typeof e){if("string"===typeof t)throw new Error("If encoding is specified then the first argument must be a string");return f(this,e)}return l(this,e,t,n)}function l(e,t,n,r){if("number"===typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);u.TYPED_ARRAY_SUPPORT?(e=t).__proto__=u.prototype:e=d(e,t);return e}(e,t,n,r):"string"===typeof t?function(e,t,n){"string"===typeof n&&""!==n||(n="utf8");if(!u.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|p(t,n),i=(e=s(e,r)).write(t,n);i!==r&&(e=e.slice(0,i));return e}(e,t,n):function(e,t){if(u.isBuffer(t)){var n=0|h(t.length);return 0===(e=s(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!==typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!==typeof t.length||(r=t.length)!==r?s(e,0):d(e,t);if("Buffer"===t.type&&o(t.data))return d(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function c(e){if("number"!==typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function f(e,t){if(c(t),e=s(e,t<0?0:0|h(t)),!u.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function d(e,t){var n=t.length<0?0:0|h(t.length);e=s(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function h(e){if(e>=a())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a().toString(16)+" bytes");return 0|e}function p(e,t){if(u.isBuffer(e))return e.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!==typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(e).length;default:if(r)return H(e).length;t=(""+t).toLowerCase(),r=!0}}function v(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return k(this,t,n);case"ascii":return C(this,t,n);case"latin1":case"binary":return O(this,t,n);case"base64":return _(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function g(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function m(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=u.from(t,r)),u.isBuffer(t))return 0===t.length?-1:y(e,t,n,r,i);if("number"===typeof t)return t&=255,u.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):y(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function y(e,t,n,r,i){var o,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var c=-1;for(o=n;o<s;o++)if(l(e,o)===l(t,-1===c?0:o-c)){if(-1===c&&(c=o),o-c+1===u)return c*a}else-1!==c&&(o-=o-c),c=-1}else for(n+u>s&&(n=s-u),o=n;o>=0;o--){for(var f=!0,d=0;d<u;d++)if(l(e,o+d)!==l(t,d)){f=!1;break}if(f)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function w(e,t,n,r){return V(H(t,e.length-n),e,n,r)}function E(e,t,n,r){return V(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return E(e,t,n,r)}function x(e,t,n,r){return V(G(t),e,n,r)}function T(e,t,n,r){return V(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function _(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function k(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,u,l=e[i],c=null,f=l>239?4:l>223?3:l>191?2:1;if(i+f<=n)switch(f){case 1:l<128&&(c=l);break;case 2:128===(192&(o=e[i+1]))&&(u=(31&l)<<6|63&o)>127&&(c=u);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(u=(15&l)<<12|(63&o)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(u=(15&l)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,f=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),i+=f}return function(e){var t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=A));return n}(r)}t.lW=u,t.h2=50,u.TYPED_ARRAY_SUPPORT=void 0!==n.g.TYPED_ARRAY_SUPPORT?n.g.TYPED_ARRAY_SUPPORT:function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()&&"function"===typeof e.subarray&&0===e.subarray(1,1).byteLength}catch(t){return!1}}(),a(),u.poolSize=8192,u._augment=function(e){return e.__proto__=u.prototype,e},u.from=function(e,t,n){return l(null,e,t,n)},u.TYPED_ARRAY_SUPPORT&&(u.prototype.__proto__=Uint8Array.prototype,u.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&u[Symbol.species]===u&&Object.defineProperty(u,Symbol.species,{value:null,configurable:!0})),u.alloc=function(e,t,n){return function(e,t,n,r){return c(t),t<=0?s(e,t):void 0!==n?"string"===typeof r?s(e,t).fill(n,r):s(e,t).fill(n):s(e,t)}(null,e,t,n)},u.allocUnsafe=function(e){return f(null,e)},u.allocUnsafeSlow=function(e){return f(null,e)},u.isBuffer=function(e){return!(null==e||!e._isBuffer)},u.compare=function(e,t){if(!u.isBuffer(e)||!u.isBuffer(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},u.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(e,t){if(!o(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=u.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var a=e[n];if(!u.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},u.byteLength=p,u.prototype._isBuffer=!0,u.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},u.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},u.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},u.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?k(this,0,e):v.apply(this,arguments)},u.prototype.equals=function(e){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===u.compare(this,e)},u.prototype.inspect=function(){var e="",n=t.h2;return this.length>0&&(e=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(e+=" ... ")),"<Buffer "+e+">"},u.prototype.compare=function(e,t,n,r,i){if(!u.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),l=this.slice(r,i),c=e.slice(t,n),f=0;f<s;++f)if(l[f]!==c[f]){o=l[f],a=c[f];break}return o<a?-1:a<o?1:0},u.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},u.prototype.indexOf=function(e,t,n){return m(this,e,t,n,!0)},u.prototype.lastIndexOf=function(e,t,n){return m(this,e,t,n,!1)},u.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return w(this,e,t,n);case"ascii":return E(this,e,t,n);case"latin1":case"binary":return S(this,e,t,n);case"base64":return x(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var A=4096;function C(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function O(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=B(e[o]);return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function L(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function D(e,t,n,r,i,o){if(!u.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function P(e,t,n,r){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(e.length-n,2);i<o;++i)e[n+i]=(t&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function N(e,t,n,r){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(e.length-n,4);i<o;++i)e[n+i]=t>>>8*(r?i:3-i)&255}function M(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function j(e,t,n,r,o){return o||M(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function F(e,t,n,r,o){return o||M(e,0,n,8),i.write(e,t,n,r,52,8),n+8}u.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),u.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=u.prototype;else{var i=t-e;n=new u(i,void 0);for(var o=0;o<i;++o)n[o]=this[o+e]}return n},u.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},u.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},u.prototype.readUInt8=function(e,t){return t||L(e,1,this.length),this[e]},u.prototype.readUInt16LE=function(e,t){return t||L(e,2,this.length),this[e]|this[e+1]<<8},u.prototype.readUInt16BE=function(e,t){return t||L(e,2,this.length),this[e]<<8|this[e+1]},u.prototype.readUInt32LE=function(e,t){return t||L(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},u.prototype.readUInt32BE=function(e,t){return t||L(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},u.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},u.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||L(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},u.prototype.readInt8=function(e,t){return t||L(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},u.prototype.readInt16LE=function(e,t){t||L(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt16BE=function(e,t){t||L(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},u.prototype.readInt32LE=function(e,t){return t||L(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},u.prototype.readInt32BE=function(e,t){return t||L(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},u.prototype.readFloatLE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!0,23,4)},u.prototype.readFloatBE=function(e,t){return t||L(e,4,this.length),i.read(this,e,!1,23,4)},u.prototype.readDoubleLE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!0,52,8)},u.prototype.readDoubleBE=function(e,t){return t||L(e,8,this.length),i.read(this,e,!1,52,8)},u.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},u.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||D(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},u.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,255,0),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},u.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,65535,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):N(this,e,t,!0),t+4},u.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,4294967295,0),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var i=Math.pow(2,8*n-1);D(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a>>0)-s&255;return t+n},u.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,1,127,-128),u.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},u.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):P(this,e,t,!0),t+2},u.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,2,32767,-32768),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):P(this,e,t,!1),t+2},u.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),u.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):N(this,e,t,!0),t+4},u.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||D(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),u.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):N(this,e,t,!1),t+4},u.prototype.writeFloatLE=function(e,t,n){return j(this,e,t,!0,n)},u.prototype.writeFloatBE=function(e,t,n){return j(this,e,t,!1,n)},u.prototype.writeDoubleLE=function(e,t,n){return F(this,e,t,!0,n)},u.prototype.writeDoubleBE=function(e,t,n){return F(this,e,t,!1,n)},u.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i,o=r-n;if(this===e&&n<t&&t<r)for(i=o-1;i>=0;--i)e[i+t]=this[i+n];else if(o<1e3||!u.TYPED_ARRAY_SUPPORT)for(i=0;i<o;++i)e[i+t]=this[i+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+o),t);return o},u.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===e.length){var i=e.charCodeAt(0);i<256&&(e=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!u.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=u.isBuffer(e)?e:H(new u(e,r).toString()),s=a.length;for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var U=/[^+\/0-9A-Za-z-_]/g;function B(e){return e<16?"0"+e.toString(16):e.toString(16)}function H(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function G(e){return r.toByteArray(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(U,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function V(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}},8926:function(e,t,n){e.exports=function(){var e=e||function(e,t){var r;if("undefined"!==typeof window&&window.crypto&&(r=window.crypto),"undefined"!==typeof self&&self.crypto&&(r=self.crypto),"undefined"!==typeof globalThis&&globalThis.crypto&&(r=globalThis.crypto),!r&&"undefined"!==typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!==typeof n.g&&n.g.crypto&&(r=n.g.crypto),!r)try{r=n(2480)}catch(g){}var i=function(){if(r){if("function"===typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"===typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},o=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),a={},s=a.lib={},u=s.Base={extend:function(e){var t=o(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},l=s.WordArray=u.extend({init:function(e,n){e=this.words=e||[],this.sigBytes=n!=t?n:4*e.length},toString:function(e){return(e||f).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var o=0;o<i;o++){var a=n[o>>>2]>>>24-o%4*8&255;t[r+o>>>2]|=a<<24-(r+o)%4*8}else for(var s=0;s<i;s+=4)t[r+s>>>2]=n[s>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=u.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new l.init(t,e)}}),c=a.enc={},f=c.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new l.init(n,t/2)}},d=c.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push(String.fromCharCode(o))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new l.init(n,t)}},h=c.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},p=s.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new l.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=h.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,o=r.sigBytes,a=this.blockSize,s=o/(4*a),u=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,c=e.min(4*u,o);if(u){for(var f=0;f<u;f+=a)this._doProcessBlock(i,f);n=i.splice(0,u),r.sigBytes-=c}return new l.init(n,c)},clone:function(){var e=u.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),v=(s.Hasher=p.extend({cfg:u.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){p.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new v.HMAC.init(e,n).finalize(t)}}}),a.algo={});return a}(Math);return e}()},3713:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){var e=i,t=e.lib.WordArray;function n(e,n,r){for(var i=[],o=0,a=0;a<n;a++)if(a%4){var s=r[e.charCodeAt(a-1)]<<a%4*2|r[e.charCodeAt(a)]>>>6-a%4*2;i[o>>>2]|=s<<24-o%4*8,o++}return t.create(i,o)}e.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],o=0;o<n;o+=3)for(var a=(t[o>>>2]>>>24-o%4*8&255)<<16|(t[o+1>>>2]>>>24-(o+1)%4*8&255)<<8|t[o+2>>>2]>>>24-(o+2)%4*8&255,s=0;s<4&&o+.75*s<n;s++)i.push(r.charAt(a>>>6*(3-s)&63));var u=r.charAt(64);if(u)for(;i.length%4;)i.push(u);return i.join("")},parse:function(e){var t=e.length,r=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var o=0;o<r.length;o++)i[r.charCodeAt(o)]=o}var a=r.charAt(64);if(a){var s=e.indexOf(a);-1!==s&&(t=s)}return n(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),i.enc.Base64)}()},5636:function(e,t,n){!function(t,r,i){var o;e.exports=(o=n(8926),n(9517),n(5086),o.HmacSHA256)}()},5086:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),void function(){var e=i,t=e.lib.Base,n=e.enc.Utf8;e.algo.HMAC=t.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var r=e.blockSize,i=4*r;t.sigBytes>i&&(t=e.finalize(t)),t.clamp();for(var o=this._oKey=t.clone(),a=this._iKey=t.clone(),s=o.words,u=a.words,l=0;l<r;l++)s[l]^=1549556828,u[l]^=909522486;o.sigBytes=a.sigBytes=i,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})}())}()},5533:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(){if("function"==typeof ArrayBuffer){var e=i.lib.WordArray,t=e.init,n=e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!==typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)};n.prototype=e}}(),i.lib.WordArray)}()},9517:function(e,t,n){!function(t,r){var i;e.exports=(i=n(8926),function(e){var t=i,n=t.lib,r=n.WordArray,o=n.Hasher,a=t.algo,s=[],u=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),u[i]=n(e.pow(r,1/3)),i++),r++}();var l=[],c=a.SHA256=o.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],o=n[2],a=n[3],s=n[4],c=n[5],f=n[6],d=n[7],h=0;h<64;h++){if(h<16)l[h]=0|e[t+h];else{var p=l[h-15],v=(p<<25|p>>>7)^(p<<14|p>>>18)^p>>>3,g=l[h-2],m=(g<<15|g>>>17)^(g<<13|g>>>19)^g>>>10;l[h]=v+l[h-7]+m+l[h-16]}var y=r&i^r&o^i&o,b=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),w=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&c^~s&f)+u[h]+l[h];d=f,f=c,c=s,s=a+w|0,a=o,o=i,i=r,r=w+(b+y)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+o|0,n[3]=n[3]+a|0,n[4]=n[4]+s|0,n[5]=n[5]+c|0,n[6]=n[6]+f|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=o._createHelper(c),t.HmacSHA256=o._createHmacHelper(c)}(Math),i.SHA256)}()},1625:function(e,t,n){"use strict";var r=n(9017),i=n(9172);e.exports=function e(t,o,a){return{from:e,EnvVarError:n(9172),get:function(e){if(!e)return t;if(arguments.length>1)throw new i("It looks like you passed more than one argument to env.get(). Since env-var@6.0.0 this is no longer supported. To set a default value use env.get(TARGET).default(DEFAULT)");return r(t,e,o||{},a||function(){})},accessors:n(24),logger:n(5371)(console.log,t.NODE_ENV)}}({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION_COMMIT_SHA:"83d47db6285a113668f95498ecfd01a2c630bd50",REACT_APP_STAGE:"prod",REACT_APP_COGNITO_USER_POOL_CLIENT_ID:"5v1cjavk5s6dvfejfr7929dibu",REACT_APP_COGNITO_USER_POOL_ID:"us-east-1_mlltkNH2K",REACT_APP_VERSION:"2318",REACT_APP_API_URL:"https://api.fikfap.com"})},459:function(e,t,n){"use strict";var r=n(3711);e.exports=function(e,t){return t=t||",",e.length?r(e).split(t).filter(Boolean):[]}},2008:function(e){"use strict";e.exports=function(e){var t=e.toLowerCase();if("false"!==t&&"true"!==t)throw new Error('should be either "true", "false", "TRUE", or "FALSE"');return"false"!==t}},5558:function(e){"use strict";e.exports=function(e){var t=e.toLowerCase();if(-1===["false","0","true","1"].indexOf(t))throw new Error('should be either "true", "false", "TRUE", "FALSE", 1, or 0');return!("0"===t||"false"===t)}},6425:function(e,t,n){"use strict";var r=n(3711);e.exports=function(e,t){var n=r(e);if(t.indexOf(n)<0)throw new Error("should be one of [".concat(t.join(", "),"]"));return n}},5306:function(e,t,n){"use strict";var r=n(136);e.exports=function(e){var t=r(e);if(t>0)throw new Error("should be a negative float");return t}},1839:function(e,t,n){"use strict";var r=n(136);e.exports=function(e){var t=r(e);if(t<0)throw new Error("should be a positive float");return t}},136:function(e){"use strict";e.exports=function(e){var t=parseFloat(e);if(isNaN(t)||t.toString()!==e)throw new Error("should be a valid float");return t}},24:function(e,t,n){e.exports={asArray:n(459),asBoolStrict:n(2008),asBool:n(5558),asPortNumber:n(2797),asEnum:n(6425),asFloatNegative:n(5306),asFloatPositive:n(1839),asFloat:n(136),asIntNegative:n(582),asIntPositive:n(1779),asInt:n(9953),asJsonArray:n(9287),asJsonObject:n(8598),asJson:n(2996),asRegExp:n(8615),asString:n(3711),asUrlObject:n(774),asUrlString:n(8242)}},582:function(e,t,n){"use strict";var r=n(9953);e.exports=function(e){var t=r(e);if(t>0)throw new Error("should be a negative integer");return t}},1779:function(e,t,n){"use strict";var r=n(9953);e.exports=function(e){var t=r(e);if(t<0)throw new Error("should be a positive integer");return t}},9953:function(e){"use strict";e.exports=function(e){var t=parseInt(e,10);if(isNaN(t)||t.toString(10)!==e)throw new Error("should be a valid integer");return t}},9287:function(e,t,n){"use strict";var r=n(2996);e.exports=function(e){var t=r(e);if(!Array.isArray(t))throw new Error("should be a parseable JSON Array");return t}},8598:function(e,t,n){"use strict";var r=n(2996);e.exports=function(e){var t=r(e);if(Array.isArray(t))throw new Error("should be a parseable JSON Object");return t}},2996:function(e){"use strict";e.exports=function(e){try{return JSON.parse(e)}catch(t){throw new Error("should be valid (parseable) JSON")}}},2797:function(e,t,n){"use strict";var r=n(1779);e.exports=function(e){var t=r(e);if(t>65535)throw new Error("cannot assign a port number greater than 65535");return t}},8615:function(e){"use strict";e.exports=function(e,t){try{RegExp(void 0,t)}catch(n){throw new Error("invalid regexp flags")}try{return new RegExp(e,t)}catch(n){throw new Error("should be a valid regexp")}}},3711:function(e){"use strict";e.exports=function(e){return e}},774:function(e,t,n){"use strict";var r=n(3711);e.exports=function(e){var t=r(e);try{return new URL(t)}catch(n){throw new Error("should be a valid URL")}}},8242:function(e,t,n){"use strict";var r=n(774);e.exports=function(e){return r(e).toString()}},9172:function(e,t,n){"use strict";var r=n(9728).default,i=n(6690).default,o=n(6115).default,a=n(1655).default,s=n(6389).default,u=function(e){a(n,e);var t=s(n);function n(e){var r;i(this,n);for(var a=arguments.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=arguments[u];return r=t.call.apply(t,[this,"env-var: ".concat(e)].concat(s)),Error.captureStackTrace&&Error.captureStackTrace(o(r),n),r.name="EnvVarError",r}return r(n)}((0,n(3496).default)(Error));e.exports=u},5371:function(e){"use strict";e.exports=function(e,t){return function(n,r){t&&t.match(/prod|production/)||e("env-var (".concat(n,"): ").concat(r))}}},9017:function(e,t,n){"use strict";var r=n(7424).default,i=n(2122).default,o=n(9172),a=/^([A-Za-z0-9+/]{4})*([A-Za-z0-9+/]{4}|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{2}==)$/;e.exports=function(e,t,s,u){var l,c,f=!1,d=!1,h=n(24);function p(e){u(t,e)}function v(e,n){var r='"'.concat(t,'" ').concat(n);throw e&&(r="".concat(r)),c&&(r="".concat(r,". An example of a valid value would be: ").concat(c)),new o(r)}var g={convertFromBase64:function(){return p("marking for base64 conversion"),f=!0,g},default:function(e){if("number"===typeof e)l=e.toString();else if(Array.isArray(e)||"object"===typeof e&&null!==e)l=JSON.stringify(e);else{if("string"!==typeof e)throw new o("values passed to default() must be of Number, String, Array, or Object type");l=e}return p('setting default value to "'.concat(l,'"')),g},required:function(e){return"undefined"===typeof e?(p("marked as required"),d=!0):(p("setting required flag to ".concat(e)),d=e),g},example:function(e){return c=e,g}};return Object.entries(i(i({},h),s)).forEach((function(n){var i=r(n,2),o=i[0],s=i[1];g[o]=function(n){return function(){var r=e[t];if(p('will be read from the environment using "'.concat(n.name,'" accessor')),"undefined"===typeof r)if("undefined"===typeof l&&d)p("was not found in the environment, but is required to be set"),v(void 0,"is a required variable, but it was not set");else{if("undefined"===typeof l)return void p("was not found in the environment, but is not required. returning undefined");p('was not found in the environment, parsing default value "'.concat(l,'" instead')),r=l}d&&(p("verifying variable value is not an empty string"),0===r.trim().length&&v(void 0,"is a required variable, but its value was empty")),f&&(p("verifying variable is a valid base64 string"),r.match(a)||v(r,"should be a valid base64 string if using convertFromBase64"),p("converting from base64 to utf8 string"),r=Buffer.from(r,"base64").toString());var i=[r].concat(Array.prototype.slice.call(arguments));try{p('passing value "'.concat(r,'" to "').concat(n.name,'" accessor'));var o=n.apply(n,i);return p("parsed successfully, returning ".concat(o)),o}catch(s){v(r,s.message)}}}(s)})),g}},9843:function(e){var t;"undefined"!==typeof window&&(t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist/",n(n.s="./src/hls.ts")}({"./node_modules/eventemitter3/index.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||e,o),u=i?i+t:t;return e._events[u]?e._events[u].fn?e._events[u]=[e._events[u],s]:e._events[u].push(s):(e._events[u]=s,e._eventsCount++),e}function u(e,t){0===--e._eventsCount?e._events=new o:delete e._events[t]}function l(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,n=[];if(0===this._eventsCount)return n;for(t in e=this._events)r.call(e,t)&&n.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,a){var s=i?i+e:e;if(!this._events[s])return!1;var u,l,c=this._events[s],f=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),f){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,n),!0;case 4:return c.fn.call(c.context,t,n,r),!0;case 5:return c.fn.call(c.context,t,n,r,o),!0;case 6:return c.fn.call(c.context,t,n,r,o,a),!0}for(l=1,u=new Array(f-1);l<f;l++)u[l-1]=arguments[l];c.fn.apply(c.context,u)}else{var d,h=c.length;for(l=0;l<h;l++)switch(c[l].once&&this.removeListener(e,c[l].fn,void 0,!0),f){case 1:c[l].fn.call(c[l].context);break;case 2:c[l].fn.call(c[l].context,t);break;case 3:c[l].fn.call(c[l].context,t,n);break;case 4:c[l].fn.call(c[l].context,t,n,r);break;default:if(!u)for(d=1,u=new Array(f-1);d<f;d++)u[d-1]=arguments[d];c[l].fn.apply(c[l].context,u)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return u(this,o),this;var a=this._events[o];if(a.fn)a.fn!==t||r&&!a.once||n&&a.context!==n||u(this,o);else{for(var s=0,l=[],c=a.length;s<c;s++)(a[s].fn!==t||r&&!a[s].once||n&&a[s].context!==n)&&l.push(a[s]);l.length?this._events[o]=1===l.length?l[0]:l:u(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&u(this,t)):(this._events=new o,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,e.exports=l},"./node_modules/url-toolkit/src/url-toolkit.js":function(e,t,n){!function(t){var n=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,r=/^(?=([^\/?#]*))\1([^]*)$/,i=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,a={buildAbsoluteURL:function(e,t,n){if(n=n||{},e=e.trim(),!(t=t.trim())){if(!n.alwaysNormalize)return e;var i=a.parseURL(e);if(!i)throw new Error("Error trying to parse base URL.");return i.path=a.normalizePath(i.path),a.buildURLFromParts(i)}var o=a.parseURL(t);if(!o)throw new Error("Error trying to parse relative URL.");if(o.scheme)return n.alwaysNormalize?(o.path=a.normalizePath(o.path),a.buildURLFromParts(o)):t;var s=a.parseURL(e);if(!s)throw new Error("Error trying to parse base URL.");if(!s.netLoc&&s.path&&"/"!==s.path[0]){var u=r.exec(s.path);s.netLoc=u[1],s.path=u[2]}s.netLoc&&!s.path&&(s.path="/");var l={scheme:s.scheme,netLoc:o.netLoc,path:null,params:o.params,query:o.query,fragment:o.fragment};if(!o.netLoc&&(l.netLoc=s.netLoc,"/"!==o.path[0]))if(o.path){var c=s.path,f=c.substring(0,c.lastIndexOf("/")+1)+o.path;l.path=a.normalizePath(f)}else l.path=s.path,o.params||(l.params=s.params,o.query||(l.query=s.query));return null===l.path&&(l.path=n.alwaysNormalize?a.normalizePath(o.path):o.path),a.buildURLFromParts(l)},parseURL:function(e){var t=n.exec(e);return t?{scheme:t[1]||"",netLoc:t[2]||"",path:t[3]||"",params:t[4]||"",query:t[5]||"",fragment:t[6]||""}:null},normalizePath:function(e){for(e=e.split("").reverse().join("").replace(i,"");e.length!==(e=e.replace(o,"")).length;);return e.split("").reverse().join("")},buildURLFromParts:function(e){return e.scheme+e.netLoc+e.path+e.params+e.query+e.fragment}};e.exports=a}()},"./node_modules/webworkify-webpack/index.js":function(e,t,n){function r(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n.oe=function(e){throw console.error(e),e};var r=n(n.s=ENTRY_MODULE);return r.default||r}var i="[\\.|\\-|\\+|\\w|/|@]+",o="\\(\\s*(/\\*.*?\\*/)?\\s*.*?([\\.|\\-|\\+|\\w|/|@]+).*?\\)";function a(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function s(e,t,r){var s={};s[r]=[];var u=t.toString(),l=u.match(/^function\s?\w*\(\w+,\s*\w+,\s*(\w+)\)/);if(!l)return s;for(var c,f=l[1],d=new RegExp("(\\\\n|\\W)"+a(f)+o,"g");c=d.exec(u);)"dll-reference"!==c[3]&&s[r].push(c[3]);for(d=new RegExp("\\("+a(f)+'\\("(dll-reference\\s('+i+'))"\\)\\)'+o,"g");c=d.exec(u);)e[c[2]]||(s[r].push(c[1]),e[c[2]]=n(c[1]).m),s[c[2]]=s[c[2]]||[],s[c[2]].push(c[4]);for(var h,p=Object.keys(s),v=0;v<p.length;v++)for(var g=0;g<s[p[v]].length;g++)h=s[p[v]][g],isNaN(1*h)||(s[p[v]][g]=1*s[p[v]][g]);return s}function u(e){return Object.keys(e).reduce((function(t,n){return t||e[n].length>0}),!1)}e.exports=function(e,t){t=t||{};var i={main:n.m},o=t.all?{main:Object.keys(i.main)}:function(e,t){for(var n={main:[t]},r={main:[]},i={main:{}};u(n);)for(var o=Object.keys(n),a=0;a<o.length;a++){var l=o[a],c=n[l].pop();if(i[l]=i[l]||{},!i[l][c]&&e[l][c]){i[l][c]=!0,r[l]=r[l]||[],r[l].push(c);for(var f=s(e,e[l][c],l),d=Object.keys(f),h=0;h<d.length;h++)n[d[h]]=n[d[h]]||[],n[d[h]]=n[d[h]].concat(f[d[h]])}}return r}(i,e),a="";Object.keys(o).filter((function(e){return"main"!==e})).forEach((function(e){for(var t=0;o[e][t];)t++;o[e].push(t),i[e][t]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })",a=a+"var "+e+" = ("+r.toString().replace("ENTRY_MODULE",JSON.stringify(t))+")({"+o[e].map((function(t){return JSON.stringify(t)+": "+i[e][t].toString()})).join(",")+"});\n"})),a=a+"new (("+r.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+o.main.map((function(e){return JSON.stringify(e)+": "+i.main[e].toString()})).join(",")+"}))(self);";var l=new window.Blob([a],{type:"text/javascript"});if(t.bare)return l;var c=(window.URL||window.webkitURL||window.mozURL||window.msURL).createObjectURL(l),f=new window.Worker(c);return f.objectURL=c,f}},"./src/config.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"hlsDefaultConfig",(function(){return x})),n.d(t,"mergeConfig",(function(){return T})),n.d(t,"enableStreamingMode",(function(){return _}));var r=n("./src/controller/abr-controller.ts"),i=n("./src/controller/audio-stream-controller.ts"),o=n("./src/controller/audio-track-controller.ts"),a=n("./src/controller/subtitle-stream-controller.ts"),s=n("./src/controller/subtitle-track-controller.ts"),u=n("./src/controller/buffer-controller.ts"),l=n("./src/controller/timeline-controller.ts"),c=n("./src/controller/cap-level-controller.ts"),f=n("./src/controller/fps-controller.ts"),d=n("./src/controller/eme-controller.ts"),h=n("./src/controller/cmcd-controller.ts"),p=n("./src/utils/xhr-loader.ts"),v=n("./src/utils/fetch-loader.ts"),g=n("./src/utils/cues.ts"),m=n("./src/utils/mediakeys-helper.ts"),y=n("./src/utils/logger.ts");function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},b.apply(this,arguments)}function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){S(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var x=E(E({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,maxBufferSize:6e7,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,enableSoftwareAES:!0,manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,startLevel:void 0,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:p.default,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:r.default,bufferController:u.default,capLevelController:c.default,fpsController:f.default,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystemOptions:{},requestMediaKeySystemAccessFunc:m.requestMediaKeySystemAccess,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0},{cueHandler:g.default,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}),{},{subtitleStreamController:a.SubtitleStreamController,subtitleTrackController:s.default,timelineController:l.TimelineController,audioStreamController:i.default,audioTrackController:o.default,emeController:d.default,cmcdController:h.default});function T(e,t){if((t.liveSyncDurationCount||t.liveMaxLatencyDurationCount)&&(t.liveSyncDuration||t.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(void 0!==t.liveMaxLatencyDurationCount&&(void 0===t.liveSyncDurationCount||t.liveMaxLatencyDurationCount<=t.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(void 0!==t.liveMaxLatencyDuration&&(void 0===t.liveSyncDuration||t.liveMaxLatencyDuration<=t.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');return b({},e,t)}function _(e){var t=e.loader;t!==v.default&&t!==p.default?(y.logger.log("[config]: Custom loader detected, cannot enable progressive streaming"),e.progressive=!1):Object(v.fetchSupported)()&&(e.loader=v.default,e.progressive=!0,e.enableSoftwareAES=!0,y.logger.log("[config]: Progressive streaming enabled, using FetchLoader"))}},"./src/controller/abr-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/utils/ewma-bandwidth-estimator.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/errors.ts"),u=n("./src/types/loader.ts"),l=n("./src/utils/logger.ts");function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var f=function(){function e(e){this.hls=void 0,this.lastLoadedFragLevel=0,this._nextAutoLevel=-1,this.timer=void 0,this.onCheck=this._abandonRulesCheck.bind(this),this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this.hls=e;var t=e.config;this.bwEstimator=new i.default(t.abrEwmaSlowVoD,t.abrEwmaFastVoD,t.abrEwmaDefaultEstimate),this.registerListeners()}var t,n,f,d=e.prototype;return d.registerListeners=function(){var e=this.hls;e.on(o.Events.FRAG_LOADING,this.onFragLoading,this),e.on(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var e=this.hls;e.off(o.Events.FRAG_LOADING,this.onFragLoading,this),e.off(o.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.clearTimer(),this.hls=this.onCheck=null,this.fragCurrent=this.partCurrent=null},d.onFragLoading=function(e,t){var n,r=t.frag;r.type===u.PlaylistLevelType.MAIN&&(this.timer||(this.fragCurrent=r,this.partCurrent=null!=(n=t.part)?n:null,this.timer=self.setInterval(this.onCheck,100)))},d.onLevelLoaded=function(e,t){var n=this.hls.config;t.details.live?this.bwEstimator.update(n.abrEwmaSlowLive,n.abrEwmaFastLive):this.bwEstimator.update(n.abrEwmaSlowVoD,n.abrEwmaFastVoD)},d._abandonRulesCheck=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,i=n.autoLevelEnabled,s=n.config,u=n.media;if(e&&u){var c=t?t.stats:e.stats,f=t?t.duration:e.duration;if(c.aborted)return l.logger.warn("frag loader destroy or aborted, disarm abandonRules"),this.clearTimer(),void(this._nextAutoLevel=-1);if(i&&!u.paused&&u.playbackRate&&u.readyState){var d=performance.now()-c.loading.start,h=Math.abs(u.playbackRate);if(!(d<=500*f/h)){var p=n.levels,v=n.minAutoLevel,g=p[e.level],m=c.total||Math.max(c.loaded,Math.round(f*g.maxBitrate/8)),y=Math.max(1,c.bwEstimate?c.bwEstimate/8:1e3*c.loaded/d),b=(m-c.loaded)/y,w=u.currentTime,E=(a.BufferHelper.bufferInfo(u,w,s.maxBufferHole).end-w)/h;if(!(E>=2*f/h||b<=E)){var S,x=Number.POSITIVE_INFINITY;for(S=e.level-1;S>v&&!((x=f*p[S].maxBitrate/(6.4*y))<E);S--);if(!(x>=b)){var T=this.bwEstimator.getEstimate();l.logger.warn("Fragment "+e.sn+(t?" part "+t.index:"")+" of level "+e.level+" is loading too slowly and will cause an underbuffer; aborting and switching to level "+S+"\n      Current BW estimate: "+(Object(r.isFiniteNumber)(T)?(T/1024).toFixed(3):"Unknown")+" Kb/s\n      Estimated load time for current fragment: "+b.toFixed(3)+" s\n      Estimated load time for the next fragment: "+x.toFixed(3)+" s\n      Time to underbuffer: "+E.toFixed(3)+" s"),n.nextLoadLevel=S,this.bwEstimator.sample(d,c.loaded),this.clearTimer(),e.loader&&(this.fragCurrent=this.partCurrent=null,e.loader.abort()),n.trigger(o.Events.FRAG_LOAD_EMERGENCY_ABORTED,{frag:e,part:t,stats:c})}}}}}},d.onFragLoaded=function(e,t){var n=t.frag,i=t.part;if(n.type===u.PlaylistLevelType.MAIN&&Object(r.isFiniteNumber)(n.sn)){var a=i?i.stats:n.stats,s=i?i.duration:n.duration;if(this.clearTimer(),this.lastLoadedFragLevel=n.level,this._nextAutoLevel=-1,this.hls.config.abrMaxWithRealBitrate){var l=this.hls.levels[n.level],c=(l.loaded?l.loaded.bytes:0)+a.loaded,f=(l.loaded?l.loaded.duration:0)+s;l.loaded={bytes:c,duration:f},l.realBitrate=Math.round(8*c/f)}if(n.bitrateTest){var d={stats:a,frag:n,part:i,id:n.type};this.onFragBuffered(o.Events.FRAG_BUFFERED,d),n.bitrateTest=!1}}},d.onFragBuffered=function(e,t){var n=t.frag,r=t.part,i=r?r.stats:n.stats;if(!i.aborted&&n.type===u.PlaylistLevelType.MAIN&&"initSegment"!==n.sn){var o=i.parsing.end-i.loading.start;this.bwEstimator.sample(o,i.loaded),i.bwEstimate=this.bwEstimator.getEstimate(),n.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}},d.onError=function(e,t){switch(t.details){case s.ErrorDetails.FRAG_LOAD_ERROR:case s.ErrorDetails.FRAG_LOAD_TIMEOUT:this.clearTimer()}},d.clearTimer=function(){self.clearInterval(this.timer),this.timer=void 0},d.getNextABRAutoLevel=function(){var e=this.fragCurrent,t=this.partCurrent,n=this.hls,r=n.maxAutoLevel,i=n.config,o=n.minAutoLevel,s=n.media,u=t?t.duration:e?e.duration:0,c=s?s.currentTime:0,f=s&&0!==s.playbackRate?Math.abs(s.playbackRate):1,d=this.bwEstimator?this.bwEstimator.getEstimate():i.abrEwmaDefaultEstimate,h=(a.BufferHelper.bufferInfo(s,c,i.maxBufferHole).end-c)/f,p=this.findBestLevel(d,o,r,h,i.abrBandWidthFactor,i.abrBandWidthUpFactor);if(p>=0)return p;l.logger.trace((h?"rebuffering expected":"buffer is empty")+", finding optimal quality level");var v=u?Math.min(u,i.maxStarvationDelay):i.maxStarvationDelay,g=i.abrBandWidthFactor,m=i.abrBandWidthUpFactor;if(!h){var y=this.bitrateTestDelay;y&&(v=(u?Math.min(u,i.maxLoadingDelay):i.maxLoadingDelay)-y,l.logger.trace("bitrate test took "+Math.round(1e3*y)+"ms, set first fragment max fetchDuration to "+Math.round(1e3*v)+" ms"),g=m=1)}return p=this.findBestLevel(d,o,r,h+v,g,m),Math.max(p,0)},d.findBestLevel=function(e,t,n,r,i,o){for(var a,s=this.fragCurrent,u=this.partCurrent,c=this.lastLoadedFragLevel,f=this.hls.levels,d=f[c],h=!(null===d||void 0===d||null===(a=d.details)||void 0===a||!a.live),p=null===d||void 0===d?void 0:d.codecSet,v=u?u.duration:s?s.duration:0,g=n;g>=t;g--){var m=f[g];if(m&&(!p||m.codecSet===p)){var y=m.details,b=(u?null===y||void 0===y?void 0:y.partTarget:null===y||void 0===y?void 0:y.averagetargetduration)||v,w=void 0;w=g<=c?i*e:o*e;var E=f[g].maxBitrate,S=E*b/w;if(l.logger.trace("level/adjustedbw/bitrate/avgDuration/maxFetchDuration/fetchDuration: "+g+"/"+Math.round(w)+"/"+E+"/"+b+"/"+r+"/"+S),w>E&&(!S||h&&!this.bitrateTestDelay||S<r))return g}}return-1},t=e,(n=[{key:"nextAutoLevel",get:function(){var e=this._nextAutoLevel,t=this.bwEstimator;if(-1!==e&&(!t||!t.canEstimate()))return e;var n=this.getNextABRAutoLevel();return-1!==e&&(n=Math.min(e,n)),n},set:function(e){this._nextAutoLevel=e}}])&&c(t.prototype,n),f&&c(t,f),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=f},"./src/controller/audio-stream-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/events.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/controller/fragment-tracker.ts"),u=n("./src/types/level.ts"),l=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/chunk-cache.ts"),d=n("./src/demux/transmuxer-interface.ts"),h=n("./src/types/transmuxer.ts"),p=n("./src/controller/fragment-finders.ts"),v=n("./src/utils/discontinuities.ts"),g=n("./src/errors.ts"),m=n("./src/utils/logger.ts");function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(this,arguments)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}var w=function(e){var t,n;function w(t,n){var r;return(r=e.call(this,t,n,"[audio-stream-controller]")||this).videoBuffer=null,r.videoTrackCC=-1,r.waitingVideoCC=-1,r.audioSwitch=!1,r.trackId=-1,r.waitingData=null,r.mainDetails=null,r.bufferFlushed=!1,r.cachedTrackLoadedData=null,r._registerListeners(),r}n=e,(t=w).prototype=Object.create(n.prototype),t.prototype.constructor=t,b(t,n);var E=w.prototype;return E.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},E._registerListeners=function(){var e=this.hls;e.on(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(o.Events.ERROR,this.onError,this),e.on(o.Events.BUFFER_RESET,this.onBufferReset,this),e.on(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E._unregisterListeners=function(){var e=this.hls;e.off(o.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(o.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(o.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(o.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(o.Events.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(o.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(o.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(o.Events.ERROR,this.onError,this),e.off(o.Events.BUFFER_RESET,this.onBufferReset,this),e.off(o.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(o.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(o.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(o.Events.FRAG_BUFFERED,this.onFragBuffered,this)},E.onInitPtsFound=function(e,t){var n=t.frag,r=t.id,o=t.initPTS;if("main"===r){var a=n.cc;this.initPTS[n.cc]=o,this.log("InitPTS for cc: "+a+" found from main: "+o),this.videoTrackCC=a,this.state===i.State.WAITING_INIT_PTS&&this.tick()}},E.startLoad=function(e){if(!this.levels)return this.startPosition=e,void(this.state=i.State.STOPPED);var t=this.lastCurrentTime;this.stopLoad(),this.setInterval(100),this.fragLoadError=0,t>0&&-1===e?(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),this.state=i.State.IDLE):(this.loadedmetadata=!1,this.state=i.State.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()},E.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_TRACK:var t,n=this.levels,r=this.trackId,o=null===n||void 0===n||null===(t=n[r])||void 0===t?void 0:t.details;if(o){if(this.waitForCdnTuneIn(o))break;this.state=i.State.WAITING_INIT_PTS}break;case i.State.FRAG_LOADING_WAITING_RETRY:var s,u=performance.now(),l=this.retryDate;(!l||u>=l||null!==(s=this.media)&&void 0!==s&&s.seeking)&&(this.log("RetryDate reached, switch back to IDLE state"),this.state=i.State.IDLE);break;case i.State.WAITING_INIT_PTS:var c=this.waitingData;if(c){var f=c.frag,d=c.part,h=c.cache,v=c.complete;if(void 0!==this.initPTS[f.cc]){this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.FRAG_LOADING;var g={frag:f,part:d,payload:h.flush(),networkDetails:null};this._handleFragmentLoadProgress(g),v&&e.prototype._handleFragmentLoadComplete.call(this,g)}else if(this.videoTrackCC!==this.waitingVideoCC)m.logger.log("Waiting fragment cc ("+f.cc+") cancelled because video is at cc "+this.videoTrackCC),this.clearWaitingFragment();else{var y=this.getLoadPosition(),b=a.BufferHelper.bufferInfo(this.mediaBuffer,y,this.config.maxBufferHole);Object(p.fragmentWithinToleranceTest)(b.end,this.config.maxFragLookUpTolerance,f)<0&&(m.logger.log("Waiting fragment cc ("+f.cc+") @ "+f.start+" cancelled because another fragment at "+b.end+" is needed"),this.clearWaitingFragment())}}else this.state=i.State.IDLE}this.onTickEnd()},E.clearWaitingFragment=function(){var e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=i.State.IDLE)},E.onTickEnd=function(){var e=this.media;if(e&&e.readyState){var t=(this.mediaBuffer?this.mediaBuffer:e).buffered;!this.loadedmetadata&&t.length&&(this.loadedmetadata=!0),this.lastCurrentTime=e.currentTime}},E.doTickIdle=function(){var e,t,n=this.hls,r=this.levels,a=this.media,s=this.trackId,u=n.config;if(r&&r[s]&&(a||!this.startFragRequested&&u.startFragPrefetch)){var f=r[s].details;if(!f||f.live&&this.levelLastLoaded!==s||this.waitForCdnTuneIn(f))this.state=i.State.WAITING_TRACK;else{this.bufferFlushed&&(this.bufferFlushed=!1,this.afterBufferFlushed(this.mediaBuffer?this.mediaBuffer:this.media,c.ElementaryStreamTypes.AUDIO,l.PlaylistLevelType.AUDIO));var d=this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,l.PlaylistLevelType.AUDIO);if(null!==d){var h=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,l.PlaylistLevelType.MAIN),p=d.len,v=this.getMaxBufferLength(null===h||void 0===h?void 0:h.len),g=this.audioSwitch;if(!(p>=v)||g){if(!g&&this._streamEnded(d,f))return n.trigger(o.Events.BUFFER_EOS,{type:"audio"}),void(this.state=i.State.ENDED);var m=f.fragments[0].start,y=d.end;if(g){var b=this.getLoadPosition();y=b,f.PTSKnown&&b<m&&(d.end>m||d.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),a.currentTime=m+.05)}if(!(h&&y>h.end+f.targetduration)&&(h&&h.len||!d.len)){var w=this.getNextFragment(y,f);w?"identity"!==(null===(e=w.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=w.decryptdata)&&void 0!==t&&t.key?this.loadFragment(w,f,y):this.loadKey(w,f):this.bufferFlushed=!0}}}}}},E.getMaxBufferLength=function(t){var n=e.prototype.getMaxBufferLength.call(this);return t?Math.max(n,t):n},E.onMediaDetaching=function(){this.videoBuffer=null,e.prototype.onMediaDetaching.call(this)},E.onAudioTracksUpdated=function(e,t){var n=t.audioTracks;this.resetTransmuxer(),this.levels=n.map((function(e){return new u.Level(e)}))},E.onAudioTrackSwitching=function(e,t){var n=!!t.url;this.trackId=t.id;var r=this.fragCurrent;null!==r&&void 0!==r&&r.loader&&r.loader.abort(),this.fragCurrent=null,this.clearWaitingFragment(),n?this.setInterval(100):this.resetTransmuxer(),n?(this.audioSwitch=!0,this.state=i.State.IDLE):this.state=i.State.STOPPED,this.tick()},E.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=!1},E.onLevelLoaded=function(e,t){this.mainDetails=t.details,null!==this.cachedTrackLoadedData&&(this.hls.trigger(o.Events.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)},E.onAudioTrackLoaded=function(e,t){var n;if(null!=this.mainDetails){var r=this.levels,o=t.details,a=t.id;if(r){this.log("Track "+a+" loaded ["+o.startSN+","+o.endSN+"],duration:"+o.totalduration);var s=r[a],u=0;if(o.live||null!==(n=s.details)&&void 0!==n&&n.live){var l=this.mainDetails;if(o.fragments[0]||(o.deltaUpdateFailed=!0),o.deltaUpdateFailed||!l)return;!s.details&&o.hasProgramDateTime&&l.hasProgramDateTime?(Object(v.alignMediaPlaylistByPDT)(o,l),u=o.fragments[0].start):u=this.alignPlaylists(o,s.details)}s.details=o,this.levelLastLoaded=a,this.startFragRequested||!this.mainDetails&&o.live||this.setStartPosition(s.details,u),this.state!==i.State.WAITING_TRACK||this.waitForCdnTuneIn(o)||(this.state=i.State.IDLE),this.tick()}else this.warn("Audio tracks were reset while loading level "+a)}else this.cachedTrackLoadedData=t},E._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,o=e.payload,a=this.config,s=this.trackId,u=this.levels;if(u){var c=u[s];console.assert(c,"Audio track is defined on fragment load progress");var p=c.details;console.assert(p,"Audio track details are defined on fragment load progress");var v=a.defaultAudioCodec||c.audioCodec||"mp4a.40.2",g=this.transmuxer;g||(g=this.transmuxer=new d.default(this.hls,l.PlaylistLevelType.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));var y=this.initPTS[n.cc],b=null===(t=n.initSegment)||void 0===t?void 0:t.data;if(void 0!==y){var w=r?r.index:-1,E=-1!==w,S=new h.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,o.byteLength,w,E);g.push(o,b,v,"",n,r,p.totalduration,!1,S,y)}else m.logger.log("Unknown video PTS for cc "+n.cc+", waiting for video PTS before demuxing audio frag "+n.sn+" of ["+p.startSN+" ,"+p.endSN+"],track "+s),(this.waitingData=this.waitingData||{frag:n,part:r,cache:new f.default,complete:!1}).cache.push(new Uint8Array(o)),this.waitingVideoCC=this.videoTrackCC,this.state=i.State.WAITING_INIT_PTS}else this.warn("Audio tracks were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},E._handleFragmentLoadComplete=function(t){this.waitingData?this.waitingData.complete=!0:e.prototype._handleFragmentLoadComplete.call(this,t)},E.onBufferReset=function(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1},E.onBufferCreated=function(e,t){var n=t.tracks.audio;n&&(this.mediaBuffer=n.buffer),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer)},E.onFragBuffered=function(e,t){var n=t.frag,r=t.part;n.type===l.PlaylistLevelType.AUDIO&&(this.fragContextChanged(n)?this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state+", audioSwitch: "+this.audioSwitch):("initSegment"!==n.sn&&(this.fragPrevious=n,this.audioSwitch&&(this.audioSwitch=!1,this.hls.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:this.trackId}))),this.fragBufferedComplete(n,r)))},E.onError=function(t,n){switch(n.details){case g.ErrorDetails.FRAG_LOAD_ERROR:case g.ErrorDetails.FRAG_LOAD_TIMEOUT:case g.ErrorDetails.KEY_LOAD_ERROR:case g.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.AUDIO,n);break;case g.ErrorDetails.AUDIO_TRACK_LOAD_ERROR:case g.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:this.state!==i.State.ERROR&&this.state!==i.State.STOPPED&&(this.state=n.fatal?i.State.ERROR:i.State.IDLE,this.warn(n.details+" while loading frag, switching to "+this.state+" state"));break;case g.ErrorDetails.BUFFER_FULL_ERROR:if("audio"===n.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var r=!0,o=this.getFwdBufferInfo(this.mediaBuffer,l.PlaylistLevelType.AUDIO);o&&o.len>.5&&(r=!this.reduceMaxBufferLength(o.len)),r&&(this.warn("Buffer full error also media.currentTime is not buffered, flush audio buffer"),this.fragCurrent=null,e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.resetLoadingState()}}},E.onBufferFlushed=function(e,t){t.type===c.ElementaryStreamTypes.AUDIO&&(this.bufferFlushed=!0)},E._handleTransmuxComplete=function(e){var t,n="audio",r=this.hls,a=e.remuxResult,s=e.chunkMeta,u=this.getCurrentContext(s);if(!u)return this.warn("The loading context changed while buffering fragment "+s.sn+" of level "+s.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(s.level);var l=u.frag,f=u.part,d=u.level.details,h=a.audio,p=a.text,v=a.id3,g=a.initSegment;if(!this.fragContextChanged(l)&&d){if(this.state=i.State.PARSING,this.audioSwitch&&h&&this.completeAudioSwitch(),null!==g&&void 0!==g&&g.tracks&&(this._bufferInitSegment(g.tracks,l,s),r.trigger(o.Events.FRAG_PARSING_INIT_SEGMENT,{frag:l,id:n,tracks:g.tracks})),h){var m=h.startPTS,b=h.endPTS,w=h.startDTS,E=h.endDTS;f&&(f.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:m,endPTS:b,startDTS:w,endDTS:E}),l.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,m,b,w,E),this.bufferFragmentData(h,l,f,s)}if(null!==v&&void 0!==v&&null!==(t=v.samples)&&void 0!==t&&t.length){var S=y({id:n,frag:l,details:d},v);r.trigger(o.Events.FRAG_PARSING_METADATA,S)}if(p){var x=y({id:n,frag:l,details:d},p);r.trigger(o.Events.FRAG_PARSING_USERDATA,x)}}},E._bufferInitSegment=function(e,t,n){if(this.state===i.State.PARSING){e.video&&delete e.video;var r=e.audio;if(r){r.levelCodec=r.codec,r.id="audio",this.log("Init audio buffer, container:"+r.container+", codecs[parsed]=["+r.codec+"]"),this.hls.trigger(o.Events.BUFFER_CODECS,e);var a=r.initSegment;if(null!==a&&void 0!==a&&a.byteLength){var s={type:"audio",frag:t,part:null,chunkMeta:n,parent:t.type,data:a};this.hls.trigger(o.Events.BUFFER_APPENDING,s)}this.tick()}}},E.loadFragment=function(t,n,o){var a=this.fragmentTracker.getState(t);this.fragCurrent=t,(this.audioSwitch||a===s.FragmentState.NOT_LOADED||a===s.FragmentState.PARTIAL)&&("initSegment"===t.sn?this._loadInitSegment(t):n.live&&!Object(r.isFiniteNumber)(this.initPTS[t.cc])?(this.log("Waiting for video PTS in continuity counter "+t.cc+" of live stream before loading audio fragment "+t.sn+" of level "+this.trackId),this.state=i.State.WAITING_INIT_PTS):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,o)))},E.completeAudioSwitch=function(){var t=this.hls,n=this.media,r=this.trackId;n&&(this.log("Switching audio track : flushing all audio"),e.prototype.flushMainBuffer.call(this,0,Number.POSITIVE_INFINITY,"audio")),this.audioSwitch=!1,t.trigger(o.Events.AUDIO_TRACK_SWITCHED,{id:r})},w}(i.default);t.default=w},"./src/controller/audio-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=function(e){var t,n;function o(t){var n;return(n=e.call(this,t,"[audio-track-controller]")||this).tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.trackName="",n.selectDefaultTrack=!0,n.registerListeners(),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var l,c,f,d=o.prototype;return d.registerListeners=function(){var e=this.hls;e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},d.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},d.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,e.prototype.destroy.call(this)},d.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.trackName="",this.selectDefaultTrack=!0},d.onManifestParsed=function(e,t){this.tracks=t.audioTracks||[]},d.onAudioTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.tracksInGroup[n];if(i){var o=i.details;i.details=t.details,this.log("audioTrack "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,o))}else this.warn("Invalid audio track id "+n)},d.onLevelLoading=function(e,t){this.switchLevel(t.level)},d.onLevelSwitching=function(e,t){this.switchLevel(t.level)},d.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.audioGroupIds){var n=t.audioGroupIds[t.urlId];if(this.groupId!==n){this.groupId=n;var i=this.tracks.filter((function(e){return!n||e.groupId===n}));this.selectDefaultTrack&&!i.some((function(e){return e.default}))&&(this.selectDefaultTrack=!1),this.tracksInGroup=i;var o={audioTracks:i};this.log("Updating audio tracks, "+i.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.AUDIO_TRACKS_UPDATED,o),this.selectInitialTrack()}}},d.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===a.PlaylistContextType.AUDIO_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},d.setAudioTrack=function(e){var t=this.tracksInGroup;if(e<0||e>=t.length)this.warn("Invalid id passed to audio-track controller");else{this.clearTimer();var n=t[this.trackId];this.log("Now switching to audio-track index "+e);var i=t[e],o=i.id,a=i.groupId,s=void 0===a?"":a,u=i.name,l=i.type,c=i.url;if(this.trackId=e,this.trackName=u,this.selectDefaultTrack=!1,this.hls.trigger(r.Events.AUDIO_TRACK_SWITCHING,{id:o,groupId:s,name:u,type:l,url:c}),!i.details||i.details.live){var f=this.switchParams(i.url,null===n||void 0===n?void 0:n.details);this.loadPlaylist(f)}}},d.selectInitialTrack=function(){var e=this.tracksInGroup;console.assert(e.length,"Initial audio track should be selected when tracks are known");var t=this.trackName,n=this.findTrackId(t)||this.findTrackId();-1!==n?this.setAudioTrack(n):(this.warn("No track found for running audio group-ID: "+this.groupId),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,fatal:!0}))},d.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},d.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("loading audio-track playlist for id: "+n),this.clearTimer(),this.hls.trigger(r.Events.AUDIO_TRACK_LOADING,{url:o,id:n,groupId:i,deliveryDirectives:e||null})}},l=o,(c=[{key:"audioTracks",get:function(){return this.tracksInGroup}},{key:"audioTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}}])&&s(l.prototype,c),f&&s(l,f),Object.defineProperty(l,"prototype",{writable:!1}),o}(o.default);t.default=l},"./src/controller/base-playlist-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return u}));var r=n("./src/polyfills/number.ts"),i=n("./src/types/level.ts"),o=n("./src/controller/level-helper.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=function(){function e(e,t){this.hls=void 0,this.timer=-1,this.canLoad=!1,this.retryCount=0,this.log=void 0,this.warn=void 0,this.log=a.logger.log.bind(a.logger,t+":"),this.warn=a.logger.warn.bind(a.logger,t+":"),this.hls=e}var t=e.prototype;return t.destroy=function(){this.clearTimer(),this.hls=this.log=this.warn=null},t.onError=function(e,t){t.fatal&&t.type===s.ErrorTypes.NETWORK_ERROR&&this.clearTimer()},t.clearTimer=function(){clearTimeout(this.timer),this.timer=-1},t.startLoad=function(){this.canLoad=!0,this.retryCount=0,this.loadPlaylist()},t.stopLoad=function(){this.canLoad=!1,this.clearTimer()},t.switchParams=function(e,t){var n=null===t||void 0===t?void 0:t.renditionReports;if(n)for(var o=0;o<n.length;o++){var a=n[o],s=""+a.URI;if(s===e.slice(-s.length)){var u=parseInt(a["LAST-MSN"]),l=parseInt(a["LAST-PART"]);if(t&&this.hls.config.lowLatencyMode){var c=Math.min(t.age-t.partTarget,t.targetduration);void 0!==l&&c>t.partTarget&&(l+=1)}if(Object(r.isFiniteNumber)(u))return new i.HlsUrlParameters(u,Object(r.isFiniteNumber)(l)?l:void 0,i.HlsSkip.No)}}},t.loadPlaylist=function(e){},t.shouldLoadTrack=function(e){return this.canLoad&&e&&!!e.url&&(!e.details||e.details.live)},t.playlistLoaded=function(e,t,n){var r=this,i=t.details,a=t.stats,s=a.loading.end?Math.max(0,self.performance.now()-a.loading.end):0;if(i.advancedDateTime=Date.now()-s,i.live||null!==n&&void 0!==n&&n.live){if(i.reloaded(n),n&&this.log("live playlist "+e+" "+(i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:"MISSED")),n&&i.fragments.length>0&&Object(o.mergeDetails)(n,i),!this.canLoad||!i.live)return;var u,l=void 0,c=void 0;if(i.canBlockReload&&i.endSN&&i.advanced){var f=this.hls.config.lowLatencyMode,d=i.lastPartSn,h=i.endSN,p=i.lastPartIndex,v=d===h;-1!==p?(l=v?h+1:d,c=v?f?0:p:p+1):l=h+1;var g=i.age,m=g+i.ageHeader,y=Math.min(m-i.partTarget,1.5*i.targetduration);if(y>0){if(n&&y>n.tuneInGoal)this.warn("CDN Tune-in goal increased from: "+n.tuneInGoal+" to: "+y+" with playlist age: "+i.age),y=0;else{var b=Math.floor(y/i.targetduration);l+=b,void 0!==c&&(c+=Math.round(y%i.targetduration/i.partTarget)),this.log("CDN Tune-in age: "+i.ageHeader+"s last advanced "+g.toFixed(2)+"s goal: "+y+" skip sn "+b+" to part "+c)}i.tuneInGoal=y}if(u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c),f||!v)return void this.loadPlaylist(u)}else u=this.getDeliveryDirectives(i,t.deliveryDirectives,l,c);var w=Object(o.computeReloadInterval)(i,a);void 0!==l&&i.canBlockReload&&(w-=i.partTarget||1),this.log("reload live playlist "+e+" in "+Math.round(w)+" ms"),this.timer=self.setTimeout((function(){return r.loadPlaylist(u)}),w)}else this.clearTimer()},t.getDeliveryDirectives=function(e,t,n,r){var o=Object(i.getSkipValue)(e,n);return null!==t&&void 0!==t&&t.skip&&e.deltaUpdateFailed&&(n=t.msn,r=t.part,o=i.HlsSkip.No),new i.HlsUrlParameters(n,r,o)},t.retryLoadingOrFail=function(e){var t,n=this,r=this.hls.config,i=this.retryCount<r.levelLoadingMaxRetry;if(i)if(this.retryCount++,e.details.indexOf("LoadTimeOut")>-1&&null!==(t=e.context)&&void 0!==t&&t.deliveryDirectives)this.warn("retry playlist loading #"+this.retryCount+' after "'+e.details+'"'),this.loadPlaylist();else{var o=Math.min(Math.pow(2,this.retryCount)*r.levelLoadingRetryDelay,r.levelLoadingMaxRetryTimeout);this.timer=self.setTimeout((function(){return n.loadPlaylist()}),o),this.warn("retry playlist loading #"+this.retryCount+" in "+o+' ms after "'+e.details+'"')}else this.warn('cannot recover from error "'+e.details+'"'),this.clearTimer(),e.fatal=!0;return i},e}()},"./src/controller/base-stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"State",(function(){return E})),n.d(t,"default",(function(){return S}));var r=n("./src/polyfills/number.ts"),i=n("./src/task-loop.ts"),o=n("./src/controller/fragment-tracker.ts"),a=n("./src/utils/buffer-helper.ts"),s=n("./src/utils/logger.ts"),u=n("./src/events.ts"),l=n("./src/errors.ts"),c=n("./src/types/transmuxer.ts"),f=n("./src/utils/mp4-tools.ts"),d=n("./src/utils/discontinuities.ts"),h=n("./src/controller/fragment-finders.ts"),p=n("./src/controller/level-helper.ts"),v=n("./src/loader/fragment-loader.ts"),g=n("./src/crypt/decrypter.ts"),m=n("./src/utils/time-ranges.ts"),y=n("./src/types/loader.ts");function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}var E={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"},S=function(e){var t,n;function i(t,n,r){var i;return(i=e.call(this)||this).hls=void 0,i.fragPrevious=null,i.fragCurrent=null,i.fragmentTracker=void 0,i.transmuxer=null,i._state=E.STOPPED,i.media=void 0,i.mediaBuffer=void 0,i.config=void 0,i.bitrateTest=!1,i.lastCurrentTime=0,i.nextLoadPosition=0,i.startPosition=0,i.loadedmetadata=!1,i.fragLoadError=0,i.retryDate=0,i.levels=null,i.fragmentLoader=void 0,i.levelLastLoaded=null,i.startFragRequested=!1,i.decrypter=void 0,i.initPTS=[],i.onvseeking=null,i.onvended=null,i.logPrefix="",i.log=void 0,i.warn=void 0,i.logPrefix=r,i.log=s.logger.log.bind(s.logger,r+":"),i.warn=s.logger.warn.bind(s.logger,r+":"),i.hls=t,i.fragmentLoader=new v.default(t.config),i.fragmentTracker=n,i.config=t.config,i.decrypter=new g.default(t,t.config),t.on(u.Events.KEY_LOADED,i.onKeyLoaded,function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i)),i}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,w(t,n);var S,x,T,_=i.prototype;return _.doTick=function(){this.onTickEnd()},_.onTickEnd=function(){},_.startLoad=function(e){},_.stopLoad=function(){this.fragmentLoader.abort();var e=this.fragCurrent;e&&this.fragmentTracker.removeFragment(e),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=E.STOPPED},_._streamEnded=function(e,t){var n=this.fragCurrent,r=this.fragmentTracker;if(!t.live&&n&&n.sn>=t.endSN&&!e.nextStart){var i=t.partList;if(null!==i&&void 0!==i&&i.length){var s=i[i.length-1];return a.BufferHelper.isBuffered(this.media,s.start+s.duration/2)}var u=r.getState(n);return u===o.FragmentState.PARTIAL||u===o.FragmentState.OK}return!1},_.onMediaAttached=function(e,t){var n=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),n.addEventListener("seeking",this.onvseeking),n.addEventListener("ended",this.onvended);var r=this.config;this.levels&&r.autoStartLoad&&this.state===E.STOPPED&&this.startLoad(r.startPosition)},_.onMediaDetaching=function(){var e=this.media;null!==e&&void 0!==e&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()},_.onMediaSeeking=function(){var e=this.config,t=this.fragCurrent,n=this.media,i=this.mediaBuffer,o=this.state,s=n?n.currentTime:0,u=a.BufferHelper.bufferInfo(i||n,s,e.maxBufferHole);if(this.log("media seeking to "+(Object(r.isFiniteNumber)(s)?s.toFixed(3):s)+", state: "+o),o===E.ENDED)this.resetLoadingState();else if(t&&!u.len){var l=e.maxFragLookUpTolerance,c=t.start-l,f=s>t.start+t.duration+l;(s<c||f)&&(f&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.loader.abort()),this.resetLoadingState())}n&&(this.lastCurrentTime=s),this.loadedmetadata||u.len||(this.nextLoadPosition=this.startPosition=s),this.tickImmediate()},_.onMediaEnded=function(){this.startPosition=this.lastCurrentTime=0},_.onKeyLoaded=function(e,t){if(this.state===E.KEY_LOADING&&t.frag===this.fragCurrent&&this.levels){this.state=E.IDLE;var n=this.levels[t.frag.level].details;n&&this.loadFragment(t.frag,n,t.frag.start)}},_.onHandlerDestroying=function(){this.stopLoad(),e.prototype.onHandlerDestroying.call(this)},_.onHandlerDestroyed=function(){this.state=E.STOPPED,this.hls.off(u.Events.KEY_LOADED,this.onKeyLoaded,this),this.fragmentLoader&&this.fragmentLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.fragmentLoader=this.fragmentTracker=null,e.prototype.onHandlerDestroyed.call(this)},_.loadKey=function(e,t){this.log("Loading key for "+e.sn+" of ["+t.startSN+"-"+t.endSN+"], "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level),this.state=E.KEY_LOADING,this.fragCurrent=e,this.hls.trigger(u.Events.KEY_LOADING,{frag:e})},_.loadFragment=function(e,t,n){this._loadFragForPlayback(e,t,n)},_._loadFragForPlayback=function(e,t,n){var r=this;this._doFragLoad(e,t,n,(function(t){if(r.fragContextChanged(e))return r.warn("Fragment "+e.sn+(t.part?" p: "+t.part.index:"")+" of level "+e.level+" was dropped during download."),void r.fragmentTracker.removeFragment(e);e.stats.chunkCount++,r._handleFragmentLoadProgress(t)})).then((function(t){if(t){r.fragLoadError=0;var n=r.state;r.fragContextChanged(e)?(n===E.FRAG_LOADING||!r.fragCurrent&&n===E.PARSING)&&(r.fragmentTracker.removeFragment(e),r.state=E.IDLE):("payload"in t&&(r.log("Loaded fragment "+e.sn+" of level "+e.level),r.hls.trigger(u.Events.FRAG_LOADED,t)),r._handleFragmentLoadComplete(t))}})).catch((function(t){r.state!==E.STOPPED&&(r.warn(t),r.resetFragmentLoading(e))}))},_.flushMainBuffer=function(e,t,n){if(void 0===n&&(n=null),e-t){var r={startOffset:e,endOffset:t,type:n};this.fragLoadError=0,this.hls.trigger(u.Events.BUFFER_FLUSHING,r)}},_._loadInitSegment=function(e){var t=this;this._doFragLoad(e).then((function(n){if(!n||t.fragContextChanged(e)||!t.levels)throw new Error("init load aborted");return n})).then((function(n){var r=t.hls,i=n.payload,o=e.decryptdata;if(i&&i.byteLength>0&&o&&o.key&&o.iv&&"AES-128"===o.method){var a=self.performance.now();return t.decrypter.webCryptoDecrypt(new Uint8Array(i),o.key.buffer,o.iv.buffer).then((function(t){var i=self.performance.now();return r.trigger(u.Events.FRAG_DECRYPTED,{frag:e,payload:t,stats:{tstart:a,tdecrypt:i}}),n.payload=t,n}))}return n})).then((function(n){var r=t.fragCurrent,i=t.hls,o=t.levels;if(!o)throw new Error("init load aborted, missing levels");var a=o[e.level].details;console.assert(a,"Level details are defined when init segment is loaded");var s=e.stats;t.state=E.IDLE,t.fragLoadError=0,e.data=new Uint8Array(n.payload),s.parsing.start=s.buffering.start=self.performance.now(),s.parsing.end=s.buffering.end=self.performance.now(),n.frag===r&&i.trigger(u.Events.FRAG_BUFFERED,{stats:s,frag:r,part:null,id:e.type}),t.tick()})).catch((function(n){t.warn(n),t.resetFragmentLoading(e)}))},_.fragContextChanged=function(e){var t=this.fragCurrent;return!e||!t||e.level!==t.level||e.sn!==t.sn||e.urlId!==t.urlId},_.fragBufferedComplete=function(e,t){var n=this.mediaBuffer?this.mediaBuffer:this.media;this.log("Buffered "+e.type+" sn: "+e.sn+(t?" part: "+t.index:"")+" of "+("[stream-controller]"===this.logPrefix?"level":"track")+" "+e.level+" "+m.default.toString(a.BufferHelper.getBuffered(n))),this.state=E.IDLE,this.tick()},_._handleFragmentLoadComplete=function(e){var t=this.transmuxer;if(t){var n=e.frag,r=e.part,i=e.partsLoaded,o=!i||0===i.length||i.some((function(e){return!e})),a=new c.ChunkMetadata(n.level,n.sn,n.stats.chunkCount+1,0,r?r.index:-1,!o);t.flush(a)}},_._handleFragmentLoadProgress=function(e){},_._doFragLoad=function(e,t,n,i){var o=this;if(void 0===n&&(n=null),!this.levels)throw new Error("frag load aborted, missing levels");if(n=Math.max(e.start,n||0),this.config.lowLatencyMode&&t){var a=t.partList;if(a&&i){n>e.end&&t.fragmentHint&&(e=t.fragmentHint);var s=this.getNextPart(a,e,n);if(s>-1){var l=a[s];return this.log("Loading part sn: "+e.sn+" p: "+l.index+" cc: "+e.cc+" of playlist ["+t.startSN+"-"+t.endSN+"] parts [0-"+s+"-"+(a.length-1)+"] "+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),this.nextLoadPosition=l.start+l.duration,this.state=E.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,part:a[s],targetBufferTime:n}),this.doFragPartsLoad(e,a,s,i).catch((function(e){return o.handleFragLoadError(e)}))}if(!e.url||this.loadedEndOfParts(a,n))return Promise.resolve(null)}}return this.log("Loading fragment "+e.sn+" cc: "+e.cc+" "+(t?"of ["+t.startSN+"-"+t.endSN+"] ":"")+("[stream-controller]"===this.logPrefix?"level":"track")+": "+e.level+", target: "+parseFloat(n.toFixed(3))),Object(r.isFiniteNumber)(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=E.FRAG_LOADING,this.hls.trigger(u.Events.FRAG_LOADING,{frag:e,targetBufferTime:n}),this.fragmentLoader.load(e,i).catch((function(e){return o.handleFragLoadError(e)}))},_.doFragPartsLoad=function(e,t,n,r){var i=this;return new Promise((function(o,a){var s=[];!function n(l){var c=t[l];i.fragmentLoader.loadPart(e,c,r).then((function(r){s[c.index]=r;var a=r.part;i.hls.trigger(u.Events.FRAG_LOADED,r);var f=t[l+1];if(!f||f.fragment!==e)return o({frag:e,part:a,partsLoaded:s});n(l+1)})).catch(a)}(n)}))},_.handleFragLoadError=function(e){var t=e.data;return t&&t.details===l.ErrorDetails.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(u.Events.ERROR,t),null},_._handleTransmuxerFlush=function(e){var t=this.getCurrentContext(e);if(t&&this.state===E.PARSING){var n=t.frag,r=t.part,i=t.level,o=self.performance.now();n.stats.parsing.end=o,r&&(r.stats.parsing.end=o),this.updateLevelTiming(n,r,i,e.partial)}else this.fragCurrent||(this.state=E.IDLE)},_.getCurrentContext=function(e){var t=this.levels,n=e.level,r=e.sn,i=e.part;if(!t||!t[n])return this.warn("Levels object was unset while buffering fragment "+r+" of level "+n+". The current chunk will not be buffered."),null;var o=t[n],a=i>-1?Object(p.getPartWith)(o,r,i):null,s=a?a.fragment:Object(p.getFragmentWithSN)(o,r,this.fragCurrent);return s?{frag:s,part:a,level:o}:null},_.bufferFragmentData=function(e,t,n,r){if(e&&this.state===E.PARSING){var i=e.data1,o=e.data2,a=i;if(i&&o&&(a=Object(f.appendUint8Array)(i,o)),a&&a.length){var s={type:e.type,frag:t,part:n,chunkMeta:r,parent:t.type,data:a};this.hls.trigger(u.Events.BUFFER_APPENDING,s),e.dropped&&e.independent&&!n&&this.flushBufferGap(t)}}},_.flushBufferGap=function(e){var t=this.media;if(t)if(a.BufferHelper.isBuffered(t,t.currentTime)){var n=t.currentTime,r=a.BufferHelper.bufferInfo(t,n,0),i=e.duration,o=Math.min(2*this.config.maxFragLookUpTolerance,.25*i),s=Math.max(Math.min(e.start-o,r.end-o),n+o);e.start-s>o&&this.flushMainBuffer(s,e.start)}else this.flushMainBuffer(0,e.start)},_.getFwdBufferInfo=function(e,t){var n=this.config,i=this.getLoadPosition();if(!Object(r.isFiniteNumber)(i))return null;var o=a.BufferHelper.bufferInfo(e,i,n.maxBufferHole);if(0===o.len&&void 0!==o.nextStart){var s=this.fragmentTracker.getBufferedFrag(i,t);if(s&&o.nextStart<s.end)return a.BufferHelper.bufferInfo(e,i,Math.max(o.nextStart,n.maxBufferHole))}return o},_.getMaxBufferLength=function(e){var t,n=this.config;return t=e?Math.max(8*n.maxBufferSize/e,n.maxBufferLength):n.maxBufferLength,Math.min(t,n.maxMaxBufferLength)},_.reduceMaxBufferLength=function(e){var t=this.config,n=e||t.maxBufferLength;return t.maxMaxBufferLength>=n&&(t.maxMaxBufferLength/=2,this.warn("Reduce max buffer length to "+t.maxMaxBufferLength+"s"),!0)},_.getNextFragment=function(e,t){var n,r,i=t.fragments,o=i.length;if(!o)return null;var a,s=this.config,u=i[0].start;if(t.live){var l=s.initialLiveManifestSize;if(o<l)return this.warn("Not enough fragments to start playback (have: "+o+", need: "+l+")"),null;t.PTSKnown||this.startFragRequested||-1!==this.startPosition||(a=this.getInitialLiveFragment(t,i),this.startPosition=a?this.hls.liveSyncPosition||a.start:e)}else e<=u&&(a=i[0]);if(!a){var c=s.lowLatencyMode?t.partEnd:t.fragmentEnd;a=this.getFragmentAtPosition(e,c,t)}return null===(n=a)||void 0===n||!n.initSegment||null!==(r=a)&&void 0!==r&&r.initSegment.data||this.bitrateTest||(a=a.initSegment),a},_.getNextPart=function(e,t,n){for(var r=-1,i=!1,o=!0,a=0,s=e.length;a<s;a++){var u=e[a];if(o=o&&!u.independent,r>-1&&n<u.start)break;var l=u.loaded;!l&&(i||u.independent||o)&&u.fragment===t&&(r=a),i=l}return r},_.loadedEndOfParts=function(e,t){var n=e[e.length-1];return n&&t>n.start&&n.loaded},_.getInitialLiveFragment=function(e,t){var n=this.fragPrevious,r=null;if(n){if(e.hasProgramDateTime&&(this.log("Live playlist, switching playlist, load frag with same PDT: "+n.programDateTime),r=Object(h.findFragmentByPDT)(t,n.endProgramDateTime,this.config.maxFragLookUpTolerance)),!r){var i=n.sn+1;if(i>=e.startSN&&i<=e.endSN){var o=t[i-e.startSN];n.cc===o.cc&&(r=o,this.log("Live playlist, switching playlist, load frag with next SN: "+r.sn))}r||(r=Object(h.findFragWithCC)(t,n.cc))&&this.log("Live playlist, switching playlist, load frag with same CC: "+r.sn)}}else{var a=this.hls.liveSyncPosition;null!==a&&(r=this.getFragmentAtPosition(a,this.bitrateTest?e.fragmentEnd:e.edge,e))}return r},_.getFragmentAtPosition=function(e,t,n){var r,i=this.config,a=this.fragPrevious,s=n.fragments,u=n.endSN,l=n.fragmentHint,c=i.maxFragLookUpTolerance,f=!!(i.lowLatencyMode&&n.partList&&l);if(f&&l&&!this.bitrateTest&&(s=s.concat(l),u=l.sn),e<t){var d=e>t-c?0:c;r=Object(h.findFragmentByPTS)(a,s,e,d)}else r=s[s.length-1];if(r){var p=r.sn-n.startSN,v=a&&r.level===a.level,g=s[p+1];a&&r.sn===a.sn&&!f&&v&&(r.sn<u&&this.fragmentTracker.getState(g)!==o.FragmentState.OK?(this.log("SN "+r.sn+" just loaded, load next one: "+g.sn),r=g):r=null)}return r},_.synchronizeToLiveEdge=function(e){var t=this.config,n=this.media;if(n){var r=this.hls.liveSyncPosition,i=n.currentTime,o=e.fragments[0].start,a=e.edge,s=i>=o-t.maxFragLookUpTolerance&&i<=a;if(null!==r&&n.duration>r&&(i<r||!s)){var u=void 0!==t.liveMaxLatencyDuration?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!s&&n.readyState<4||i<a-u)&&(this.loadedmetadata||(this.nextLoadPosition=r),n.readyState&&(this.warn("Playback: "+i.toFixed(3)+" is located too far from the end of live sliding playlist: "+a+", reset currentTime to : "+r.toFixed(3)),n.currentTime=r))}}},_.alignPlaylists=function(e,t){var n=this.levels,i=this.levelLastLoaded,o=this.fragPrevious,a=null!==i?n[i]:null,s=e.fragments.length;if(!s)return this.warn("No fragments in live playlist"),0;var u=e.fragments[0].start,l=!t,c=e.alignedSliding&&Object(r.isFiniteNumber)(u);if(l||!c&&!u){Object(d.alignStream)(o,a,e);var f=e.fragments[0].start;return this.log("Live playlist sliding: "+f.toFixed(2)+" start-sn: "+(t?t.startSN:"na")+"->"+e.startSN+" prev-sn: "+(o?o.sn:"na")+" fragments: "+s),f}return u},_.waitForCdnTuneIn=function(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,3*e.partTarget)},_.setStartPosition=function(e,t){var n=this.startPosition;if(n<t&&(n=-1),-1===n||-1===this.lastCurrentTime){var i=e.startTimeOffset;Object(r.isFiniteNumber)(i)?(n=t+i,i<0&&(n+=e.totalduration),n=Math.min(Math.max(t,n),t+e.totalduration),this.log("Start time offset "+i+" found in playlist, adjust startPosition to "+n),this.startPosition=n):e.live?n=this.hls.liveSyncPosition||t:this.startPosition=n=0,this.lastCurrentTime=n}this.nextLoadPosition=n},_.getLoadPosition=function(){var e=this.media,t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t},_.handleFragLoadAborted=function(e,t){this.transmuxer&&"initSegment"!==e.sn&&e.stats.aborted&&(this.warn("Fragment "+e.sn+(t?" part"+t.index:"")+" of level "+e.level+" was aborted"),this.resetFragmentLoading(e))},_.resetFragmentLoading=function(e){this.fragCurrent&&this.fragContextChanged(e)||(this.state=E.IDLE)},_.onFragmentOrKeyLoadError=function(e,t){if(!t.fatal){var n=t.frag;if(n&&n.type===e){var r=this.fragCurrent;console.assert(r&&n.sn===r.sn&&n.level===r.level&&n.urlId===r.urlId,"Frag load error must match current frag to retry");var i=this.config;if(this.fragLoadError+1<=i.fragLoadingMaxRetry){if(this.resetLiveStartWhenNotLoaded(n.level))return;var o=Math.min(Math.pow(2,this.fragLoadError)*i.fragLoadingRetryDelay,i.fragLoadingMaxRetryTimeout);this.warn("Fragment "+n.sn+" of "+e+" "+n.level+" failed to load, retrying in "+o+"ms"),this.retryDate=self.performance.now()+o,this.fragLoadError++,this.state=E.FRAG_LOADING_WAITING_RETRY}else t.levelRetry?(e===y.PlaylistLevelType.AUDIO&&(this.fragCurrent=null),this.fragLoadError=0,this.state=E.IDLE):(s.logger.error(t.details+" reaches max retry, redispatch as fatal ..."),t.fatal=!0,this.hls.stopLoad(),this.state=E.ERROR)}}},_.afterBufferFlushed=function(e,t,n){if(e){var r=a.BufferHelper.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,r,n),this.state===E.ENDED&&this.resetLoadingState()}},_.resetLoadingState=function(){this.fragCurrent=null,this.fragPrevious=null,this.state=E.IDLE},_.resetLiveStartWhenNotLoaded=function(e){if(!this.loadedmetadata){this.startFragRequested=!1;var t=this.levels?this.levels[e].details:null;if(null!==t&&void 0!==t&&t.live)return this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState(),!0;this.nextLoadPosition=this.startPosition}return!1},_.updateLevelTiming=function(e,t,n,r){var i=this,o=n.details;console.assert(!!o,"level.details must be defined"),Object.keys(e.elementaryStreams).reduce((function(t,a){var s=e.elementaryStreams[a];if(s){var l=s.endPTS-s.startPTS;if(l<=0)return i.warn("Could not parse fragment "+e.sn+" "+a+" duration reliably ("+l+")"),t||!1;var c=r?0:Object(p.updateFragPTSDTS)(o,e,s.startPTS,s.endPTS,s.startDTS,s.endDTS);return i.hls.trigger(u.Events.LEVEL_PTS_UPDATED,{details:o,level:n,drift:c,type:a,frag:e,start:s.startPTS,end:s.endPTS}),!0}return t}),!1)||(this.warn("Found no media in fragment "+e.sn+" of level "+n.id+" resetting transmuxer to fallback to playlist timing"),this.resetTransmuxer()),this.state=E.PARSED,this.hls.trigger(u.Events.FRAG_PARSED,{frag:e,part:t})},_.resetTransmuxer=function(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)},S=i,(x=[{key:"state",get:function(){return this._state},set:function(e){var t=this._state;t!==e&&(this._state=e,this.log(t+"->"+e))}}])&&b(S.prototype,x),T&&b(S,T),Object.defineProperty(S,"prototype",{writable:!1}),i}(i.default)},"./src/controller/buffer-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./src/errors.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./src/loader/fragment.ts"),c=n("./src/controller/buffer-operation-queue.ts"),f=Object(u.getMediaSource)(),d=/([ha]vc.)(?:\.[^.,]+)+/,h=function(){function e(e){var t=this;this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.appendError=0,this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this._onMediaSourceOpen=function(){var e=t.hls,n=t.media,r=t.mediaSource;o.logger.log("[buffer-controller]: Media source opened"),n&&(t.updateMediaElementDuration(),e.trigger(i.Events.MEDIA_ATTACHED,{media:n})),r&&r.removeEventListener("sourceopen",t._onMediaSourceOpen),t.checkPendingTracks()},this._onMediaSourceClose=function(){o.logger.log("[buffer-controller]: Media source closed")},this._onMediaSourceEnded=function(){o.logger.log("[buffer-controller]: Media source ended")},this.hls=e,this._initSourceBuffer(),this.registerListeners()}var t=e.prototype;return t.hasSourceTypes=function(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0},t.destroy=function(){this.unregisterListeners(),this.details=null},t.registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(i.Events.BUFFER_RESET,this.onBufferReset,this),e.on(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.on(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(i.Events.BUFFER_EOS,this.onBufferEos,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(i.Events.FRAG_PARSED,this.onFragParsed,this),e.on(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(i.Events.BUFFER_RESET,this.onBufferReset,this),e.off(i.Events.BUFFER_APPENDING,this.onBufferAppending,this),e.off(i.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(i.Events.BUFFER_EOS,this.onBufferEos,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(i.Events.FRAG_PARSED,this.onFragParsed,this),e.off(i.Events.FRAG_CHANGED,this.onFragChanged,this)},t._initSourceBuffer=function(){this.sourceBuffer={},this.operationQueue=new c.default(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]}},t.onManifestParsed=function(e,t){var n=2;(t.audio&&!t.video||!t.altAudio)&&(n=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=n,this.details=null,o.logger.log(this.bufferCodecEventsExpected+" bufferCodec event(s) expected")},t.onMediaAttaching=function(e,t){var n=this.media=t.media;if(n&&f){var r=this.mediaSource=new f;r.addEventListener("sourceopen",this._onMediaSourceOpen),r.addEventListener("sourceended",this._onMediaSourceEnded),r.addEventListener("sourceclose",this._onMediaSourceClose),n.src=self.URL.createObjectURL(r),this._objectUrl=n.src}},t.onMediaDetaching=function(){var e=this.media,t=this.mediaSource,n=this._objectUrl;if(t){if(o.logger.log("[buffer-controller]: media source detaching"),"open"===t.readyState)try{t.endOfStream()}catch(r){o.logger.warn("[buffer-controller]: onMediaDetaching: "+r.message+" while calling endOfStream")}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),e&&(n&&self.URL.revokeObjectURL(n),e.src===n?(e.removeAttribute("src"),e.load()):o.logger.warn("[buffer-controller]: media.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(i.Events.MEDIA_DETACHED,void 0)},t.onBufferReset=function(){var e=this;this.getSourceBufferTypes().forEach((function(t){var n=e.sourceBuffer[t];try{n&&(e.removeBufferListeners(t),e.mediaSource&&e.mediaSource.removeSourceBuffer(n),e.sourceBuffer[t]=void 0)}catch(r){o.logger.warn("[buffer-controller]: Failed to reset the "+t+" buffer",r)}})),this._initSourceBuffer()},t.onBufferCodecs=function(e,t){var n=this,r=this.getSourceBufferTypes().length;Object.keys(t).forEach((function(e){if(r){var i=n.tracks[e];if(i&&"function"===typeof i.buffer.changeType){var a=t[e],s=a.id,u=a.codec,l=a.levelCodec,c=a.container,f=a.metadata,h=(i.levelCodec||i.codec).replace(d,"$1"),p=(l||u).replace(d,"$1");if(h!==p){var v=c+";codecs="+(l||u);n.appendChangeType(e,v),o.logger.log("[buffer-controller]: switching codec "+h+" to "+p),n.tracks[e]={buffer:i.buffer,codec:u,container:c,levelCodec:l,metadata:f,id:s}}}}else n.pendingTracks[e]=t[e]})),r||(this.bufferCodecEventsExpected=Math.max(this.bufferCodecEventsExpected-1,0),this.mediaSource&&"open"===this.mediaSource.readyState&&this.checkPendingTracks())},t.appendChangeType=function(e,t){var n=this,r=this.operationQueue,i={execute:function(){var i=n.sourceBuffer[e];i&&(o.logger.log("[buffer-controller]: changing "+e+" sourceBuffer type to "+t),i.changeType(t)),r.shiftAndExecuteNext(e)},onStart:function(){},onComplete:function(){},onError:function(t){o.logger.warn("[buffer-controller]: Failed to change "+e+" SourceBuffer type",t)}};r.append(i,e)},t.onBufferAppending=function(e,t){var n=this,r=this.hls,u=this.operationQueue,l=this.tracks,c=t.data,f=t.type,d=t.frag,h=t.part,p=t.chunkMeta,v=p.buffering[f],g=self.performance.now();v.start=g;var m=d.stats.buffering,y=h?h.stats.buffering:null;0===m.start&&(m.start=g),y&&0===y.start&&(y.start=g);var b=l.audio,w="audio"===f&&1===p.id&&"audio/mpeg"===(null===b||void 0===b?void 0:b.container),E={execute:function(){if(v.executeStart=self.performance.now(),w){var e=n.sourceBuffer[f];if(e){var t=d.start-e.timestampOffset;Math.abs(t)>=.1&&(o.logger.log("[buffer-controller]: Updating audio SourceBuffer timestampOffset to "+d.start+" (delta: "+t+") sn: "+d.sn+")"),e.timestampOffset=d.start)}}n.appendExecutor(c,f)},onStart:function(){},onComplete:function(){var e=self.performance.now();v.executeEnd=v.end=e,0===m.first&&(m.first=e),y&&0===y.first&&(y.first=e);var t=n.sourceBuffer,r={};for(var o in t)r[o]=s.BufferHelper.getBuffered(t[o]);n.appendError=0,n.hls.trigger(i.Events.BUFFER_APPENDED,{type:f,frag:d,part:h,chunkMeta:p,parent:d.type,timeRanges:r})},onError:function(e){o.logger.error("[buffer-controller]: Error encountered while trying to append to the "+f+" SourceBuffer",e);var t={type:a.ErrorTypes.MEDIA_ERROR,parent:d.type,details:a.ErrorDetails.BUFFER_APPEND_ERROR,err:e,fatal:!1};e.code===DOMException.QUOTA_EXCEEDED_ERR?t.details=a.ErrorDetails.BUFFER_FULL_ERROR:(n.appendError++,t.details=a.ErrorDetails.BUFFER_APPEND_ERROR,n.appendError>r.config.appendErrorMaxRetry&&(o.logger.error("[buffer-controller]: Failed "+r.config.appendErrorMaxRetry+" times to append segment in sourceBuffer"),t.fatal=!0)),r.trigger(i.Events.ERROR,t)}};u.append(E,f)},t.onBufferFlushing=function(e,t){var n=this,r=this.operationQueue,a=function(e){return{execute:n.removeExecutor.bind(n,e,t.startOffset,t.endOffset),onStart:function(){},onComplete:function(){n.hls.trigger(i.Events.BUFFER_FLUSHED,{type:e})},onError:function(t){o.logger.warn("[buffer-controller]: Failed to remove from "+e+" SourceBuffer",t)}}};t.type?r.append(a(t.type),t.type):this.getSourceBufferTypes().forEach((function(e){r.append(a(e),e)}))},t.onFragParsed=function(e,t){var n=this,r=t.frag,a=t.part,s=[],u=a?a.elementaryStreams:r.elementaryStreams;u[l.ElementaryStreamTypes.AUDIOVIDEO]?s.push("audiovideo"):(u[l.ElementaryStreamTypes.AUDIO]&&s.push("audio"),u[l.ElementaryStreamTypes.VIDEO]&&s.push("video")),0===s.length&&o.logger.warn("Fragments must have at least one ElementaryStreamType set. type: "+r.type+" level: "+r.level+" sn: "+r.sn),this.blockBuffers((function(){var e=self.performance.now();r.stats.buffering.end=e,a&&(a.stats.buffering.end=e);var t=a?a.stats:r.stats;n.hls.trigger(i.Events.FRAG_BUFFERED,{frag:r,part:a,stats:t,id:r.type})}),s)},t.onFragChanged=function(e,t){this.flushBackBuffer()},t.onBufferEos=function(e,t){var n=this;this.getSourceBufferTypes().reduce((function(e,r){var i=n.sourceBuffer[r];return t.type&&t.type!==r||i&&!i.ended&&(i.ended=!0,o.logger.log("[buffer-controller]: "+r+" sourceBuffer now EOS")),e&&!(i&&!i.ended)}),!0)&&this.blockBuffers((function(){var e=n.mediaSource;e&&"open"===e.readyState&&e.endOfStream()}))},t.onLevelUpdated=function(e,t){var n=t.details;n.fragments.length&&(this.details=n,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())},t.flushBackBuffer=function(){var e=this.hls,t=this.details,n=this.media,o=this.sourceBuffer;if(n&&null!==t){var a=this.getSourceBufferTypes();if(a.length){var u=t.live&&null!==e.config.liveBackBufferLength?e.config.liveBackBufferLength:e.config.backBufferLength;if(Object(r.isFiniteNumber)(u)&&!(u<0)){var l=n.currentTime,c=t.levelTargetDuration,f=Math.max(u,c),d=Math.floor(l/c)*c-f;a.forEach((function(n){var r=o[n];if(r){var a=s.BufferHelper.getBuffered(r);a.length>0&&d>a.start(0)&&(e.trigger(i.Events.BACK_BUFFER_REACHED,{bufferEnd:d}),t.live&&e.trigger(i.Events.LIVE_BACK_BUFFER_REACHED,{bufferEnd:d}),e.trigger(i.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:d,type:n}))}}))}}}},t.updateMediaElementDuration=function(){if(this.details&&this.media&&this.mediaSource&&"open"===this.mediaSource.readyState){var e=this.details,t=this.hls,n=this.media,i=this.mediaSource,a=e.fragments[0].start+e.totalduration,s=n.duration,u=Object(r.isFiniteNumber)(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(o.logger.log("[buffer-controller]: Media Source duration is set to Infinity"),i.duration=1/0,this.updateSeekableRange(e)):(a>u&&a>s||!Object(r.isFiniteNumber)(s))&&(o.logger.log("[buffer-controller]: Updating Media Source duration to "+a.toFixed(3)),i.duration=a)}},t.updateSeekableRange=function(e){var t=this.mediaSource,n=e.fragments;if(n.length&&e.live&&null!==t&&void 0!==t&&t.setLiveSeekableRange){var r=Math.max(0,n[0].start),i=Math.max(r,r+e.totalduration);t.setLiveSeekableRange(r,i)}},t.checkPendingTracks=function(){var e=this.bufferCodecEventsExpected,t=this.operationQueue,n=this.pendingTracks,r=Object.keys(n).length;if(r&&!e||2===r){this.createSourceBuffers(n),this.pendingTracks={};var o=this.getSourceBufferTypes();if(0===o.length)return void this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,reason:"could not create source buffer for media codec(s)"});o.forEach((function(e){t.executeNext(e)}))}},t.createSourceBuffers=function(e){var t=this.sourceBuffer,n=this.mediaSource;if(!n)throw Error("createSourceBuffers called when mediaSource was null");var r=0;for(var s in e)if(!t[s]){var u=e[s];if(!u)throw Error("source buffer exists for track "+s+", however track does not");var l=u.levelCodec||u.codec,c=u.container+";codecs="+l;o.logger.log("[buffer-controller]: creating sourceBuffer("+c+")");try{var f=t[s]=n.addSourceBuffer(c),d=s;this.addBufferListener(d,"updatestart",this._onSBUpdateStart),this.addBufferListener(d,"updateend",this._onSBUpdateEnd),this.addBufferListener(d,"error",this._onSBUpdateError),this.tracks[s]={buffer:f,codec:l,container:u.container,levelCodec:u.levelCodec,metadata:u.metadata,id:u.id},r++}catch(h){o.logger.error("[buffer-controller]: error while trying to add sourceBuffer: "+h.message),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,mimeType:c})}}r&&this.hls.trigger(i.Events.BUFFER_CREATED,{tracks:this.tracks})},t._onSBUpdateStart=function(e){this.operationQueue.current(e).onStart()},t._onSBUpdateEnd=function(e){var t=this.operationQueue;t.current(e).onComplete(),t.shiftAndExecuteNext(e)},t._onSBUpdateError=function(e,t){o.logger.error("[buffer-controller]: "+e+" SourceBuffer error",t),this.hls.trigger(i.Events.ERROR,{type:a.ErrorTypes.MEDIA_ERROR,details:a.ErrorDetails.BUFFER_APPENDING_ERROR,fatal:!1});var n=this.operationQueue.current(e);n&&n.onError(t)},t.removeExecutor=function(e,t,n){var i=this.media,a=this.mediaSource,s=this.operationQueue,u=this.sourceBuffer[e];if(!i||!a||!u)return o.logger.warn("[buffer-controller]: Attempting to remove from the "+e+" SourceBuffer, but it does not exist"),void s.shiftAndExecuteNext(e);var l=Object(r.isFiniteNumber)(i.duration)?i.duration:1/0,c=Object(r.isFiniteNumber)(a.duration)?a.duration:1/0,f=Math.max(0,t),d=Math.min(n,l,c);d>f?(o.logger.log("[buffer-controller]: Removing ["+f+","+d+"] from the "+e+" SourceBuffer"),console.assert(!u.updating,e+" sourceBuffer must not be updating"),u.remove(f,d)):s.shiftAndExecuteNext(e)},t.appendExecutor=function(e,t){var n=this.operationQueue,r=this.sourceBuffer[t];if(!r)return o.logger.warn("[buffer-controller]: Attempting to append to the "+t+" SourceBuffer, but it does not exist"),void n.shiftAndExecuteNext(t);r.ended=!1,console.assert(!r.updating,t+" sourceBuffer must not be updating"),r.appendBuffer(e)},t.blockBuffers=function(e,t){var n=this;if(void 0===t&&(t=this.getSourceBufferTypes()),!t.length)return o.logger.log("[buffer-controller]: Blocking operation requested, but no SourceBuffers exist"),void Promise.resolve().then(e);var r=this.operationQueue,i=t.map((function(e){return r.appendBlocker(e)}));Promise.all(i).then((function(){e(),t.forEach((function(e){var t=n.sourceBuffer[e];t&&t.updating||r.shiftAndExecuteNext(e)}))}))},t.getSourceBufferTypes=function(){return Object.keys(this.sourceBuffer)},t.addBufferListener=function(e,t,n){var r=this.sourceBuffer[e];if(r){var i=n.bind(this,e);this.listeners[e].push({event:t,listener:i}),r.addEventListener(t,i)}},t.removeBufferListeners=function(e){var t=this.sourceBuffer[e];t&&this.listeners[e].forEach((function(e){t.removeEventListener(e.event,e.listener)}))},e}()},"./src/controller/buffer-operation-queue.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}var t=e.prototype;return t.append=function(e,t){var n=this.queues[t];n.push(e),1===n.length&&this.buffers[t]&&this.executeNext(t)},t.insertAbort=function(e,t){this.queues[t].unshift(e),this.executeNext(t)},t.appendBlocker=function(e){var t,n=new Promise((function(e){t=e})),r={execute:t,onStart:function(){},onComplete:function(){},onError:function(){}};return this.append(r,e),n},t.executeNext=function(e){var t=this.buffers,n=this.queues,i=t[e],o=n[e];if(o.length){var a=o[0];try{a.execute()}catch(s){r.logger.warn("[buffer-operation-queue]: Unhandled exception executing the current operation"),a.onError(s),i&&i.updating||(o.shift(),this.executeNext(e))}}},t.shiftAndExecuteNext=function(e){this.queues[e].shift(),this.executeNext(e)},t.current=function(e){return this.queues[e][0]},e}()},"./src/controller/cap-level-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.hls=void 0,this.streamController=void 0,this.clientRect=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}var t,n,o,a=e.prototype;return a.setStreamController=function(e){this.streamController=e},a.destroy=function(){this.unregisterListener(),this.hls.config.capLevelToPlayerSize&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null},a.registerListeners=function(){var e=this.hls;e.on(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.unregisterListener=function(){var e=this.hls;e.off(r.Events.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.BUFFER_CODECS,this.onBufferCodecs,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this)},a.onFpsDropLevelCapping=function(t,n){e.isLevelAllowed(n.droppedLevel,this.restrictedLevels)&&this.restrictedLevels.push(n.droppedLevel)},a.onMediaAttaching=function(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null},a.onManifestParsed=function(e,t){var n=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,n.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onBufferCodecs=function(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()},a.onMediaDetaching=function(){this.stopCapping()},a.detectPlayerSize=function(){if(this.media&&this.mediaHeight>0&&this.mediaWidth>0){var e=this.hls.levels;if(e.length){var t=this.hls;t.autoLevelCapping=this.getMaxLevel(e.length-1),t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}},a.getMaxLevel=function(t){var n=this,r=this.hls.levels;if(!r.length)return-1;var i=r.filter((function(r,i){return e.isLevelAllowed(i,n.restrictedLevels)&&i<=t}));return this.clientRect=null,e.getMaxLevelByMediaSize(i,this.mediaWidth,this.mediaHeight)},a.startCapping=function(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,this.hls.firstLevel=this.getMaxLevel(this.firstLevel),self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())},a.stopCapping=function(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)},a.getDimensions=function(){if(this.clientRect)return this.clientRect;var e=this.media,t={width:0,height:0};if(e){var n=e.getBoundingClientRect();t.width=n.width,t.height=n.height,t.width||t.height||(t.width=n.right-n.left||e.width||0,t.height=n.bottom-n.top||e.height||0)}return this.clientRect=t,t},e.isLevelAllowed=function(e,t){return void 0===t&&(t=[]),-1===t.indexOf(e)},e.getMaxLevelByMediaSize=function(e,t,n){if(!e||!e.length)return-1;for(var r,i,o=e.length-1,a=0;a<e.length;a+=1){var s=e[a];if((s.width>=t||s.height>=n)&&(r=s,!(i=e[a+1])||r.width!==i.width||r.height!==i.height)){o=a;break}}return o},t=e,(n=[{key:"mediaWidth",get:function(){return this.getDimensions().width*this.contentScaleFactor}},{key:"mediaHeight",get:function(){return this.getDimensions().height*this.contentScaleFactor}},{key:"contentScaleFactor",get:function(){var e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch(t){}return e}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=o},"./src/controller/cmcd-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n("./src/events.ts"),i=n("./src/types/cmcd.ts"),o=n("./src/utils/buffer-helper.ts"),a=n("./src/utils/logger.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function l(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"===typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var d=function(){function e(t){var n=this;this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=function(){n.initialized&&(n.starved=!0),n.buffering=!0},this.onPlaying=function(){n.initialized||(n.initialized=!0),n.buffering=!1},this.applyPlaylistData=function(e){try{n.apply(e,{ot:i.CMCDObjectType.MANIFEST,su:!n.initialized})}catch(t){a.logger.warn("Could not generate manifest CMCD data.",t)}},this.applyFragmentData=function(e){try{var t=e.frag,r=n.hls.levels[t.level],o=n.getObjectType(t),s={d:1e3*t.duration,ot:o};o!==i.CMCDObjectType.VIDEO&&o!==i.CMCDObjectType.AUDIO&&o!=i.CMCDObjectType.MUXED||(s.br=r.bitrate/1e3,s.tb=n.getTopBandwidth(o)/1e3,s.bl=n.getBufferLength(o)),n.apply(e,s)}catch(u){a.logger.warn("Could not generate segment CMCD data.",u)}},this.hls=t;var r=this.config=t.config,o=r.cmcd;null!=o&&(r.pLoader=this.createPlaylistLoader(),r.fLoader=this.createFragmentLoader(),this.sid=o.sessionId||e.uuid(),this.cid=o.contentId,this.useHeaders=!0===o.useHeaders,this.registerListeners())}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.on(r.Events.BUFFER_CREATED,this.onBufferCreated,this)},t.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),e.off(r.Events.BUFFER_CREATED,this.onBufferCreated,this),this.onMediaDetached()},t.destroy=function(){this.unregisterListeners(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null},t.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)},t.onMediaDetached=function(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)},t.onBufferCreated=function(e,t){var n,r;this.audioBuffer=null===(n=t.tracks.audio)||void 0===n?void 0:n.buffer,this.videoBuffer=null===(r=t.tracks.video)||void 0===r?void 0:r.buffer},t.createData=function(){var e;return{v:i.CMCDVersion,sf:i.CMCDStreamingFormat.HLS,sid:this.sid,cid:this.cid,pr:null===(e=this.media)||void 0===e?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}},t.apply=function(t,n){void 0===n&&(n={}),f(n,this.createData());var r=n.ot===i.CMCDObjectType.INIT||n.ot===i.CMCDObjectType.VIDEO||n.ot===i.CMCDObjectType.MUXED;if(this.starved&&r&&(n.bs=!0,n.su=!0,this.starved=!1),null==n.su&&(n.su=this.buffering),this.useHeaders){var o=e.toHeaders(n);if(!Object.keys(o).length)return;t.headers||(t.headers={}),f(t.headers,o)}else{var a=e.toQuery(n);if(!a)return;t.url=e.appendQueryToUri(t.url,a)}},t.getObjectType=function(e){var t=e.type;return"subtitle"===t?i.CMCDObjectType.TIMED_TEXT:"initSegment"===e.sn?i.CMCDObjectType.INIT:"audio"===t?i.CMCDObjectType.AUDIO:"main"===t?this.hls.audioTracks.length?i.CMCDObjectType.VIDEO:i.CMCDObjectType.MUXED:void 0},t.getTopBandwidth=function(e){var t,n=0,r=this.hls;if(e===i.CMCDObjectType.AUDIO)t=r.audioTracks;else{var o=r.maxAutoLevel,a=o>-1?o+1:r.levels.length;t=r.levels.slice(0,a)}for(var s,u=l(t);!(s=u()).done;){var c=s.value;c.bitrate>n&&(n=c.bitrate)}return n>0?n:NaN},t.getBufferLength=function(e){var t=this.hls.media,n=e===i.CMCDObjectType.AUDIO?this.audioBuffer:this.videoBuffer;return n&&t?1e3*o.BufferHelper.bufferInfo(n,t.currentTime,this.config.maxBufferHole).len:NaN},t.createPlaylistLoader=function(){var e=this.config.pLoader,t=this.applyPlaylistData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},u(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},t.createFragmentLoader=function(){var e=this.config.fLoader,t=this.applyFragmentData,n=e||this.config.loader;return function(){function e(e){this.loader=void 0,this.loader=new n(e)}var r=e.prototype;return r.destroy=function(){this.loader.destroy()},r.abort=function(){this.loader.abort()},r.load=function(e,n,r){t(e),this.loader.load(e,n,r)},u(e,[{key:"stats",get:function(){return this.loader.stats}},{key:"context",get:function(){return this.loader.context}}]),e}()},e.uuid=function(){var e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)},e.serialize=function(e){for(var t,n=[],r=function(e){return!Number.isNaN(e)&&null!=e&&""!==e&&!1!==e},i=function(e){return Math.round(e)},o=function(e){return 100*i(e/100)},a={br:i,d:i,bl:o,dl:o,mtp:o,nor:function(e){return encodeURIComponent(e)},rtp:o,tb:i},s=l(Object.keys(e||{}).sort());!(t=s()).done;){var u=t.value,c=e[u];if(r(c)&&("v"!==u||1!==c)&&("pr"!=u||1!==c)){var f=a[u];f&&(c=f(c));var d=typeof c,h=void 0;h="ot"===u||"sf"===u||"st"===u?u+"="+c:"boolean"===d?u:"number"===d?u+"="+c:u+"="+JSON.stringify(c),n.push(h)}}return n.join(",")},e.toHeaders=function(t){for(var n={},r=["Object","Request","Session","Status"],i=[{},{},{},{}],o={br:0,d:0,ot:0,tb:0,bl:1,dl:1,mtp:1,nor:1,nrr:1,su:1,cid:2,pr:2,sf:2,sid:2,st:2,v:2,bs:3,rtp:3},a=0,s=Object.keys(t);a<s.length;a++){var u=s[a];i[null!=o[u]?o[u]:1][u]=t[u]}for(var l=0;l<i.length;l++){var c=e.serialize(i[l]);c&&(n["CMCD-"+r[l]]=c)}return n},e.toQuery=function(t){return"CMCD="+encodeURIComponent(e.serialize(t))},e.appendQueryToUri=function(e,t){if(!t)return e;var n=e.includes("?")?"&":"?";return""+e+n+t},e}()},"./src/controller/eme-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),a=n("./src/utils/mediakeys-helper.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(e){this.hls=void 0,this._widevineLicenseUrl=void 0,this._licenseXhrSetup=void 0,this._licenseResponseCallback=void 0,this._emeEnabled=void 0,this._requestMediaKeySystemAccess=void 0,this._drmSystemOptions=void 0,this._config=void 0,this._mediaKeysList=[],this._media=null,this._hasSetMediaKeys=!1,this._requestLicenseFailureCount=0,this.mediaKeysPromise=null,this._onMediaEncrypted=this.onMediaEncrypted.bind(this),this.hls=e,this._config=e.config,this._widevineLicenseUrl=this._config.widevineLicenseUrl,this._licenseXhrSetup=this._config.licenseXhrSetup,this._licenseResponseCallback=this._config.licenseResponseCallback,this._emeEnabled=this._config.emeEnabled,this._requestMediaKeySystemAccess=this._config.requestMediaKeySystemAccessFunc,this._drmSystemOptions=this._config.drmSystemOptions,this._registerListeners()}var t,n,u,l=e.prototype;return l.destroy=function(){this._unregisterListeners(),this.hls=this._onMediaEncrypted=null,this._requestMediaKeySystemAccess=null},l._registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},l._unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(r.Events.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this)},l.getLicenseServerUrl=function(e){switch(e){case a.KeySystems.WIDEVINE:if(!this._widevineLicenseUrl)break;return this._widevineLicenseUrl}throw new Error('no license server URL configured for key-system "'+e+'"')},l._attemptKeySystemAccess=function(e,t,n){var r=this,i=function(e,t,n,r){if(e===a.KeySystems.WIDEVINE)return function(e,t,n){var r={audioCapabilities:[],videoCapabilities:[]};return e.forEach((function(e){r.audioCapabilities.push({contentType:'audio/mp4; codecs="'+e+'"',robustness:n.audioRobustness||""})})),t.forEach((function(e){r.videoCapabilities.push({contentType:'video/mp4; codecs="'+e+'"',robustness:n.videoRobustness||""})})),[r]}(t,n,r);throw new Error("Unknown key-system: "+e)}(e,t,n,this._drmSystemOptions);o.logger.log("Requesting encrypted media key-system access");var s=this.requestMediaKeySystemAccess(e,i);this.mediaKeysPromise=s.then((function(t){return r._onMediaKeySystemAccessObtained(e,t)})),s.catch((function(t){o.logger.error('Failed to obtain key-system "'+e+'" access:',t)}))},l._onMediaKeySystemAccessObtained=function(e,t){var n=this;o.logger.log('Access for key-system "'+e+'" obtained');var r={mediaKeysSessionInitialized:!1,mediaKeySystemAccess:t,mediaKeySystemDomain:e};this._mediaKeysList.push(r);var i=Promise.resolve().then((function(){return t.createMediaKeys()})).then((function(t){return r.mediaKeys=t,o.logger.log('Media-keys created for key-system "'+e+'"'),n._onMediaKeysCreated(),t}));return i.catch((function(e){o.logger.error("Failed to create media-keys:",e)})),i},l._onMediaKeysCreated=function(){var e=this;this._mediaKeysList.forEach((function(t){t.mediaKeysSession||(t.mediaKeysSession=t.mediaKeys.createSession(),e._onNewMediaKeySession(t.mediaKeysSession))}))},l._onNewMediaKeySession=function(e){var t=this;o.logger.log("New key-system session "+e.sessionId),e.addEventListener("message",(function(n){t._onKeySessionMessage(e,n.message)}),!1)},l._onKeySessionMessage=function(e,t){o.logger.log("Got EME message event, creating license request"),this._requestLicense(t,(function(t){o.logger.log("Received license data (length: "+(t?t.byteLength:t)+"), updating key-session"),e.update(t).catch((function(e){o.logger.warn("Updating key-session failed: "+e)}))}))},l.onMediaEncrypted=function(e){var t=this;if(o.logger.log('Media is encrypted using "'+e.initDataType+'" init data type'),!this.mediaKeysPromise)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been requested"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});var n=function(n){t._media&&(t._attemptSetMediaKeys(n),t._generateRequestWithPreferredKeySession(e.initDataType,e.initData))};this.mediaKeysPromise.then(n).catch(n)},l._attemptSetMediaKeys=function(e){if(!this._media)throw new Error("Attempted to set mediaKeys without first attaching a media element");if(!this._hasSetMediaKeys){var t=this._mediaKeysList[0];if(!t||!t.mediaKeys)return o.logger.error("Fatal: Media is encrypted but no CDM access or no keys have been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_KEYS,fatal:!0});o.logger.log("Setting keys for encrypted media"),this._media.setMediaKeys(t.mediaKeys),this._hasSetMediaKeys=!0}},l._generateRequestWithPreferredKeySession=function(e,t){var n=this,a=this._mediaKeysList[0];if(!a)return o.logger.error("Fatal: Media is encrypted but not any key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});if(a.mediaKeysSessionInitialized)o.logger.warn("Key-Session already initialized but requested again");else{var s=a.mediaKeysSession;if(!s)return o.logger.error("Fatal: Media is encrypted but no key-session existing"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!0});if(!t)return o.logger.warn("Fatal: initData required for generating a key session is null"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_INIT_DATA,fatal:!0});o.logger.log('Generating key-session request for "'+e+'" init data type'),a.mediaKeysSessionInitialized=!0,s.generateRequest(e,t).then((function(){o.logger.debug("Key-session generation succeeded")})).catch((function(e){o.logger.error("Error generating key-session request:",e),n.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_SESSION,fatal:!1})}))}},l._createLicenseXhr=function(e,t,n){var r=new XMLHttpRequest;r.responseType="arraybuffer",r.onreadystatechange=this._onLicenseRequestReadyStageChange.bind(this,r,e,t,n);var i=this._licenseXhrSetup;if(i)try{i.call(this.hls,r,e),i=void 0}catch(a){o.logger.error(a)}try{r.readyState||r.open("POST",e,!0),i&&i.call(this.hls,r,e)}catch(a){throw new Error("issue setting up KeySystem license XHR "+a)}return r},l._onLicenseRequestReadyStageChange=function(e,t,n,a){if(4===e.readyState)if(200===e.status){this._requestLicenseFailureCount=0,o.logger.log("License request succeeded");var s=e.response,u=this._licenseResponseCallback;if(u)try{s=u.call(this.hls,e,t)}catch(c){o.logger.error(c)}a(s)}else{if(o.logger.error("License Request XHR failed ("+t+"). Status: "+e.status+" ("+e.statusText+")"),this._requestLicenseFailureCount++,this._requestLicenseFailureCount>3)return void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0});var l=3-this._requestLicenseFailureCount+1;o.logger.warn("Retrying license request, "+l+" attempts left"),this._requestLicense(n,a)}},l._generateLicenseRequestChallenge=function(e,t){if(e.mediaKeySystemDomain===a.KeySystems.WIDEVINE)return t;throw new Error("unsupported key-system: "+e.mediaKeySystemDomain)},l._requestLicense=function(e,t){o.logger.log("Requesting content license for key-system");var n=this._mediaKeysList[0];if(!n)return o.logger.error("Fatal error: Media is encrypted but no key-system access has been obtained yet"),void this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_NO_ACCESS,fatal:!0});try{var a=this.getLicenseServerUrl(n.mediaKeySystemDomain),s=this._createLicenseXhr(a,e,t);o.logger.log("Sending license request to URL: "+a);var u=this._generateLicenseRequestChallenge(n,e);s.send(u)}catch(l){o.logger.error("Failure requesting DRM license: "+l),this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.KEY_SYSTEM_ERROR,details:i.ErrorDetails.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0})}},l.onMediaAttached=function(e,t){if(this._emeEnabled){var n=t.media;this._media=n,n.addEventListener("encrypted",this._onMediaEncrypted)}},l.onMediaDetached=function(){var e=this._media,t=this._mediaKeysList;e&&(e.removeEventListener("encrypted",this._onMediaEncrypted),this._media=null,this._mediaKeysList=[],Promise.all(t.map((function(e){if(e.mediaKeysSession)return e.mediaKeysSession.close().catch((function(){}))}))).then((function(){return e.setMediaKeys(null)})).catch((function(){})))},l.onManifestParsed=function(e,t){if(this._emeEnabled){var n=t.levels.map((function(e){return e.audioCodec})).filter((function(e){return!!e})),r=t.levels.map((function(e){return e.videoCodec})).filter((function(e){return!!e}));this._attemptKeySystemAccess(a.KeySystems.WIDEVINE,n,r)}},t=e,(n=[{key:"requestMediaKeySystemAccess",get:function(){if(!this._requestMediaKeySystemAccess)throw new Error("No requestMediaKeySystemAccess function configured");return this._requestMediaKeySystemAccess}}])&&s(t.prototype,n),u&&s(t,u),Object.defineProperty(t,"prototype",{writable:!1}),e}();t.default=u},"./src/controller/fps-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/logger.ts"),o=function(){function e(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}var t=e.prototype;return t.setStreamController=function(e){this.streamController=e},t.registerListeners=function(){this.hls.on(r.Events.MEDIA_ATTACHING,this.onMediaAttaching,this)},t.unregisterListeners=function(){this.hls.off(r.Events.MEDIA_ATTACHING,this.onMediaAttaching)},t.destroy=function(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null},t.onMediaAttaching=function(e,t){var n=this.hls.config;if(n.capLevelOnFPSDrop){var r=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=r,r&&"function"===typeof r.getVideoPlaybackQuality&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),n.fpsDroppedMonitoringPeriod)}},t.checkFPS=function(e,t,n){var o=performance.now();if(t){if(this.lastTime){var a=o-this.lastTime,s=n-this.lastDroppedFrames,u=t-this.lastDecodedFrames,l=1e3*s/a,c=this.hls;if(c.trigger(r.Events.FPS_DROP,{currentDropped:s,currentDecoded:u,totalDroppedFrames:n}),l>0&&s>c.config.fpsDroppedMonitoringThreshold*u){var f=c.currentLevel;i.logger.warn("drop FPS ratio greater than max allowed value for currentLevel: "+f),f>0&&(-1===c.autoLevelCapping||c.autoLevelCapping>=f)&&(f-=1,c.trigger(r.Events.FPS_DROP_LEVEL_CAPPING,{level:f,droppedLevel:c.currentLevel}),c.autoLevelCapping=f,this.streamController.nextLevelSwitch())}}this.lastTime=o,this.lastDroppedFrames=n,this.lastDecodedFrames=t}},t.checkFPSInterval=function(){var e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){var t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)},e}();t.default=o},"./src/controller/fragment-finders.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"findFragmentByPDT",(function(){return o})),n.d(t,"findFragmentByPTS",(function(){return a})),n.d(t,"fragmentWithinToleranceTest",(function(){return s})),n.d(t,"pdtWithinToleranceTest",(function(){return u})),n.d(t,"findFragWithCC",(function(){return l}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/binary-search.ts");function o(e,t,n){if(null===t||!Array.isArray(e)||!e.length||!Object(r.isFiniteNumber)(t))return null;if(t<(e[0].programDateTime||0))return null;if(t>=(e[e.length-1].endProgramDateTime||0))return null;n=n||0;for(var i=0;i<e.length;++i){var o=e[i];if(u(t,n,o))return o}return null}function a(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0);var o=null;if(e?o=t[e.sn-t[0].sn+1]||null:0===n&&0===t[0].start&&(o=t[0]),o&&0===s(n,r,o))return o;var a=i.default.search(t,s.bind(null,n,r));return a||o}function s(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return n.start+n.duration-r<=e?1:n.start-r>e&&n.start?-1:0}function u(e,t,n){var r=1e3*Math.min(t,n.duration+(n.deltaPTS?n.deltaPTS:0));return(n.endProgramDateTime||0)-r>e}function l(e,t){return i.default.search(e,(function(e){return e.cc<t?1:e.cc>t?-1:0}))}},"./src/controller/fragment-tracker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"FragmentState",(function(){return r})),n.d(t,"FragmentTracker",(function(){return a}));var r,i=n("./src/events.ts"),o=n("./src/types/loader.ts");!function(e){e.NOT_LOADED="NOT_LOADED",e.APPENDING="APPENDING",e.PARTIAL="PARTIAL",e.OK="OK"}(r||(r={}));var a=function(){function e(e){this.activeFragment=null,this.activeParts=null,this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){var e=this.hls;e.on(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.on(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.BUFFER_APPENDED,this.onBufferAppended,this),e.off(i.Events.FRAG_BUFFERED,this.onFragBuffered,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this)},t.destroy=function(){this._unregisterListeners(),this.fragments=this.timeRanges=null},t.getAppendedFrag=function(e,t){if(t===o.PlaylistLevelType.MAIN){var n=this.activeFragment,r=this.activeParts;if(!n)return null;if(r)for(var i=r.length;i--;){var a=r[i],s=a?a.end:n.appendedPTS;if(a.start<=e&&void 0!==s&&e<=s)return i>9&&(this.activeParts=r.slice(i-9)),a}else if(n.start<=e&&void 0!==n.appendedPTS&&e<=n.appendedPTS)return n}return this.getBufferedFrag(e,t)},t.getBufferedFrag=function(e,t){for(var n=this.fragments,r=Object.keys(n),i=r.length;i--;){var o=n[r[i]];if((null===o||void 0===o?void 0:o.body.type)===t&&o.buffered){var a=o.body;if(a.start<=e&&e<=a.end)return a}}return null},t.detectEvictedFragments=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o)if(o.buffered){var a=o.range[e];a&&a.time.some((function(e){var n=!r.isTimeBuffered(e.startPTS,e.endPTS,t);return n&&r.removeFragment(o.body),n}))}else o.body.type===n&&r.removeFragment(o.body)}))},t.detectPartialFragments=function(e){var t=this,n=this.timeRanges,r=e.frag,i=e.part;if(n&&"initSegment"!==r.sn){var o=u(r),a=this.fragments[o];a&&(Object.keys(n).forEach((function(e){var o=r.elementaryStreams[e];if(o){var s=n[e],u=null!==i||!0===o.partial;a.range[e]=t.getBufferedTimes(r,i,u,s)}})),a.loaded=null,Object.keys(a.range).length?a.buffered=!0:this.removeFragment(a.body))}},t.fragBuffered=function(e){var t=u(e),n=this.fragments[t];n&&(n.loaded=null,n.buffered=!0)},t.getBufferedTimes=function(e,t,n,r){for(var i={time:[],partial:n},o=t?t.start:e.start,a=t?t.end:e.end,s=e.minEndPTS||a,u=e.maxStartPTS||o,l=0;l<r.length;l++){var c=r.start(l)-this.bufferPadding,f=r.end(l)+this.bufferPadding;if(u>=c&&s<=f){i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});break}if(o<f&&a>c)i.partial=!0,i.time.push({startPTS:Math.max(o,r.start(l)),endPTS:Math.min(a,r.end(l))});else if(a<=c)break}return i},t.getPartialFragment=function(e){var t,n,r,i=null,o=0,a=this.bufferPadding,u=this.fragments;return Object.keys(u).forEach((function(l){var c=u[l];c&&s(c)&&(n=c.body.start-a,r=c.body.end+a,e>=n&&e<=r&&(t=Math.min(e-n,r-e),o<=t&&(i=c.body,o=t)))})),i},t.getState=function(e){var t=u(e),n=this.fragments[t];return n?n.buffered?s(n)?r.PARTIAL:r.OK:r.APPENDING:r.NOT_LOADED},t.isTimeBuffered=function(e,t,n){for(var r,i,o=0;o<n.length;o++){if(r=n.start(o)-this.bufferPadding,i=n.end(o)+this.bufferPadding,e>=r&&t<=i)return!0;if(t<=r)return!1}return!1},t.onFragLoaded=function(e,t){var n=t.frag,r=t.part;if("initSegment"!==n.sn&&!n.bitrateTest&&!r){var i=u(n);this.fragments[i]={body:n,loaded:t,buffered:!1,range:Object.create(null)}}},t.onBufferAppended=function(e,t){var n=this,r=t.frag,i=t.part,a=t.timeRanges;if(r.type===o.PlaylistLevelType.MAIN)if(this.activeFragment=r,i){var s=this.activeParts;s||(this.activeParts=s=[]),s.push(i)}else this.activeParts=null;this.timeRanges=a,Object.keys(a).forEach((function(e){var t=a[e];if(n.detectEvictedFragments(e,t),!i)for(var o=0;o<t.length;o++)r.appendedPTS=Math.max(t.end(o),r.appendedPTS||0)}))},t.onFragBuffered=function(e,t){this.detectPartialFragments(t)},t.hasFragment=function(e){var t=u(e);return!!this.fragments[t]},t.removeFragmentsInRange=function(e,t,n){var r=this;Object.keys(this.fragments).forEach((function(i){var o=r.fragments[i];if(o&&o.buffered){var a=o.body;a.type===n&&a.start<t&&a.end>e&&r.removeFragment(a)}}))},t.removeFragment=function(e){var t=u(e);e.stats.loaded=0,e.clearElementaryStreamInfo(),delete this.fragments[t]},t.removeAllFragments=function(){this.fragments=Object.create(null),this.activeFragment=null,this.activeParts=null},e}();function s(e){var t,n;return e.buffered&&((null===(t=e.range.video)||void 0===t?void 0:t.partial)||(null===(n=e.range.audio)||void 0===n?void 0:n.partial))}function u(e){return e.type+"_"+e.level+"_"+e.urlId+"_"+e.sn}},"./src/controller/gap-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"STALL_MINIMUM_DURATION_MS",(function(){return s})),n.d(t,"MAX_START_GAP_JUMP",(function(){return u})),n.d(t,"SKIP_BUFFER_HOLE_STEP_SECONDS",(function(){return l})),n.d(t,"SKIP_BUFFER_RANGE_START",(function(){return c})),n.d(t,"default",(function(){return f}));var r=n("./src/utils/buffer-helper.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts"),a=n("./src/utils/logger.ts"),s=250,u=2,l=.1,c=.05,f=function(){function e(e,t,n,r){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=n,this.hls=r}var t=e.prototype;return t.destroy=function(){this.media=null,this.hls=this.fragmentTracker=null},t.poll=function(e,t){var n=this.config,i=this.media,o=this.stalled;if(null!==i){var l=i.currentTime,c=i.seeking,f=this.seeking&&!c,d=!this.seeking&&c;if(this.seeking=c,l===e){if((d||f)&&(this.stalled=null),!(i.paused&&!c||i.ended||0===i.playbackRate)&&r.BufferHelper.getBuffered(i).length){var h=r.BufferHelper.bufferInfo(i,l,0),p=h.len>0,v=h.nextStart||0;if(p||v){if(c){var g=h.len>u,m=!v||t&&t.start<=l||v-l>u&&!this.fragmentTracker.getPartialFragment(l);if(g||m)return;this.moved=!1}if(!this.moved&&null!==this.stalled){var y,b=Math.max(v,h.start||0)-l,w=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,E=(null===w||void 0===w||null===(y=w.details)||void 0===y?void 0:y.live)?2*w.details.targetduration:u;if(b>0&&b<=E)return void this._trySkipBufferHole(null)}var S=self.performance.now();if(null!==o){var x=S-o;if(c||!(x>=s)||(this._reportStall(h),this.media)){var T=r.BufferHelper.bufferInfo(i,l,n.maxBufferHole);this._tryFixBufferStall(T,x)}}else this.stalled=S}}}else if(this.moved=!0,null!==o){if(this.stallReported){var _=self.performance.now()-o;a.logger.warn("playback not stuck anymore @"+l+", after "+Math.round(_)+"ms"),this.stallReported=!1}this.stalled=null,this.nudgeRetry=0}}},t._tryFixBufferStall=function(e,t){var n=this.config,r=this.fragmentTracker,i=this.media;if(null!==i){var o=i.currentTime,s=r.getPartialFragment(o);if(s&&(this._trySkipBufferHole(s)||!this.media))return;e.len>n.maxBufferHole&&t>1e3*n.highBufferWatchdogPeriod&&(a.logger.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}},t._reportStall=function(e){var t=this.hls,n=this.media;!this.stallReported&&n&&(this.stallReported=!0,a.logger.warn("Playback stalling at @"+n.currentTime+" due to low buffer ("+JSON.stringify(e)+")"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!1,buffer:e.len}))},t._trySkipBufferHole=function(e){var t=this.config,n=this.hls,s=this.media;if(null===s)return 0;for(var u=s.currentTime,f=0,d=r.BufferHelper.getBuffered(s),h=0;h<d.length;h++){var p=d.start(h);if(u+t.maxBufferHole>=f&&u<p){var v=Math.max(p+c,s.currentTime+l);return a.logger.warn("skipping hole, adjusting currentTime from "+u+" to "+v),this.moved=!0,this.stalled=null,s.currentTime=v,e&&n.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_SEEK_OVER_HOLE,fatal:!1,reason:"fragment loaded with buffer holes, seeking from "+u+" to "+v,frag:e}),v}f=d.end(h)}return 0},t._tryNudgeBuffer=function(){var e=this.config,t=this.hls,n=this.media,r=this.nudgeRetry;if(null!==n){var s=n.currentTime;if(this.nudgeRetry++,r<e.nudgeMaxRetry){var u=s+(r+1)*e.nudgeOffset;a.logger.warn("Nudging 'currentTime' from "+s+" to "+u),n.currentTime=u,t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_NUDGE_ON_STALL,fatal:!1})}else a.logger.error("Playhead still not moving while enough data buffered @"+s+" after "+e.nudgeMaxRetry+" nudges"),t.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.BUFFER_STALLED_ERROR,fatal:!0})}},e}()},"./src/controller/id3-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/texttrack-utils.ts"),a=n("./src/demux/id3.ts"),s=n("./src/loader/date-range.ts"),u=n("./src/types/demuxer.ts");function l(){return self.WebKitDataCue||self.VTTCue||self.TextTrackCue}function c(e,t){return e.getTime()/1e3-t}var f=function(){function e(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}var t=e.prototype;return t.destroy=function(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null},t._registerListeners=function(){var e=this.hls;e.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this)},t.onMediaAttached=function(e,t){this.media=t.media},t.onMediaDetaching=function(){this.id3Track&&(Object(o.clearCurrentCues)(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})},t.onManifestLoading=function(){this.dateRangeCuesAppended={}},t.createTrack=function(e){var t=this.getID3Track(e.textTracks);return t.mode="hidden",t},t.getID3Track=function(e){if(this.media){for(var t=0;t<e.length;t++){var n=e[t];if("metadata"===n.kind&&"id3"===n.label)return Object(o.sendAddTrackEvent)(n,this.media),n}return this.media.addTextTrack("metadata","id3")}},t.onFragParsingMetadata=function(e,t){if(this.media){var n=this.hls.config,r=n.enableEmsgMetadataCues,i=n.enableID3MetadataCues;if(r||i){var o=t.frag,s=t.samples,c=t.details;this.id3Track||(this.id3Track=this.createTrack(this.media));for(var f=c.edge||o.end,d=l(),h=!1,p={},v=0;v<s.length;v++){var g=s[v].type;if((g!==u.MetadataSchema.emsg||r)&&i){var m=a.getID3Frames(s[v].data);if(m){var y=s[v].pts,b=f;b-y<=0&&(b=y+.25);for(var w=0;w<m.length;w++){var E=m[w];if(!a.isTimeStampFrame(E)){var S=new d(y,b,"");S.value=E,g&&(S.type=g),this.id3Track.addCue(S),p[E.key]=null,h=!0}}}}}h&&this.updateId3CueEnds(p)}}},t.updateId3CueEnds=function(e){var t,n=null===(t=this.id3Track)||void 0===t?void 0:t.cues;if(n)for(var r=n.length;r--;){var i,o=n[r],a=null===(i=o.value)||void 0===i?void 0:i.key;if(a&&a in e){var s=e[a];s&&o.endTime!==s&&(o.endTime=s),e[a]=o.startTime}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.type,a=this.id3Track,s=this.hls;if(s){var l,c=s.config,f=c.enableEmsgMetadataCues,d=c.enableID3MetadataCues;a&&(f||d)&&(l="audio"===i?function(e){return e.type===u.MetadataSchema.audioId3&&d}:"video"===i?function(e){return e.type===u.MetadataSchema.emsg&&f}:function(e){return e.type===u.MetadataSchema.audioId3&&d||e.type===u.MetadataSchema.emsg&&f},Object(o.removeCuesInRange)(a,n,r,l))}},t.onLevelUpdated=function(e,t){var n=this,i=t.details;if(this.media&&i.hasProgramDateTime&&this.hls.config.enableDateRangeMetadataCues){var o=this.dateRangeCuesAppended,a=this.id3Track,f=i.dateRanges,d=Object.keys(f);if(a)for(var h=Object.keys(o).filter((function(e){return!d.includes(e)})),p=function(e){var t=h[e];Object.keys(o[t].cues).forEach((function(e){a.removeCue(o[t].cues[e])})),delete o[t]},v=h.length;v--;)p(v);var g=i.fragments[i.fragments.length-1];if(0!==d.length&&Object(r.isFiniteNumber)(null===g||void 0===g?void 0:g.programDateTime)){this.id3Track||(this.id3Track=this.createTrack(this.media));for(var m=g.programDateTime/1e3-g.start,y=i.edge||g.end,b=l(),w=function(e){var t=d[e],r=f[t],i=o[t],a=(null===i||void 0===i?void 0:i.cues)||{},l=(null===i||void 0===i?void 0:i.durationKnown)||!1,h=c(r.startDate,m),p=y,v=r.endDate;if(v)p=c(v,m),l=!0;else if(r.endOnNext&&!l){var g=d.reduce((function(e,t){var n=f[t];return n.class===r.class&&n.id!==t&&n.startDate>r.startDate&&e.push(n),e}),[]).sort((function(e,t){return e.startDate.getTime()-t.startDate.getTime()}))[0];g&&(p=c(g.startDate,m),l=!0)}for(var w,E=Object.keys(r.attr),S=0;S<E.length;S++){var x=E[S];if(x!==s.DateRangeAttribute.ID&&x!==s.DateRangeAttribute.CLASS&&x!==s.DateRangeAttribute.START_DATE&&x!==s.DateRangeAttribute.DURATION&&x!==s.DateRangeAttribute.END_DATE&&x!==s.DateRangeAttribute.END_ON_NEXT){var T=a[x];if(T)l&&!i.durationKnown&&(T.endTime=p);else{var _=r.attr[x];T=new b(h,p,""),x!==s.DateRangeAttribute.SCTE35_OUT&&x!==s.DateRangeAttribute.SCTE35_IN||(w=_,_=Uint8Array.from(w.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer),T.value={key:x,data:_},T.type=u.MetadataSchema.dateRange,n.id3Track.addCue(T),a[x]=T}}}o[t]={cues:a,dateRange:r,durationKnown:l}},E=0;E<d.length;E++)w(E)}}},e}();t.default=f},"./src/controller/latency-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/errors.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts");function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var s=function(){function e(e){var t=this;this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=function(){return t.timeupdate()},this.hls=e,this.config=e.config,this.registerListeners()}var t,n,s,u=e.prototype;return u.destroy=function(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null},u.registerListeners=function(){this.hls.on(i.Events.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(i.Events.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(i.Events.ERROR,this.onError,this)},u.unregisterListeners=function(){this.hls.off(i.Events.MEDIA_ATTACHED,this.onMediaAttached),this.hls.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching),this.hls.off(i.Events.MANIFEST_LOADING,this.onManifestLoading),this.hls.off(i.Events.LEVEL_UPDATED,this.onLevelUpdated),this.hls.off(i.Events.ERROR,this.onError)},u.onMediaAttached=function(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)},u.onMediaDetaching=function(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)},u.onManifestLoading=function(){this.levelDetails=null,this._latency=null,this.stallCount=0},u.onLevelUpdated=function(e,t){var n=t.details;this.levelDetails=n,n.advanced&&this.timeupdate(),!n.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)},u.onError=function(e,t){t.details===r.ErrorDetails.BUFFER_STALLED_ERROR&&(this.stallCount++,o.logger.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))},u.timeupdate=function(){var e=this.media,t=this.levelDetails;if(e&&t){this.currentTime=e.currentTime;var n=this.computeLatency();if(null!==n){this._latency=n;var r=this.config,i=r.lowLatencyMode,o=r.maxLiveSyncPlaybackRate;if(i&&1!==o){var a=this.targetLatency;if(null!==a){var s=n-a,u=s<Math.min(this.maxLatency,a+t.targetduration);if(t.live&&u&&s>.05&&this.forwardBufferLength>1){var l=Math.min(2,Math.max(1,o)),c=Math.round(2/(1+Math.exp(-.75*s-this.edgeStalled))*20)/20;e.playbackRate=Math.min(l,Math.max(1,c))}else 1!==e.playbackRate&&0!==e.playbackRate&&(e.playbackRate=1)}}}}},u.estimateLiveEdge=function(){var e=this.levelDetails;return null===e?null:e.edge+e.age},u.computeLatency=function(){var e=this.estimateLiveEdge();return null===e?null:e-this.currentTime},t=e,(n=[{key:"latency",get:function(){return this._latency||0}},{key:"maxLatency",get:function(){var e=this.config,t=this.levelDetails;return void 0!==e.liveMaxLatencyDuration?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}},{key:"targetLatency",get:function(){var e=this.levelDetails;if(null===e)return null;var t=e.holdBack,n=e.partHoldBack,r=e.targetduration,i=this.config,o=i.liveSyncDuration,a=i.liveSyncDurationCount,s=i.lowLatencyMode,u=this.hls.userConfig,l=s&&n||t;(u.liveSyncDuration||u.liveSyncDurationCount||0===l)&&(l=void 0!==o?o:a*r);var c=r;return l+Math.min(1*this.stallCount,c)}},{key:"liveSyncPosition",get:function(){var e=this.estimateLiveEdge(),t=this.targetLatency,n=this.levelDetails;if(null===e||null===t||null===n)return null;var r=n.edge,i=e-t-this.edgeStalled,o=r-n.totalduration,a=r-(this.config.lowLatencyMode&&n.partTarget||n.targetduration);return Math.min(Math.max(o,i),a)}},{key:"drift",get:function(){var e=this.levelDetails;return null===e?1:e.drift}},{key:"edgeStalled",get:function(){var e=this.levelDetails;if(null===e)return 0;var t=3*(this.config.lowLatencyMode&&e.partTarget||e.targetduration);return Math.max(e.age-t,0)}},{key:"forwardBufferLength",get:function(){var e=this.media,t=this.levelDetails;if(!e||!t)return 0;var n=e.buffered.length;return(n?e.buffered.end(n-1):t.edge)-this.currentTime}}])&&a(t.prototype,n),s&&a(t,s),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/controller/level-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return p}));var r=n("./src/types/level.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/codecs.ts"),s=n("./src/controller/level-helper.ts"),u=n("./src/controller/base-playlist-controller.ts"),l=n("./src/types/loader.ts");function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(this,arguments)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}var h=/chrome|firefox/.test(navigator.userAgent.toLowerCase()),p=function(e){var t,n;function u(t){var n;return(n=e.call(this,t,"[level-controller]")||this)._levels=[],n._firstLevel=-1,n._startLevel=void 0,n.currentLevelIndex=-1,n.manualLevelIndex=-1,n.onParsedComplete=void 0,n._registerListeners(),n}n=e,(t=u).prototype=Object.create(n.prototype),t.prototype.constructor=t,d(t,n);var p,v,g,m=u.prototype;return m._registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.ERROR,this.onError,this)},m._unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(i.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.ERROR,this.onError,this)},m.destroy=function(){this._unregisterListeners(),this.manualLevelIndex=-1,this._levels.length=0,e.prototype.destroy.call(this)},m.startLoad=function(){this._levels.forEach((function(e){e.loadError=0})),e.prototype.startLoad.call(this)},m.onManifestLoaded=function(e,t){var n,u,l=[],c=[],f=[],d={},p=!1,v=!1,g=!1;if(t.levels.forEach((function(e){var t=e.attrs;p=p||!(!e.width||!e.height),v=v||!!e.videoCodec,g=g||!!e.audioCodec,h&&e.audioCodec&&-1!==e.audioCodec.indexOf("mp4a.40.34")&&(e.audioCodec=void 0);var n=e.bitrate+"-"+e.attrs.RESOLUTION+"-"+e.attrs.CODECS;(u=d[n])?u.url.push(e.url):(u=new r.Level(e),d[n]=u,l.push(u)),t&&(t.AUDIO&&Object(s.addGroupId)(u,"audio",t.AUDIO),t.SUBTITLES&&Object(s.addGroupId)(u,"text",t.SUBTITLES))})),(p||v)&&g&&(l=l.filter((function(e){var t=e.videoCodec,n=e.width,r=e.height;return!!t||!(!n||!r)}))),l=l.filter((function(e){var t=e.audioCodec,n=e.videoCodec;return(!t||Object(a.isCodecSupportedInMp4)(t,"audio"))&&(!n||Object(a.isCodecSupportedInMp4)(n,"video"))})),t.audioTracks&&(c=t.audioTracks.filter((function(e){return!e.audioCodec||Object(a.isCodecSupportedInMp4)(e.audioCodec,"audio")})),Object(s.assignTrackIdsByGroup)(c)),t.subtitles&&(f=t.subtitles,Object(s.assignTrackIdsByGroup)(f)),l.length>0){n=l[0].bitrate,l.sort((function(e,t){return e.bitrate-t.bitrate})),this._levels=l;for(var m=0;m<l.length;m++)if(l[m].bitrate===n){this._firstLevel=m,this.log("manifest loaded, "+l.length+" level(s) found, first bitrate: "+n);break}var y=g&&!v,b={levels:l,audioTracks:c,subtitleTracks:f,firstLevel:this._firstLevel,stats:t.stats,audio:g,video:v,altAudio:!y&&c.some((function(e){return!!e.url}))};this.hls.trigger(i.Events.MANIFEST_PARSED,b),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}else this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,reason:"no level with compatible codecs found in manifest"})},m.onError=function(t,n){if(e.prototype.onError.call(this,t,n),!n.fatal){var r=n.context,i=this._levels[this.currentLevelIndex];if(r&&(r.type===l.PlaylistContextType.AUDIO_TRACK&&i.audioGroupIds&&r.groupId===i.audioGroupIds[i.urlId]||r.type===l.PlaylistContextType.SUBTITLE_TRACK&&i.textGroupIds&&r.groupId===i.textGroupIds[i.urlId]))this.redundantFailover(this.currentLevelIndex);else{var a,s=!1,u=!0;switch(n.details){case o.ErrorDetails.FRAG_LOAD_ERROR:case o.ErrorDetails.FRAG_LOAD_TIMEOUT:case o.ErrorDetails.KEY_LOAD_ERROR:case o.ErrorDetails.KEY_LOAD_TIMEOUT:if(n.frag){var c=this._levels[n.frag.level];c?(c.fragmentError++,c.fragmentError>this.hls.config.fragLoadingMaxRetry&&(a=n.frag.level)):a=n.frag.level}break;case o.ErrorDetails.LEVEL_LOAD_ERROR:case o.ErrorDetails.LEVEL_LOAD_TIMEOUT:r&&(r.deliveryDirectives&&(u=!1),a=r.level),s=!0;break;case o.ErrorDetails.REMUX_ALLOC_ERROR:a=n.level,s=!0}void 0!==a&&this.recoverLevel(n,a,s,u)}}},m.recoverLevel=function(e,t,n,r){var i=e.details,o=this._levels[t];if(o.loadError++,n){if(!this.retryLoadingOrFail(e))return void(this.currentLevelIndex=-1);e.levelRetry=!0}if(r){var a=o.url.length;if(a>1&&o.loadError<a)e.levelRetry=!0,this.redundantFailover(t);else if(-1===this.manualLevelIndex){var s=0===t?this._levels.length-1:t-1;this.currentLevelIndex!==s&&0===this._levels[s].loadError&&(this.warn(i+": switch to "+s),e.levelRetry=!0,this.hls.nextAutoLevel=s)}}},m.redundantFailover=function(e){var t=this._levels[e],n=t.url.length;if(n>1){var r=(t.urlId+1)%n;this.warn("Switching to redundant URL-id "+r),this._levels.forEach((function(e){e.urlId=r})),this.level=e}},m.onFragLoaded=function(e,t){var n=t.frag;if(void 0!==n&&n.type===l.PlaylistLevelType.MAIN){var r=this._levels[n.level];void 0!==r&&(r.fragmentError=0,r.loadError=0)}},m.onLevelLoaded=function(e,t){var n,r,i=t.level,o=t.details,a=this._levels[i];if(!a)return this.warn("Invalid level index "+i),void(null!==(r=t.deliveryDirectives)&&void 0!==r&&r.skip&&(o.deltaUpdateFailed=!0));i===this.currentLevelIndex?(0===a.fragmentError&&(a.loadError=0,this.retryCount=0),this.playlistLoaded(i,t,a.details)):null!==(n=t.deliveryDirectives)&&void 0!==n&&n.skip&&(o.deltaUpdateFailed=!0)},m.onAudioTrackSwitched=function(e,t){var n=this.hls.levels[this.currentLevelIndex];if(n&&n.audioGroupIds){for(var r=-1,i=this.hls.audioTracks[t.id].groupId,o=0;o<n.audioGroupIds.length;o++)if(n.audioGroupIds[o]===i){r=o;break}r!==n.urlId&&(n.urlId=r,this.startLoad())}},m.loadPlaylist=function(e){var t=this.currentLevelIndex,n=this._levels[t];if(this.canLoad&&n&&n.url.length>0){var r=n.urlId,o=n.url[r];if(e)try{o=e.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("Attempt loading level index "+t+(e?" at sn "+e.msn+" part "+e.part:"")+" with URL-id "+r+" "+o),this.clearTimer(),this.hls.trigger(i.Events.LEVEL_LOADING,{url:o,level:t,id:r,deliveryDirectives:e||null})}},m.removeLevel=function(e,t){var n=function(e,n){return n!==t},r=this._levels.filter((function(r,i){return i!==e||r.url.length>1&&void 0!==t&&(r.url=r.url.filter(n),r.audioGroupIds&&(r.audioGroupIds=r.audioGroupIds.filter(n)),r.textGroupIds&&(r.textGroupIds=r.textGroupIds.filter(n)),r.urlId=0,!0)})).map((function(e,t){var n=e.details;return null!==n&&void 0!==n&&n.fragments&&n.fragments.forEach((function(e){e.level=t})),e}));this._levels=r,this.hls.trigger(i.Events.LEVELS_UPDATED,{levels:r})},p=u,(v=[{key:"levels",get:function(){return 0===this._levels.length?null:this._levels}},{key:"level",get:function(){return this.currentLevelIndex},set:function(e){var t,n=this._levels;if(0!==n.length&&(this.currentLevelIndex!==e||null===(t=n[e])||void 0===t||!t.details)){if(e<0||e>=n.length){var r=e<0;if(this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.OTHER_ERROR,details:o.ErrorDetails.LEVEL_SWITCH_ERROR,level:e,fatal:r,reason:"invalid level idx"}),r)return;e=Math.min(e,n.length-1)}this.clearTimer();var a=this.currentLevelIndex,s=n[a],u=n[e];this.log("switching to level "+e+" from "+a),this.currentLevelIndex=e;var l=c({},u,{level:e,maxBitrate:u.maxBitrate,uri:u.uri,urlId:u.urlId});delete l._urlId,this.hls.trigger(i.Events.LEVEL_SWITCHING,l);var f=u.details;if(!f||f.live){var d=this.switchParams(u.uri,null===s||void 0===s?void 0:s.details);this.loadPlaylist(d)}}}},{key:"manualLevel",get:function(){return this.manualLevelIndex},set:function(e){this.manualLevelIndex=e,void 0===this._startLevel&&(this._startLevel=e),-1!==e&&(this.level=e)}},{key:"firstLevel",get:function(){return this._firstLevel},set:function(e){this._firstLevel=e}},{key:"startLevel",get:function(){if(void 0===this._startLevel){var e=this.hls.config.startLevel;return void 0!==e?e:this._firstLevel}return this._startLevel},set:function(e){this._startLevel=e}},{key:"nextLoadLevel",get:function(){return-1!==this.manualLevelIndex?this.manualLevelIndex:this.hls.nextAutoLevel},set:function(e){this.level=e,-1===this.manualLevelIndex&&(this.hls.nextAutoLevel=e)}}])&&f(p.prototype,v),g&&f(p,g),Object.defineProperty(p,"prototype",{writable:!1}),u}(u.default)},"./src/controller/level-helper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"addGroupId",(function(){return s})),n.d(t,"assignTrackIdsByGroup",(function(){return u})),n.d(t,"updatePTS",(function(){return l})),n.d(t,"updateFragPTSDTS",(function(){return f})),n.d(t,"mergeDetails",(function(){return d})),n.d(t,"mapPartIntersection",(function(){return h})),n.d(t,"mapFragmentIntersection",(function(){return p})),n.d(t,"adjustSliding",(function(){return v})),n.d(t,"addSliding",(function(){return g})),n.d(t,"computeReloadInterval",(function(){return m})),n.d(t,"getFragmentWithSN",(function(){return y})),n.d(t,"getPartWith",(function(){return b}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/loader/date-range.ts");function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(this,arguments)}function s(e,t,n){switch(t){case"audio":e.audioGroupIds||(e.audioGroupIds=[]),e.audioGroupIds.push(n);break;case"text":e.textGroupIds||(e.textGroupIds=[]),e.textGroupIds.push(n)}}function u(e){var t={};e.forEach((function(e){var n=e.groupId||"";e.id=t[n]=t[n]||0,t[n]++}))}function l(e,t,n){c(e[t],e[n])}function c(e,t){var n=t.startPTS;if(Object(r.isFiniteNumber)(n)){var i,o=0;t.sn>e.sn?(o=n-e.start,i=e):(o=e.start-n,i=t),i.duration!==o&&(i.duration=o)}else t.sn>e.sn?e.cc===t.cc&&e.minEndPTS?t.start=e.start+(e.minEndPTS-e.start):t.start=e.start+e.duration:t.start=Math.max(e.start-t.duration,0)}function f(e,t,n,o,a,s){o-n<=0&&(i.logger.warn("Fragment should have a positive duration",t),o=n+t.duration,s=a+t.duration);var u=n,l=o,f=t.startPTS,d=t.endPTS;if(Object(r.isFiniteNumber)(f)){var h=Math.abs(f-n);Object(r.isFiniteNumber)(t.deltaPTS)?t.deltaPTS=Math.max(h,t.deltaPTS):t.deltaPTS=h,u=Math.max(n,f),n=Math.min(n,f),a=Math.min(a,t.startDTS),l=Math.min(o,d),o=Math.max(o,d),s=Math.max(s,t.endDTS)}t.duration=o-n;var p=n-t.start;t.appendedPTS=o,t.start=t.startPTS=n,t.maxStartPTS=u,t.startDTS=a,t.endPTS=o,t.minEndPTS=l,t.endDTS=s;var v,g=t.sn;if(!e||g<e.startSN||g>e.endSN)return 0;var m=g-e.startSN,y=e.fragments;for(y[m]=t,v=m;v>0;v--)c(y[v],y[v-1]);for(v=m;v<y.length-1;v++)c(y[v],y[v+1]);return e.fragmentHint&&c(y[y.length-1],e.fragmentHint),e.PTSKnown=e.alignedSliding=!0,p}function d(e,t){for(var n=null,s=e.fragments,u=s.length-1;u>=0;u--){var l=s[u].initSegment;if(l){n=l;break}}e.fragmentHint&&delete e.fragmentHint.endPTS;var c,d=0;if(p(e,t,(function(e,i){e.relurl&&(d=e.cc-i.cc),Object(r.isFiniteNumber)(e.startPTS)&&Object(r.isFiniteNumber)(e.endPTS)&&(i.start=i.startPTS=e.startPTS,i.startDTS=e.startDTS,i.appendedPTS=e.appendedPTS,i.maxStartPTS=e.maxStartPTS,i.endPTS=e.endPTS,i.endDTS=e.endDTS,i.minEndPTS=e.minEndPTS,i.duration=e.endPTS-e.startPTS,i.duration&&(c=i),t.PTSKnown=t.alignedSliding=!0),i.elementaryStreams=e.elementaryStreams,i.loader=e.loader,i.stats=e.stats,i.urlId=e.urlId,e.initSegment&&(i.initSegment=e.initSegment,n=e.initSegment)})),n&&(t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments).forEach((function(e){var t;e.initSegment&&e.initSegment.relurl!==(null===(t=n)||void 0===t?void 0:t.relurl)||(e.initSegment=n)})),t.skippedSegments)if(t.deltaUpdateFailed=t.fragments.some((function(e){return!e})),t.deltaUpdateFailed){i.logger.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(var g=t.skippedSegments;g--;)t.fragments.shift();t.startSN=t.fragments[0].sn,t.startCC=t.fragments[0].cc}else t.canSkipDateRanges&&(t.dateRanges=function(e,t,n){var r=a({},e);return n&&n.forEach((function(e){delete r[e]})),Object.keys(t).forEach((function(e){var n=new o.DateRange(t[e].attr,r[e]);n.isValid?r[e]=n:i.logger.warn('Ignoring invalid Playlist Delta Update DATERANGE tag: "'+JSON.stringify(t[e].attr)+'"')})),r}(e.dateRanges,t.dateRanges,t.recentlyRemovedDateranges));var m=t.fragments;if(d){i.logger.warn("discontinuity sliding from playlist, take drift into account");for(var y=0;y<m.length;y++)m[y].cc+=d}t.skippedSegments&&(t.startCC=t.fragments[0].cc),h(e.partList,t.partList,(function(e,t){t.elementaryStreams=e.elementaryStreams,t.stats=e.stats})),c?f(t,c,c.startPTS,c.endPTS,c.startDTS,c.endDTS):v(e,t),m.length&&(t.totalduration=t.edge-m[0].start),t.driftStartTime=e.driftStartTime,t.driftStart=e.driftStart;var b=t.advancedDateTime;if(t.advanced&&b){var w=t.edge;t.driftStart||(t.driftStartTime=b,t.driftStart=w),t.driftEndTime=b,t.driftEnd=w}else t.driftEndTime=e.driftEndTime,t.driftEnd=e.driftEnd,t.advancedDateTime=e.advancedDateTime}function h(e,t,n){if(e&&t)for(var r=0,i=0,o=e.length;i<=o;i++){var a=e[i],s=t[i+r];a&&s&&a.index===s.index&&a.fragment.sn===s.fragment.sn?n(a,s):r--}}function p(e,t,n){for(var r=t.skippedSegments,i=Math.max(e.startSN,t.startSN)-t.startSN,o=(e.fragmentHint?1:0)+(r?t.endSN:Math.min(e.endSN,t.endSN))-t.startSN,a=t.startSN-e.startSN,s=t.fragmentHint?t.fragments.concat(t.fragmentHint):t.fragments,u=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,l=i;l<=o;l++){var c=u[a+l],f=s[l];r&&!f&&l<r&&(f=t.fragments[l]=c),c&&f&&n(c,f)}}function v(e,t){var n=t.startSN+t.skippedSegments-e.startSN,r=e.fragments;n<0||n>=r.length||g(t,r[n].start)}function g(e,t){if(t){for(var n=e.fragments,r=e.skippedSegments;r<n.length;r++)n[r].start+=t;e.fragmentHint&&(e.fragmentHint.start+=t)}}function m(e,t){var n,r=1e3*e.levelTargetDuration,i=r/2,o=e.age,a=o>0&&o<3*r,s=t.loading.end-t.loading.start,u=e.availabilityDelay;if(!1===e.updated)if(a){var l=333*e.misses;n=Math.max(Math.min(i,2*s),l),e.availabilityDelay=(e.availabilityDelay||0)+n}else n=i;else a?(u=Math.min(u||r/2,o),e.availabilityDelay=u,n=u+r-o):n=r-s;return Math.round(n)}function y(e,t,n){if(!e||!e.details)return null;var r=e.details,i=r.fragments[t-r.startSN];return i||((i=r.fragmentHint)&&i.sn===t?i:t<r.startSN&&n&&n.sn===t?n:null)}function b(e,t,n){if(!e||!e.details)return null;var r=e.details.partList;if(r)for(var i=r.length;i--;){var o=r[i];if(o.index===n&&o.fragment.sn===t)return o}return null}},"./src/controller/stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n("./src/polyfills/number.ts"),i=n("./src/controller/base-stream-controller.ts"),o=n("./src/is-supported.ts"),a=n("./src/events.ts"),s=n("./src/utils/buffer-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),l=n("./src/types/loader.ts"),c=n("./src/loader/fragment.ts"),f=n("./src/demux/transmuxer-interface.ts"),d=n("./src/types/transmuxer.ts"),h=n("./src/controller/gap-controller.ts"),p=n("./src/errors.ts"),v=n("./src/utils/logger.ts");function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var y=function(e){var t,n;function y(t,n){var r;return(r=e.call(this,t,n,"[stream-controller]")||this).audioCodecSwap=!1,r.gapController=null,r.level=-1,r._forceStartLoad=!1,r.altAudio=!1,r.audioOnly=!1,r.fragPlaying=null,r.onvplaying=null,r.onvseeked=null,r.fragLastKbps=0,r.stalled=!1,r.couldBacktrack=!1,r.backtrackFragment=null,r.audioCodecSwitch=!1,r.videoBuffer=null,r._registerListeners(),r}n=e,(t=y).prototype=Object.create(n.prototype),t.prototype.constructor=t,m(t,n);var b,w,E,S=y.prototype;return S._registerListeners=function(){var e=this.hls;e.on(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(a.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(a.Events.ERROR,this.onError,this),e.on(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.on(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S._unregisterListeners=function(){var e=this.hls;e.off(a.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(a.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(a.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(a.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(a.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(a.Events.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(a.Events.ERROR,this.onError,this),e.off(a.Events.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(a.Events.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(a.Events.BUFFER_CREATED,this.onBufferCreated,this),e.off(a.Events.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(a.Events.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(a.Events.FRAG_BUFFERED,this.onFragBuffered,this)},S.onHandlerDestroying=function(){this._unregisterListeners(),this.onMediaDetaching()},S.startLoad=function(e){if(this.levels){var t=this.lastCurrentTime,n=this.hls;if(this.stopLoad(),this.setInterval(100),this.level=-1,this.fragLoadError=0,!this.startFragRequested){var r=n.startLevel;-1===r&&(n.config.testBandwidth?(r=0,this.bitrateTest=!0):r=n.nextAutoLevel),this.level=n.nextLoadLevel=r,this.loadedmetadata=!1}t>0&&-1===e&&(this.log("Override startPosition with lastCurrentTime @"+t.toFixed(3)),e=t),this.state=i.State.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=i.State.STOPPED},S.stopLoad=function(){this._forceStartLoad=!1,e.prototype.stopLoad.call(this)},S.doTick=function(){switch(this.state){case i.State.IDLE:this.doTickIdle();break;case i.State.WAITING_LEVEL:var e,t=this.levels,n=this.level,r=null===t||void 0===t||null===(e=t[n])||void 0===e?void 0:e.details;if(r&&(!r.live||this.levelLastLoaded===this.level)){if(this.waitForCdnTuneIn(r))break;this.state=i.State.IDLE;break}break;case i.State.FRAG_LOADING_WAITING_RETRY:var o,a=self.performance.now(),s=this.retryDate;(!s||a>=s||null!==(o=this.media)&&void 0!==o&&o.seeking)&&(this.log("retryDate reached, switch back to IDLE state"),this.state=i.State.IDLE)}this.onTickEnd()},S.onTickEnd=function(){e.prototype.onTickEnd.call(this),this.checkBuffer(),this.checkFragmentChanged()},S.doTickIdle=function(){var e,t,n=this.hls,r=this.levelLastLoaded,o=this.levels,s=this.media,f=n.config,d=n.nextLoadLevel;if(null!==r&&(s||!this.startFragRequested&&f.startFragPrefetch)&&(!this.altAudio||!this.audioOnly)&&o&&o[d]){var h=o[d];this.level=n.nextLoadLevel=d;var p=h.details;if(!p||this.state===i.State.WAITING_LEVEL||p.live&&this.levelLastLoaded!==d)this.state=i.State.WAITING_LEVEL;else{var v=this.getMainFwdBufferInfo();if(null!==v&&!(v.len>=this.getMaxBufferLength(h.maxBitrate))){if(this._streamEnded(v,p)){var g={};return this.altAudio&&(g.type="video"),this.hls.trigger(a.Events.BUFFER_EOS,g),void(this.state=i.State.ENDED)}this.backtrackFragment&&this.backtrackFragment.start>v.end&&(this.backtrackFragment=null);var m=this.backtrackFragment?this.backtrackFragment.start:v.end,y=this.getNextFragment(m,p);if(this.couldBacktrack&&!this.fragPrevious&&y&&"initSegment"!==y.sn&&this.fragmentTracker.getState(y)!==u.FragmentState.OK){var b,w=(null!=(b=this.backtrackFragment)?b:y).sn-p.startSN,E=p.fragments[w-1];E&&y.cc===E.cc&&(y=E,this.fragmentTracker.removeFragment(E))}else this.backtrackFragment&&v.len&&(this.backtrackFragment=null);if(y&&this.fragmentTracker.getState(y)===u.FragmentState.OK&&this.nextLoadPosition>m){var S=this.audioOnly&&!this.altAudio?c.ElementaryStreamTypes.AUDIO:c.ElementaryStreamTypes.VIDEO;this.afterBufferFlushed(s,S,l.PlaylistLevelType.MAIN),y=this.getNextFragment(this.nextLoadPosition,p)}y&&(!y.initSegment||y.initSegment.data||this.bitrateTest||(y=y.initSegment),"identity"!==(null===(e=y.decryptdata)||void 0===e?void 0:e.keyFormat)||null!==(t=y.decryptdata)&&void 0!==t&&t.key?this.loadFragment(y,p,m):this.loadKey(y,p))}}}},S.loadFragment=function(t,n,r){var i,o=this.fragmentTracker.getState(t);this.fragCurrent=t,o===u.FragmentState.NOT_LOADED||o===u.FragmentState.PARTIAL?"initSegment"===t.sn?this._loadInitSegment(t):this.bitrateTest?(t.bitrateTest=!0,this.log("Fragment "+t.sn+" of level "+t.level+" is being downloaded to test bitrate and will not be buffered"),this._loadBitrateTestFrag(t)):(this.startFragRequested=!0,e.prototype.loadFragment.call(this,t,n,r)):o===u.FragmentState.APPENDING?this.reduceMaxBufferLength(t.duration)&&this.fragmentTracker.removeFragment(t):0===(null===(i=this.media)||void 0===i?void 0:i.buffered.length)&&this.fragmentTracker.removeAllFragments()},S.getAppendedFrag=function(e){var t=this.fragmentTracker.getAppendedFrag(e,l.PlaylistLevelType.MAIN);return t&&"fragment"in t?t.fragment:t},S.getBufferedFrag=function(e){return this.fragmentTracker.getBufferedFrag(e,l.PlaylistLevelType.MAIN)},S.followingBufferedFrag=function(e){return e?this.getBufferedFrag(e.end+.5):null},S.immediateLevelSwitch=function(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)},S.nextLevelSwitch=function(){var e=this.levels,t=this.media;if(null!==t&&void 0!==t&&t.readyState){var n,r=this.getAppendedFrag(t.currentTime);if(r&&r.start>1&&this.flushMainBuffer(0,r.start-1),!t.paused&&e){var i=e[this.hls.nextLoadLevel],o=this.fragLastKbps;n=o&&this.fragCurrent?this.fragCurrent.duration*i.maxBitrate/(1e3*o)+1:0}else n=0;var a=this.getBufferedFrag(t.currentTime+n);if(a){var s=this.followingBufferedFrag(a);if(s){this.abortCurrentFrag();var u=s.maxStartPTS?s.maxStartPTS:s.start,l=s.duration,c=Math.max(a.end,u+Math.min(Math.max(l-this.config.maxFragLookUpTolerance,.5*l),.75*l));this.flushMainBuffer(c,Number.POSITIVE_INFINITY)}}}},S.abortCurrentFrag=function(){var e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,null!==e&&void 0!==e&&e.loader&&e.loader.abort(),this.state){case i.State.KEY_LOADING:case i.State.FRAG_LOADING:case i.State.FRAG_LOADING_WAITING_RETRY:case i.State.PARSING:case i.State.PARSED:this.state=i.State.IDLE}this.nextLoadPosition=this.getLoadPosition()},S.flushMainBuffer=function(t,n){e.prototype.flushMainBuffer.call(this,t,n,this.altAudio?"video":null)},S.onMediaAttached=function(t,n){e.prototype.onMediaAttached.call(this,t,n);var r=n.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new h.default(this.config,r,this.fragmentTracker,this.hls)},S.onMediaDetaching=function(){var t=this.media;t&&(t.removeEventListener("playing",this.onvplaying),t.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),e.prototype.onMediaDetaching.call(this)},S.onMediaPlaying=function(){this.tick()},S.onMediaSeeked=function(){var e=this.media,t=e?e.currentTime:null;Object(r.isFiniteNumber)(t)&&this.log("Media seeked to "+t.toFixed(3)),this.tick()},S.onManifestLoading=function(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(a.Events.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=this.stalled=!1,this.startPosition=this.lastCurrentTime=0,this.fragPlaying=null,this.backtrackFragment=null},S.onManifestParsed=function(e,t){var n,r=!1,i=!1;t.levels.forEach((function(e){(n=e.audioCodec)&&(-1!==n.indexOf("mp4a.40.2")&&(r=!0),-1!==n.indexOf("mp4a.40.5")&&(i=!0))})),this.audioCodecSwitch=r&&i&&!Object(o.changeTypeSupported)(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1},S.onLevelLoading=function(e,t){var n=this.levels;if(n&&this.state===i.State.IDLE){var r=n[t.level];(!r.details||r.details.live&&this.levelLastLoaded!==t.level||this.waitForCdnTuneIn(r.details))&&(this.state=i.State.WAITING_LEVEL)}},S.onLevelLoaded=function(e,t){var n,r=this.levels,o=t.level,s=t.details,u=s.totalduration;if(r){this.log("Level "+o+" loaded ["+s.startSN+","+s.endSN+"], cc ["+s.startCC+", "+s.endCC+"] duration:"+u);var l=this.fragCurrent;!l||this.state!==i.State.FRAG_LOADING&&this.state!==i.State.FRAG_LOADING_WAITING_RETRY||l.level!==t.level&&l.loader&&(this.state=i.State.IDLE,this.backtrackFragment=null,l.loader.abort());var c=r[o],f=0;if(s.live||null!==(n=c.details)&&void 0!==n&&n.live){if(s.fragments[0]||(s.deltaUpdateFailed=!0),s.deltaUpdateFailed)return;f=this.alignPlaylists(s,c.details)}if(c.details=s,this.levelLastLoaded=o,this.hls.trigger(a.Events.LEVEL_UPDATED,{details:s,level:o}),this.state===i.State.WAITING_LEVEL){if(this.waitForCdnTuneIn(s))return;this.state=i.State.IDLE}this.startFragRequested?s.live&&this.synchronizeToLiveEdge(s):this.setStartPosition(s,f),this.tick()}else this.warn("Levels were reset while loading level "+o)},S._handleFragmentLoadProgress=function(e){var t,n=e.frag,r=e.part,i=e.payload,o=this.levels;if(o){var a=o[n.level],s=a.details;if(s){var u=a.videoCodec,c=s.PTSKnown||!s.live,h=null===(t=n.initSegment)||void 0===t?void 0:t.data,p=this._getAudioCodec(a),v=this.transmuxer=this.transmuxer||new f.default(this.hls,l.PlaylistLevelType.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),g=r?r.index:-1,m=-1!==g,y=new d.ChunkMetadata(n.level,n.sn,n.stats.chunkCount,i.byteLength,g,m),b=this.initPTS[n.cc];v.push(i,h,p,u,n,r,s.totalduration,c,y,b)}else this.warn("Dropping fragment "+n.sn+" of level "+n.level+" after level details were reset")}else this.warn("Levels were reset while fragment load was in progress. Fragment "+n.sn+" of level "+n.level+" will not be buffered")},S.onAudioTrackSwitching=function(e,t){var n=this.altAudio,r=!!t.url,i=t.id;if(!r){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;var o=this.fragCurrent;null!==o&&void 0!==o&&o.loader&&(this.log("Switching to main audio track, cancel main fragment load"),o.loader.abort()),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();var s=this.hls;n&&s.trigger(a.Events.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:"audio"}),s.trigger(a.Events.AUDIO_TRACK_SWITCHED,{id:i})}},S.onAudioTrackSwitched=function(e,t){var n=t.id,r=!!this.hls.audioTracks[n].url;if(r){var i=this.videoBuffer;i&&this.mediaBuffer!==i&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=i)}this.altAudio=r,this.tick()},S.onBufferCreated=function(e,t){var n,r,i=t.tracks,o=!1;for(var a in i){var s=i[a];if("main"===s.id){if(r=a,n=s,"video"===a){var u=i[a];u&&(this.videoBuffer=u.buffer)}}else o=!0}o&&n?(this.log("Alternate track found, use "+r+".buffered to schedule main fragment loading"),this.mediaBuffer=n.buffer):this.mediaBuffer=this.media},S.onFragBuffered=function(e,t){var n=t.frag,r=t.part;if(!n||n.type===l.PlaylistLevelType.MAIN){if(this.fragContextChanged(n))return this.warn("Fragment "+n.sn+(r?" p: "+r.index:"")+" of level "+n.level+" finished buffering, but was aborted. state: "+this.state),void(this.state===i.State.PARSED&&(this.state=i.State.IDLE));var o=r?r.stats:n.stats;this.fragLastKbps=Math.round(8*o.total/(o.buffering.end-o.loading.first)),"initSegment"!==n.sn&&(this.fragPrevious=n),this.fragBufferedComplete(n,r)}},S.onError=function(e,t){switch(t.details){case p.ErrorDetails.FRAG_LOAD_ERROR:case p.ErrorDetails.FRAG_LOAD_TIMEOUT:case p.ErrorDetails.KEY_LOAD_ERROR:case p.ErrorDetails.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(l.PlaylistLevelType.MAIN,t);break;case p.ErrorDetails.LEVEL_LOAD_ERROR:case p.ErrorDetails.LEVEL_LOAD_TIMEOUT:this.state!==i.State.ERROR&&(t.fatal?(this.warn(""+t.details),this.state=i.State.ERROR):t.levelRetry||this.state!==i.State.WAITING_LEVEL||(this.state=i.State.IDLE));break;case p.ErrorDetails.BUFFER_FULL_ERROR:if("main"===t.parent&&(this.state===i.State.PARSING||this.state===i.State.PARSED)){var n=!0,r=this.getFwdBufferInfo(this.media,l.PlaylistLevelType.MAIN);r&&r.len>.5&&(n=!this.reduceMaxBufferLength(r.len)),n&&(this.warn("buffer full error also media.currentTime is not buffered, flush main"),this.immediateLevelSwitch()),this.resetLoadingState()}}},S.checkBuffer=function(){var e=this.media,t=this.gapController;if(e&&t&&e.readyState){var n=s.BufferHelper.getBuffered(e);if(!this.loadedmetadata&&n.length)this.loadedmetadata=!0,this.seekToStartPos();else{var r=this.state!==i.State.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}},S.onFragLoadEmergencyAborted=function(){this.state=i.State.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()},S.onBufferFlushed=function(e,t){var n=t.type;if(n!==c.ElementaryStreamTypes.AUDIO||this.audioOnly&&!this.altAudio){var r=(n===c.ElementaryStreamTypes.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,n,l.PlaylistLevelType.MAIN)}},S.onLevelsUpdated=function(e,t){this.levels=t.levels},S.swapAudioCodec=function(){this.audioCodecSwap=!this.audioCodecSwap},S.seekToStartPos=function(){var e=this.media,t=e.currentTime,n=this.startPosition;if(n>=0&&t<n){if(e.seeking)return void v.logger.log("could not seek to "+n+", already seeking at "+t);var r=s.BufferHelper.getBuffered(e),i=(r.length?r.start(0):0)-n;i>0&&(i<this.config.maxBufferHole||i<this.config.maxFragLookUpTolerance)&&(v.logger.log("adjusting start position by "+i+" to match buffer start"),n+=i,this.startPosition=n),this.log("seek to target start position "+n+" from current time "+t),e.currentTime=n}},S._getAudioCodec=function(e){var t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t=-1!==t.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),t},S._loadBitrateTestFrag=function(e){var t=this;this._doFragLoad(e).then((function(n){var r=t.hls;if(n&&!r.nextLoadLevel&&!t.fragContextChanged(e)){t.fragLoadError=0,t.state=i.State.IDLE,t.startFragRequested=!1,t.bitrateTest=!1;var o=e.stats;o.parsing.start=o.parsing.end=o.buffering.start=o.buffering.end=self.performance.now(),r.trigger(a.Events.FRAG_LOADED,n)}}))},S._handleTransmuxComplete=function(e){var t,n="main",o=this.hls,s=e.remuxResult,u=e.chunkMeta,l=this.getCurrentContext(u);if(!l)return this.warn("The loading context changed while buffering fragment "+u.sn+" of level "+u.level+". This chunk will not be buffered."),void this.resetLiveStartWhenNotLoaded(u.level);var f=l.frag,d=l.part,h=l.level,p=s.video,v=s.text,g=s.id3,m=s.initSegment,y=h.details,b=this.altAudio?void 0:s.audio;if(!this.fragContextChanged(f)){if(this.state=i.State.PARSING,m){m.tracks&&(this._bufferInitSegment(h,m.tracks,f,u),o.trigger(a.Events.FRAG_PARSING_INIT_SEGMENT,{frag:f,id:n,tracks:m.tracks}));var w=m.initPTS,E=m.timescale;Object(r.isFiniteNumber)(w)&&(this.initPTS[f.cc]=w,o.trigger(a.Events.INIT_PTS_FOUND,{frag:f,id:n,initPTS:w,timescale:E}))}if(p&&!1!==s.independent){if(y){var S=p.startPTS,x=p.endPTS,T=p.startDTS,_=p.endDTS;if(d)d.elementaryStreams[p.type]={startPTS:S,endPTS:x,startDTS:T,endDTS:_};else if(p.firstKeyFrame&&p.independent&&(this.couldBacktrack=!0),p.dropped&&p.independent){var k=this.getMainFwdBufferInfo();if((k?k.end:this.getLoadPosition())+this.config.maxBufferHole<(p.firstKeyFramePTS?p.firstKeyFramePTS:S)-this.config.maxBufferHole)return void this.backtrack(f);f.setElementaryStreamInfo(p.type,f.start,x,f.start,_,!0)}f.setElementaryStreamInfo(p.type,S,x,T,_),this.backtrackFragment&&(this.backtrackFragment=f),this.bufferFragmentData(p,f,d,u)}}else if(!1===s.independent)return void this.backtrack(f);if(b){var A=b.startPTS,C=b.endPTS,O=b.startDTS,I=b.endDTS;d&&(d.elementaryStreams[c.ElementaryStreamTypes.AUDIO]={startPTS:A,endPTS:C,startDTS:O,endDTS:I}),f.setElementaryStreamInfo(c.ElementaryStreamTypes.AUDIO,A,C,O,I),this.bufferFragmentData(b,f,d,u)}if(y&&null!==g&&void 0!==g&&null!==(t=g.samples)&&void 0!==t&&t.length){var R={id:n,frag:f,details:y,samples:g.samples};o.trigger(a.Events.FRAG_PARSING_METADATA,R)}if(y&&v){var L={id:n,frag:f,details:y,samples:v.samples};o.trigger(a.Events.FRAG_PARSING_USERDATA,L)}}},S._bufferInitSegment=function(e,t,n,r){var o=this;if(this.state===i.State.PARSING){this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;var s=t.audio,u=t.video,l=t.audiovideo;if(s){var c=e.audioCodec,f=navigator.userAgent.toLowerCase();this.audioCodecSwitch&&(c&&(c=-1!==c.indexOf("mp4a.40.5")?"mp4a.40.2":"mp4a.40.5"),1!==s.metadata.channelCount&&-1===f.indexOf("firefox")&&(c="mp4a.40.5")),-1!==f.indexOf("android")&&"audio/mpeg"!==s.container&&(c="mp4a.40.2",this.log("Android: force audio codec to "+c)),e.audioCodec&&e.audioCodec!==c&&this.log('Swapping manifest audio codec "'+e.audioCodec+'" for "'+c+'"'),s.levelCodec=c,s.id="main",this.log("Init audio buffer, container:"+s.container+", codecs[selected/level/parsed]=["+(c||"")+"/"+(e.audioCodec||"")+"/"+s.codec+"]")}u&&(u.levelCodec=e.videoCodec,u.id="main",this.log("Init video buffer, container:"+u.container+", codecs[level/parsed]=["+(e.videoCodec||"")+"/"+u.codec+"]")),l&&this.log("Init audiovideo buffer, container:"+l.container+", codecs[level/parsed]=["+(e.attrs.CODECS||"")+"/"+l.codec+"]"),this.hls.trigger(a.Events.BUFFER_CODECS,t),Object.keys(t).forEach((function(e){var i=t[e].initSegment;null!==i&&void 0!==i&&i.byteLength&&o.hls.trigger(a.Events.BUFFER_APPENDING,{type:e,data:i,frag:n,part:null,chunkMeta:r,parent:n.type})})),this.tick()}},S.getMainFwdBufferInfo=function(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,l.PlaylistLevelType.MAIN)},S.backtrack=function(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=i.State.IDLE},S.checkFragmentChanged=function(){var e=this.media,t=null;if(e&&e.readyState>1&&!1===e.seeking){var n=e.currentTime;if(s.BufferHelper.isBuffered(e,n)?t=this.getAppendedFrag(n):s.BufferHelper.isBuffered(e,n+.1)&&(t=this.getAppendedFrag(n+.1)),t){this.backtrackFragment=null;var r=this.fragPlaying,i=t.level;r&&t.sn===r.sn&&r.level===i&&t.urlId===r.urlId||(this.hls.trigger(a.Events.FRAG_CHANGED,{frag:t}),r&&r.level===i||this.hls.trigger(a.Events.LEVEL_SWITCHED,{level:i}),this.fragPlaying=t)}}},b=y,(w=[{key:"nextLevel",get:function(){var e=this.nextBufferedFrag;return e?e.level:-1}},{key:"currentFrag",get:function(){var e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}},{key:"currentProgramDateTime",get:function(){var e=this.media;if(e){var t=e.currentTime,n=this.currentFrag;if(n&&Object(r.isFiniteNumber)(t)&&Object(r.isFiniteNumber)(n.programDateTime)){var i=n.programDateTime+1e3*(t-n.start);return new Date(i)}}return null}},{key:"currentLevel",get:function(){var e=this.currentFrag;return e?e.level:-1}},{key:"nextBufferedFrag",get:function(){var e=this.currentFrag;return e?this.followingBufferedFrag(e):null}},{key:"forceStartLoad",get:function(){return this._forceStartLoad}}])&&g(b.prototype,w),E&&g(b,E),Object.defineProperty(b,"prototype",{writable:!1}),y}(i.default)},"./src/controller/subtitle-stream-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SubtitleStreamController",(function(){return p}));var r=n("./src/events.ts"),i=n("./src/utils/buffer-helper.ts"),o=n("./src/controller/fragment-finders.ts"),a=n("./src/utils/discontinuities.ts"),s=n("./src/controller/level-helper.ts"),u=n("./src/controller/fragment-tracker.ts"),l=n("./src/controller/base-stream-controller.ts"),c=n("./src/types/loader.ts"),f=n("./src/types/level.ts");function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){return h=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},h(e,t)}var p=function(e){var t,n;function p(t,n){var r;return(r=e.call(this,t,n,"[subtitle-stream-controller]")||this).levels=[],r.currentTrackId=-1,r.tracksBuffered=[],r.mainDetails=null,r._registerListeners(),r}n=e,(t=p).prototype=Object.create(n.prototype),t.prototype.constructor=t,h(t,n);var v,g,m,y=p.prototype;return y.onHandlerDestroying=function(){this._unregisterListeners(),this.mainDetails=null},y._registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.on(r.Events.ERROR,this.onError,this),e.on(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y._unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.LEVEL_LOADED,this.onLevelLoaded,this),e.off(r.Events.ERROR,this.onError,this),e.off(r.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(r.Events.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(r.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)},y.startLoad=function(){this.stopLoad(),this.state=l.State.IDLE,this.setInterval(500),this.tick()},y.onManifestLoading=function(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()},y.onLevelLoaded=function(e,t){this.mainDetails=t.details},y.onSubtitleFragProcessed=function(e,t){var n=t.frag,r=t.success;if(this.fragPrevious=n,this.state=l.State.IDLE,r){var i=this.tracksBuffered[this.currentTrackId];if(i){for(var o,a=n.start,s=0;s<i.length;s++)if(a>=i[s].start&&a<=i[s].end){o=i[s];break}var u=n.start+n.duration;o?o.end=u:(o={start:a,end:u},i.push(o)),this.fragmentTracker.fragBuffered(n)}}},y.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset;if(0===n&&r!==Number.POSITIVE_INFINITY){var i=this.currentTrackId,o=this.levels;if(!o.length||!o[i]||!o[i].details)return;var a=r-o[i].details.targetduration;if(a<=0)return;t.endOffsetSubtitles=Math.max(0,a),this.tracksBuffered.forEach((function(e){for(var t=0;t<e.length;)if(e[t].end<=a)e.shift();else{if(!(e[t].start<a))break;e[t].start=a,t++}})),this.fragmentTracker.removeFragmentsInRange(n,a,c.PlaylistLevelType.SUBTITLE)}},y.onError=function(e,t){var n,r=t.frag;r&&r.type===c.PlaylistLevelType.SUBTITLE&&(null!==(n=this.fragCurrent)&&void 0!==n&&n.loader&&this.fragCurrent.loader.abort(),this.state=l.State.IDLE)},y.onSubtitleTracksUpdated=function(e,t){var n=this,r=t.subtitleTracks;this.tracksBuffered=[],this.levels=r.map((function(e){return new f.Level(e)})),this.fragmentTracker.removeAllFragments(),this.fragPrevious=null,this.levels.forEach((function(e){n.tracksBuffered[e.id]=[]})),this.mediaBuffer=null},y.onSubtitleTrackSwitch=function(e,t){if(this.currentTrackId=t.id,this.levels.length&&-1!==this.currentTrackId){var n=this.levels[this.currentTrackId];null!==n&&void 0!==n&&n.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,n&&this.setInterval(500)}else this.clearInterval()},y.onSubtitleTrackLoaded=function(e,t){var n,r=t.details,i=t.id,u=this.currentTrackId,c=this.levels;if(c.length){var f=c[u];if(!(i>=c.length||i!==u)&&f){if(this.mediaBuffer=this.mediaBufferTimeRanges,r.live||null!==(n=f.details)&&void 0!==n&&n.live){var d=this.mainDetails;if(r.deltaUpdateFailed||!d)return;var h=d.fragments[0];f.details?0===this.alignPlaylists(r,f.details)&&h&&Object(s.addSliding)(r,h.start):r.hasProgramDateTime&&d.hasProgramDateTime?Object(a.alignMediaPlaylistByPDT)(r,d):h&&Object(s.addSliding)(r,h.start)}f.details=r,this.levelLastLoaded=i,this.tick(),r.live&&!this.fragCurrent&&this.media&&this.state===l.State.IDLE&&(Object(o.findFragmentByPTS)(null,r.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),f.details=void 0))}}},y._handleFragmentLoadComplete=function(e){var t=e.frag,n=e.payload,i=t.decryptdata,o=this.hls;if(!this.fragContextChanged(t)&&n&&n.byteLength>0&&i&&i.key&&i.iv&&"AES-128"===i.method){var a=performance.now();this.decrypter.webCryptoDecrypt(new Uint8Array(n),i.key.buffer,i.iv.buffer).then((function(e){var n=performance.now();o.trigger(r.Events.FRAG_DECRYPTED,{frag:t,payload:e,stats:{tstart:a,tdecrypt:n}})}))}},y.doTick=function(){if(this.media){if(this.state===l.State.IDLE){var e,t=this.currentTrackId,n=this.levels;if(!n.length||!n[t]||!n[t].details)return;var r=n[t].details,a=r.targetduration,s=this.config,c=this.media,f=i.BufferHelper.bufferedInfo(this.mediaBufferTimeRanges,c.currentTime-a,s.maxBufferHole),d=f.end;if(f.len>this.getMaxBufferLength()+a)return;console.assert(r,"Subtitle track details are defined on idle subtitle stream controller tick");var h,p=r.fragments,v=p.length,g=r.edge,m=this.fragPrevious;if(d<g){var y=s.maxFragLookUpTolerance;!(h=Object(o.findFragmentByPTS)(m,p,Math.max(p[0].start,d),y))&&m&&m.start<p[0].start&&(h=p[0])}else h=p[v-1];null!==(e=h)&&void 0!==e&&e.encrypted?this.loadKey(h,r):h&&this.fragmentTracker.getState(h)===u.FragmentState.NOT_LOADED&&this.loadFragment(h,r,d)}}else this.state=l.State.IDLE},y.loadFragment=function(t,n,r){this.fragCurrent=t,e.prototype.loadFragment.call(this,t,n,r)},v=p,(g=[{key:"mediaBufferTimeRanges",get:function(){return this.tracksBuffered[this.currentTrackId]||[]}}])&&d(v.prototype,g),m&&d(v,m),Object.defineProperty(v,"prototype",{writable:!1}),p}(l.default)},"./src/controller/subtitle-track-controller.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/events.ts"),i=n("./src/utils/texttrack-utils.ts"),o=n("./src/controller/base-playlist-controller.ts"),a=n("./src/types/loader.ts");function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var l=function(e){var t,n;function o(t){var n;return(n=e.call(this,t,"[subtitle-track-controller]")||this).media=null,n.tracks=[],n.groupId=null,n.tracksInGroup=[],n.trackId=-1,n.selectDefaultTrack=!0,n.queuedDefaultTrack=-1,n.trackChangeListener=function(){return n.onTextTracksChanged()},n.asyncPollTrackChange=function(){return n.pollTrackChange(0)},n.useTextTrackPolling=!1,n.subtitlePollingInterval=-1,n._subtitleDisplay=!0,n.registerListeners(),n}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n);var l,f,d,h=o.prototype;return h.destroy=function(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.trackChangeListener=this.asyncPollTrackChange=null,e.prototype.destroy.call(this)},h.registerListeners=function(){var e=this.hls;e.on(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.on(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(r.Events.ERROR,this.onError,this)},h.unregisterListeners=function(){var e=this.hls;e.off(r.Events.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(r.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(r.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(r.Events.MANIFEST_PARSED,this.onManifestParsed,this),e.off(r.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(r.Events.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(r.Events.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(r.Events.ERROR,this.onError,this)},h.onMediaAttached=function(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))},h.pollTrackChange=function(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.trackChangeListener,e)},h.onMediaDetaching=function(){this.media&&(self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),c(this.media.textTracks).forEach((function(e){Object(i.clearCurrentCues)(e)})),this.subtitleTrack=-1,this.media=null)},h.onManifestLoading=function(){this.tracks=[],this.groupId=null,this.tracksInGroup=[],this.trackId=-1,this.selectDefaultTrack=!0},h.onManifestParsed=function(e,t){this.tracks=t.subtitleTracks},h.onSubtitleTrackLoaded=function(e,t){var n=t.id,r=t.details,i=this.trackId,o=this.tracksInGroup[i];if(o){var a=o.details;o.details=t.details,this.log("subtitle track "+n+" loaded ["+r.startSN+"-"+r.endSN+"]"),n===this.trackId&&(this.retryCount=0,this.playlistLoaded(n,t,a))}else this.warn("Invalid subtitle track id "+n)},h.onLevelLoading=function(e,t){this.switchLevel(t.level)},h.onLevelSwitching=function(e,t){this.switchLevel(t.level)},h.switchLevel=function(e){var t=this.hls.levels[e];if(null!==t&&void 0!==t&&t.textGroupIds){var n=t.textGroupIds[t.urlId];if(this.groupId!==n){var i=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0,o=this.tracks.filter((function(e){return!n||e.groupId===n}));this.tracksInGroup=o;var a=this.findTrackId(null===i||void 0===i?void 0:i.name)||this.findTrackId();this.groupId=n;var s={subtitleTracks:o};this.log("Updating subtitle tracks, "+o.length+' track(s) found in "'+n+'" group-id'),this.hls.trigger(r.Events.SUBTITLE_TRACKS_UPDATED,s),-1!==a&&this.setSubtitleTrack(a,i)}}},h.findTrackId=function(e){for(var t=this.tracksInGroup,n=0;n<t.length;n++){var r=t[n];if((!this.selectDefaultTrack||r.default)&&(!e||e===r.name))return r.id}return-1},h.onError=function(t,n){e.prototype.onError.call(this,t,n),!n.fatal&&n.context&&n.context.type===a.PlaylistContextType.SUBTITLE_TRACK&&n.context.id===this.trackId&&n.context.groupId===this.groupId&&this.retryLoadingOrFail(n)},h.loadPlaylist=function(e){var t=this.tracksInGroup[this.trackId];if(this.shouldLoadTrack(t)){var n=t.id,i=t.groupId,o=t.url;if(e)try{o=e.addDirectives(o)}catch(a){this.warn("Could not construct new URL with HLS Delivery Directives: "+a)}this.log("Loading subtitle playlist for id "+n),this.hls.trigger(r.Events.SUBTITLE_TRACK_LOADING,{url:o,id:n,groupId:i,deliveryDirectives:e||null})}},h.toggleTrackModes=function(e){var t=this,n=this.media,r=this.trackId;if(n){var i=c(n.textTracks),o=i.filter((function(e){return e.groupId===t.groupId}));if(-1===e)[].slice.call(i).forEach((function(e){e.mode="disabled"}));else{var a=o[r];a&&(a.mode="disabled")}var s=o[e];s&&(s.mode=this.subtitleDisplay?"showing":"hidden")}},h.setSubtitleTrack=function(e,t){var n,i=this.tracksInGroup;if(this.media){if(this.trackId!==e&&this.toggleTrackModes(e),!(this.trackId===e&&(-1===e||null!==(n=i[e])&&void 0!==n&&n.details)||e<-1||e>=i.length)){this.clearTimer();var o=i[e];if(this.log("Switching to subtitle track "+e),this.trackId=e,o){var a=o.id,s=o.groupId,u=void 0===s?"":s,l=o.name,c=o.type,f=o.url;this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:a,groupId:u,name:l,type:c,url:f});var d=this.switchParams(o.url,null===t||void 0===t?void 0:t.details);this.loadPlaylist(d)}else this.hls.trigger(r.Events.SUBTITLE_TRACK_SWITCH,{id:e})}}else this.queuedDefaultTrack=e},h.onTextTracksChanged=function(){if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),this.media&&this.hls.config.renderTextTracksNatively){for(var e=-1,t=c(this.media.textTracks),n=0;n<t.length;n++)if("hidden"===t[n].mode)e=n;else if("showing"===t[n].mode){e=n;break}this.subtitleTrack!==e&&(this.subtitleTrack=e)}},l=o,(f=[{key:"subtitleDisplay",get:function(){return this._subtitleDisplay},set:function(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes(this.trackId)}},{key:"subtitleTracks",get:function(){return this.tracksInGroup}},{key:"subtitleTrack",get:function(){return this.trackId},set:function(e){this.selectDefaultTrack=!1;var t=this.tracksInGroup?this.tracksInGroup[this.trackId]:void 0;this.setSubtitleTrack(e,t)}}])&&s(l.prototype,f),d&&s(l,d),Object.defineProperty(l,"prototype",{writable:!1}),o}(o.default);function c(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];"subtitles"===r.kind&&r.label&&t.push(e[n])}return t}t.default=l},"./src/controller/timeline-controller.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineController",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/utils/cea-608-parser.ts"),a=n("./src/utils/output-filter.ts"),s=n("./src/utils/webvtt-parser.ts"),u=n("./src/utils/texttrack-utils.ts"),l=n("./src/utils/imsc1-ttml-parser.ts"),c=n("./src/types/loader.ts"),f=n("./src/utils/logger.ts"),d=function(){function e(e){if(this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.timescale=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},this.config.enableCEA708Captions){var t=new a.default(this,"textTrack1"),n=new a.default(this,"textTrack2"),r=new a.default(this,"textTrack3"),s=new a.default(this,"textTrack4");this.cea608Parser1=new o.default(1,t,n),this.cea608Parser2=new o.default(3,r,s)}e.on(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(i.Events.FRAG_LOADING,this.onFragLoading,this),e.on(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.on(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this)}var t=e.prototype;return t.destroy=function(){var e=this.hls;e.off(i.Events.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(i.Events.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(i.Events.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(i.Events.FRAG_LOADING,this.onFragLoading,this),e.off(i.Events.FRAG_LOADED,this.onFragLoaded,this),e.off(i.Events.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(i.Events.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(i.Events.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(i.Events.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(i.Events.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=this.cea608Parser1=this.cea608Parser2=null},t.addCues=function(e,t,n,r,o){for(var a,s,u,l,c=!1,f=o.length;f--;){var d=o[f],h=(a=d[0],s=d[1],u=t,l=n,Math.min(s,l)-Math.max(a,u));if(h>=0&&(d[0]=Math.min(d[0],t),d[1]=Math.max(d[1],n),c=!0,h/(n-t)>.5))return}if(c||o.push([t,n]),this.config.renderTextTracksNatively){var p=this.captionsTracks[e];this.Cues.newCue(p,t,n,r)}else{var v=this.Cues.newCue(null,t,n,r);this.hls.trigger(i.Events.CUES_PARSED,{type:"captions",cues:v,track:e})}},t.onInitPtsFound=function(e,t){var n=this,r=t.frag,o=t.id,a=t.initPTS,s=t.timescale,u=this.unparsedVttFrags;"main"===o&&(this.initPTS[r.cc]=a,this.timescale[r.cc]=s),u.length&&(this.unparsedVttFrags=[],u.forEach((function(e){n.onFragLoaded(i.Events.FRAG_LOADED,e)})))},t.getExistingTrack=function(e){var t=this.media;if(t)for(var n=0;n<t.textTracks.length;n++){var r=t.textTracks[n];if(r[e])return r}return null},t.createCaptionsTrack=function(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)},t.createNativeTrack=function(e){if(!this.captionsTracks[e]){var t=this.captionsProperties,n=this.captionsTracks,r=this.media,i=t[e],o=i.label,a=i.languageCode,s=this.getExistingTrack(e);if(s)n[e]=s,Object(u.clearCurrentCues)(n[e]),Object(u.sendAddTrackEvent)(n[e],r);else{var l=this.createTextTrack("captions",o,a);l&&(l[e]=!0,n[e]=l)}}},t.createNonNativeTrack=function(e){if(!this.nonNativeCaptionsTracks[e]){var t=this.captionsProperties[e];if(t){var n={_id:e,label:t.label,kind:"captions",default:!!t.media&&!!t.media.default,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=n,this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[n]})}}},t.createTextTrack=function(e,t,n){var r=this.media;if(r)return r.addTextTrack(e,t,n)},t.onMediaAttaching=function(e,t){this.media=t.media,this._cleanTracks()},t.onMediaDetaching=function(){var e=this.captionsTracks;Object.keys(e).forEach((function(t){Object(u.clearCurrentCues)(e[t]),delete e[t]})),this.nonNativeCaptionsTracks={}},t.onManifestLoading=function(){this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs={ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!1}},this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=this.unparsedVttFrags||[],this.initPTS=[],this.timescale=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())},t._cleanTracks=function(){var e=this.media;if(e){var t=e.textTracks;if(t)for(var n=0;n<t.length;n++)Object(u.clearCurrentCues)(t[n])}},t.onSubtitleTracksUpdated=function(e,t){var n=this;this.textTracks=[];var r=t.subtitleTracks||[],o=r.some((function(e){return e.textCodec===l.IMSC1_CODEC}));if(this.config.enableWebVTT||o&&this.config.enableIMSC1){var a=this.tracks&&r&&this.tracks.length===r.length;if(this.tracks=r||[],this.config.renderTextTracksNatively){var s=this.media?this.media.textTracks:[];this.tracks.forEach((function(e,t){var r;if(t<s.length){for(var i=null,o=0;o<s.length;o++)if(h(s[o],e)){i=s[o];break}i&&(r=i)}r?Object(u.clearCurrentCues)(r):(r=n.createTextTrack("subtitles",e.name,e.lang))&&(r.mode="disabled"),r&&(r.groupId=e.groupId,n.textTracks.push(r))}))}else if(!a&&this.tracks&&this.tracks.length){var c=this.tracks.map((function(e){return{label:e.name,kind:e.type.toLowerCase(),default:e.default,subtitleTrack:e}}));this.hls.trigger(i.Events.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:c})}}},t.onManifestLoaded=function(e,t){var n=this;this.config.enableCEA708Captions&&t.captions&&t.captions.forEach((function(e){var t=/(?:CC|SERVICE)([1-4])/.exec(e.instreamId);if(t){var r="textTrack"+t[1],i=n.captionsProperties[r];i&&(i.label=e.name,e.lang&&(i.languageCode=e.lang),i.media=e)}}))},t.onFragLoading=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2,i=this.lastSn,o=this.lastPartIndex;if(this.enabled&&n&&r&&t.frag.type===c.PlaylistLevelType.MAIN){var a,s,u=t.frag.sn,l=null!=(a=null===t||void 0===t||null===(s=t.part)||void 0===s?void 0:s.index)?a:-1;u===i+1||u===i&&l===o+1||(n.reset(),r.reset()),this.lastSn=u,this.lastPartIndex=l}},t.onFragLoaded=function(e,t){var n=t.frag,o=t.payload,a=this.initPTS,s=this.unparsedVttFrags;if(n.type===c.PlaylistLevelType.SUBTITLE)if(o.byteLength){if(!Object(r.isFiniteNumber)(a[n.cc]))return s.push(t),void(a.length&&this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Missing initial subtitle PTS")}));var u=n.decryptdata,f="stats"in t;if(null==u||null==u.key||"AES-128"!==u.method||f){var d=this.tracks[n.level],h=this.vttCCs;h[n.cc]||(h[n.cc]={start:n.start,prevCC:this.prevCC,new:!0},this.prevCC=n.cc),d&&d.textCodec===l.IMSC1_CODEC?this._parseIMSC1(n,o):this._parseVTTs(n,o,h)}}else this.hls.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:n,error:new Error("Empty subtitle payload")})},t._parseIMSC1=function(e,t){var n=this,r=this.hls;Object(l.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(t){n._appendCues(t,e.level),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(t){f.logger.log("Failed to parse IMSC1: "+t),r.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:t})}))},t._parseVTTs=function(e,t,n){var r=this,o=this.hls;Object(s.parseWebVTT)(t,this.initPTS[e.cc],this.timescale[e.cc],n,e.cc,e.start,(function(t){r._appendCues(t,e.level),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})}),(function(n){r._fallbackToIMSC1(e,t),f.logger.log("Failed to parse VTT cue: "+n),o.trigger(i.Events.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:n})}))},t._fallbackToIMSC1=function(e,t){var n=this,r=this.tracks[e.level];r.textCodec||Object(l.parseIMSC1)(t,this.initPTS[e.cc],this.timescale[e.cc],(function(){r.textCodec=l.IMSC1_CODEC,n._parseIMSC1(e,t)}),(function(){r.textCodec="wvtt"}))},t._appendCues=function(e,t){var n=this.hls;if(this.config.renderTextTracksNatively){var r=this.textTracks[t];if(!r||"disabled"===r.mode)return;e.forEach((function(e){return Object(u.addCueToTrack)(r,e)}))}else{var o=this.tracks[t];if(!o)return;var a=o.default?"default":"subtitles"+t;n.trigger(i.Events.CUES_PARSED,{type:"subtitles",cues:e,track:a})}},t.onFragDecrypted=function(e,t){var n=t.frag;if(n.type===c.PlaylistLevelType.SUBTITLE){if(!Object(r.isFiniteNumber)(this.initPTS[n.cc]))return void this.unparsedVttFrags.push(t);this.onFragLoaded(i.Events.FRAG_LOADED,t)}},t.onSubtitleTracksCleared=function(){this.tracks=[],this.captionsTracks={}},t.onFragParsingUserdata=function(e,t){var n=this.cea608Parser1,r=this.cea608Parser2;if(this.enabled&&n&&r)for(var i=0;i<t.samples.length;i++){var o=t.samples[i].bytes;if(o){var a=this.extractCea608Data(o);n.addData(t.samples[i].pts,a[0]),r.addData(t.samples[i].pts,a[1])}}},t.onBufferFlushing=function(e,t){var n=t.startOffset,r=t.endOffset,i=t.endOffsetSubtitles,o=t.type,a=this.media;if(a&&!(a.currentTime<r)){if(!o||"video"===o){var s=this.captionsTracks;Object.keys(s).forEach((function(e){return Object(u.removeCuesInRange)(s[e],n,r)}))}if(this.config.renderTextTracksNatively&&0===n&&void 0!==i){var l=this.textTracks;Object.keys(l).forEach((function(e){return Object(u.removeCuesInRange)(l[e],n,i)}))}}},t.extractCea608Data=function(e){for(var t=[[],[]],n=31&e[0],r=2,i=0;i<n;i++){var o=e[r++],a=127&e[r++],s=127&e[r++];if((0!==a||0!==s)&&0!==(4&o)){var u=3&o;0!==u&&1!==u||(t[u].push(a),t[u].push(s))}}return t},e}();function h(e,t){return e&&e.label===t.name&&!(e.textTrack1||e.textTrack2)}},"./src/crypt/aes-crypto.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}return e.prototype.decrypt=function(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)},e}()},"./src/crypt/aes-decryptor.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"removePadding",(function(){return i})),n.d(t,"default",(function(){return o}));var r=n("./src/utils/typed-array.ts");function i(e){var t=e.byteLength,n=t&&new DataView(e.buffer).getUint8(t-1);return n?Object(r.sliceUint8)(e,0,t-n):e}var o=function(){function e(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}var t=e.prototype;return t.uint8ArrayToUint32Array_=function(e){for(var t=new DataView(e),n=new Uint32Array(4),r=0;r<4;r++)n[r]=t.getUint32(4*r);return n},t.initTable=function(){var e=this.sBox,t=this.invSBox,n=this.subMix,r=n[0],i=n[1],o=n[2],a=n[3],s=this.invSubMix,u=s[0],l=s[1],c=s[2],f=s[3],d=new Uint32Array(256),h=0,p=0,v=0;for(v=0;v<256;v++)d[v]=v<128?v<<1:v<<1^283;for(v=0;v<256;v++){var g=p^p<<1^p<<2^p<<3^p<<4;g=g>>>8^255&g^99,e[h]=g,t[g]=h;var m=d[h],y=d[m],b=d[y],w=257*d[g]^16843008*g;r[h]=w<<24|w>>>8,i[h]=w<<16|w>>>16,o[h]=w<<8|w>>>24,a[h]=w,w=16843009*b^65537*y^257*m^16843008*h,u[g]=w<<24|w>>>8,l[g]=w<<16|w>>>16,c[g]=w<<8|w>>>24,f[g]=w,h?(h=m^d[d[d[b^m]]],p^=d[d[p]]):h=p=1}},t.expandKey=function(e){for(var t=this.uint8ArrayToUint32Array_(e),n=!0,r=0;r<t.length&&n;)n=t[r]===this.key[r],r++;if(!n){this.key=t;var i=this.keySize=t.length;if(4!==i&&6!==i&&8!==i)throw new Error("Invalid aes key size="+i);var o,a,s,u,l=this.ksRows=4*(i+6+1),c=this.keySchedule=new Uint32Array(l),f=this.invKeySchedule=new Uint32Array(l),d=this.sBox,h=this.rcon,p=this.invSubMix,v=p[0],g=p[1],m=p[2],y=p[3];for(o=0;o<l;o++)o<i?s=c[o]=t[o]:(u=s,o%i===0?(u=d[(u=u<<8|u>>>24)>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u],u^=h[o/i|0]<<24):i>6&&o%i===4&&(u=d[u>>>24]<<24|d[u>>>16&255]<<16|d[u>>>8&255]<<8|d[255&u]),c[o]=s=(c[o-i]^u)>>>0);for(a=0;a<l;a++)o=l-a,u=3&a?c[o]:c[o-4],f[a]=a<4||o<=4?u:v[d[u>>>24]]^g[d[u>>>16&255]]^m[d[u>>>8&255]]^y[d[255&u]],f[a]=f[a]>>>0}},t.networkToHostOrderSwap=function(e){return e<<24|(65280&e)<<8|(16711680&e)>>8|e>>>24},t.decrypt=function(e,t,n){for(var r,i,o,a,s,u,l,c,f,d,h,p,v,g,m=this.keySize+6,y=this.invKeySchedule,b=this.invSBox,w=this.invSubMix,E=w[0],S=w[1],x=w[2],T=w[3],_=this.uint8ArrayToUint32Array_(n),k=_[0],A=_[1],C=_[2],O=_[3],I=new Int32Array(e),R=new Int32Array(I.length),L=this.networkToHostOrderSwap;t<I.length;){for(f=L(I[t]),d=L(I[t+1]),h=L(I[t+2]),p=L(I[t+3]),s=f^y[0],u=p^y[1],l=h^y[2],c=d^y[3],v=4,g=1;g<m;g++)r=E[s>>>24]^S[u>>16&255]^x[l>>8&255]^T[255&c]^y[v],i=E[u>>>24]^S[l>>16&255]^x[c>>8&255]^T[255&s]^y[v+1],o=E[l>>>24]^S[c>>16&255]^x[s>>8&255]^T[255&u]^y[v+2],a=E[c>>>24]^S[s>>16&255]^x[u>>8&255]^T[255&l]^y[v+3],s=r,u=i,l=o,c=a,v+=4;r=b[s>>>24]<<24^b[u>>16&255]<<16^b[l>>8&255]<<8^b[255&c]^y[v],i=b[u>>>24]<<24^b[l>>16&255]<<16^b[c>>8&255]<<8^b[255&s]^y[v+1],o=b[l>>>24]<<24^b[c>>16&255]<<16^b[s>>8&255]<<8^b[255&u]^y[v+2],a=b[c>>>24]<<24^b[s>>16&255]<<16^b[u>>8&255]<<8^b[255&l]^y[v+3],R[t]=L(r^k),R[t+1]=L(a^A),R[t+2]=L(o^C),R[t+3]=L(i^O),k=f,A=d,C=h,O=p,t+=4}return R.buffer},e}()},"./src/crypt/decrypter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return l}));var r=n("./src/crypt/aes-crypto.ts"),i=n("./src/crypt/fast-aes-key.ts"),o=n("./src/crypt/aes-decryptor.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),l=function(){function e(e,t,n){var r=(void 0===n?{}:n).removePKCS7Padding,i=void 0===r||r;if(this.logEnabled=!0,this.observer=void 0,this.config=void 0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.observer=e,this.config=t,this.removePKCS7Padding=i,i)try{var o=self.crypto;o&&(this.subtle=o.subtle||o.webkitSubtle)}catch(a){}null===this.subtle&&(this.config.enableSoftwareAES=!0)}var t=e.prototype;return t.destroy=function(){this.observer=null},t.isSync=function(){return this.config.enableSoftwareAES},t.flush=function(){var e=this.currentResult;if(e){var t=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?Object(o.removePadding)(t):t}this.reset()},t.reset=function(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)},t.decrypt=function(e,t,n,r){if(this.config.enableSoftwareAES){this.softwareDecrypt(new Uint8Array(e),t,n);var i=this.flush();i&&r(i.buffer)}else this.webCryptoDecrypt(new Uint8Array(e),t,n).then(r)},t.softwareDecrypt=function(e,t,n){var r=this.currentIV,i=this.currentResult,a=this.remainderData;this.logOnce("JS AES decrypt"),a&&(e=Object(s.appendUint8Array)(a,e),this.remainderData=null);var l=this.getValidChunk(e);if(!l.length)return null;r&&(n=r);var c=this.softwareDecrypter;c||(c=this.softwareDecrypter=new o.default),c.expandKey(t);var f=i;return this.currentResult=c.decrypt(l.buffer,0,n),this.currentIV=Object(u.sliceUint8)(l,-16).buffer,f||null},t.webCryptoDecrypt=function(e,t,n){var o=this,a=this.subtle;return this.key===t&&this.fastAesKey||(this.key=t,this.fastAesKey=new i.default(a,t)),this.fastAesKey.expandKey().then((function(t){return a?new r.default(a,n).decrypt(e.buffer,t):Promise.reject(new Error("web crypto not initialized"))})).catch((function(r){return o.onWebCryptoError(r,e,t,n)}))},t.onWebCryptoError=function(e,t,n,r){return a.logger.warn("[decrypter.ts]: WebCrypto Error, disable WebCrypto API:",e),this.config.enableSoftwareAES=!0,this.logEnabled=!0,this.softwareDecrypt(t,n,r)},t.getValidChunk=function(e){var t=e,n=e.length-e.length%16;return n!==e.length&&(t=Object(u.sliceUint8)(e,0,n),this.remainderData=Object(u.sliceUint8)(e,n)),t},t.logOnce=function(e){this.logEnabled&&(a.logger.log("[decrypter.ts]: "+e),this.logEnabled=!1)},e}()},"./src/crypt/fast-aes-key.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}return e.prototype.expandKey=function(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])},e}()},"./src/demux/aacdemuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/adts.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/id3.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(t,n){var r;return(r=e.call(this)||this).observer=void 0,r.config=void 0,r.observer=t,r.config=n,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r,i){e.prototype.resetInitSegment.call(this,t,n,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(a.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(i.probe(e,t))return o.logger.log("ADTS sync word found !"),!0;return!1},u.canParse=function(e,t){return i.canParse(e,t)},u.appendFrame=function(e,t,n){i.initTrackConfig(e,this.observer,t,n,e.manifestCodec);var r=i.appendFrame(e,t,n,this.initPTS,this.frameIndex);if(r&&0===r.missing)return r},r}(r.default);u.minProbeByteLength=9,t.default=u},"./src/demux/adts.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getAudioConfig",(function(){return a})),n.d(t,"isHeaderPattern",(function(){return s})),n.d(t,"getHeaderLength",(function(){return u})),n.d(t,"getFullFrameLength",(function(){return l})),n.d(t,"canGetFrameLength",(function(){return c})),n.d(t,"isHeader",(function(){return f})),n.d(t,"canParse",(function(){return d})),n.d(t,"probe",(function(){return h})),n.d(t,"initTrackConfig",(function(){return p})),n.d(t,"getFrameDuration",(function(){return v})),n.d(t,"parseFrameHeader",(function(){return g})),n.d(t,"appendFrame",(function(){return m}));var r=n("./src/utils/logger.ts"),i=n("./src/errors.ts"),o=n("./src/events.ts");function a(e,t,n,a){var s,u,l,c,f=navigator.userAgent.toLowerCase(),d=a,h=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];s=1+((192&t[n+2])>>>6);var p=(60&t[n+2])>>>2;if(!(p>h.length-1))return l=(1&t[n+2])<<2,l|=(192&t[n+3])>>>6,r.logger.log("manifest codec:"+a+", ADTS type:"+s+", samplingIndex:"+p),/firefox/i.test(f)?p>=6?(s=5,c=new Array(4),u=p-3):(s=2,c=new Array(2),u=p):-1!==f.indexOf("android")?(s=2,c=new Array(2),u=p):(s=5,c=new Array(4),a&&(-1!==a.indexOf("mp4a.40.29")||-1!==a.indexOf("mp4a.40.5"))||!a&&p>=6?u=p-3:((a&&-1!==a.indexOf("mp4a.40.2")&&(p>=6&&1===l||/vivaldi/i.test(f))||!a&&1===l)&&(s=2,c=new Array(2)),u=p)),c[0]=s<<3,c[0]|=(14&p)>>1,c[1]|=(1&p)<<7,c[1]|=l<<3,5===s&&(c[1]|=(14&u)>>1,c[2]=(1&u)<<7,c[2]|=8,c[3]=0),{config:c,samplerate:h[p],channelCount:l,codec:"mp4a.40."+s,manifestCodec:d};e.trigger(o.Events.ERROR,{type:i.ErrorTypes.MEDIA_ERROR,details:i.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"invalid ADTS sampling index:"+p})}function s(e,t){return 255===e[t]&&240===(246&e[t+1])}function u(e,t){return 1&e[t+1]?7:9}function l(e,t){return(3&e[t+3])<<11|e[t+4]<<3|(224&e[t+5])>>>5}function c(e,t){return t+5<e.length}function f(e,t){return t+1<e.length&&s(e,t)}function d(e,t){return c(e,t)&&s(e,t)&&l(e,t)<=e.length-t}function h(e,t){if(f(e,t)){var n=u(e,t);if(t+n>=e.length)return!1;var r=l(e,t);if(r<=n)return!1;var i=t+r;return i===e.length||f(e,i)}return!1}function p(e,t,n,i,o){if(!e.samplerate){var s=a(t,n,i,o);if(!s)return;e.config=s.config,e.samplerate=s.samplerate,e.channelCount=s.channelCount,e.codec=s.codec,e.manifestCodec=s.manifestCodec,r.logger.log("parsed codec:"+e.codec+", rate:"+s.samplerate+", channels:"+s.channelCount)}}function v(e){return 9216e4/e}function g(e,t){var n=u(e,t);if(t+n<=e.length){var r=l(e,t)-n;if(r>0)return{headerLength:n,frameLength:r}}}function m(e,t,n,r,i){var o,a=r+i*v(e.samplerate),s=g(t,n);if(s){var u=s.frameLength,l=s.headerLength,c=l+u,f=Math.max(0,n+c-t.length);f?(o=new Uint8Array(c-l)).set(t.subarray(n+l,t.length),0):o=t.subarray(n+l,n+c);var d={unit:o,pts:a};return f||e.samples.push(d),{sample:d,length:c,missing:f}}var h=t.length-n;return(o=new Uint8Array(h)).set(t.subarray(n,t.length),0),{sample:{unit:o,pts:a},length:h,missing:-1}}},"./src/demux/base-audio-demuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"initPTSFn",(function(){return c}));var r=n("./src/polyfills/number.ts"),i=n("./src/demux/id3.ts"),o=n("./src/types/demuxer.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/utils/typed-array.ts"),l=function(){function e(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.initPTS=null}var t=e.prototype;return t.resetInitSegment=function(e,t,n,r){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}},t.resetTimeStamp=function(){},t.resetContiguity=function(){},t.canParse=function(e,t){return!1},t.appendFrame=function(e,t,n){},t.demux=function(e,t){this.cachedData&&(e=Object(s.appendUint8Array)(this.cachedData,e),this.cachedData=null);var n,r,l=i.getID3Data(e,0),f=l?l.length:0,d=this._audioTrack,h=this._id3Track,p=l?i.getTimeStamp(l):void 0,v=e.length;for(0!==this.frameIndex&&null!==this.initPTS||(this.initPTS=c(p,t)),l&&l.length>0&&h.samples.push({pts:this.initPTS,dts:this.initPTS,data:l,type:o.MetadataSchema.audioId3}),r=this.initPTS;f<v;){if(this.canParse(e,f)){var g=this.appendFrame(d,e,f);g?(this.frameIndex++,r=g.sample.pts,n=f+=g.length):f=v}else i.canParse(e,f)?(l=i.getID3Data(e,f),h.samples.push({pts:r,dts:r,data:l,type:o.MetadataSchema.audioId3}),n=f+=l.length):f++;if(f===v&&n!==v){var m=Object(u.sliceUint8)(e,n);this.cachedData?this.cachedData=Object(s.appendUint8Array)(this.cachedData,m):this.cachedData=m}}return{audioTrack:d,videoTrack:Object(a.dummyTrack)(),id3Track:h,textTrack:Object(a.dummyTrack)()}},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("["+this+"] This demuxer does not support Sample-AES decryption"))},t.flush=function(e){var t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),this.frameIndex=0,{audioTrack:this._audioTrack,videoTrack:Object(a.dummyTrack)(),id3Track:this._id3Track,textTrack:Object(a.dummyTrack)()}},t.destroy=function(){},e}(),c=function(e,t){return Object(r.isFiniteNumber)(e)?90*e:9e4*t};t.default=l},"./src/demux/chunk-cache.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this.chunks=[],this.dataLength=0}var t=e.prototype;return t.push=function(e){this.chunks.push(e),this.dataLength+=e.length},t.flush=function(){var e,t=this.chunks,n=this.dataLength;return t.length?(e=1===t.length?t[0]:function(e,t){for(var n=new Uint8Array(t),r=0,i=0;i<e.length;i++){var o=e[i];n.set(o,r),r+=o.length}return n}(t,n),this.reset(),e):new Uint8Array(0)},t.reset=function(){this.chunks.length=0,this.dataLength=0},e}()},"./src/demux/dummy-demuxed-track.ts":function(e,t,n){"use strict";function r(e,t){return void 0===e&&(e=""),void 0===t&&(t=9e4),{type:e,id:-1,pid:-1,inputTimeScale:t,sequenceNumber:-1,samples:[],dropped:0}}n.r(t),n.d(t,"dummyTrack",(function(){return r}))},"./src/demux/exp-golomb.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/logger.ts"),i=function(){function e(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}var t=e.prototype;return t.loadWord=function(){var e=this.data,t=this.bytesAvailable,n=e.byteLength-t,r=new Uint8Array(4),i=Math.min(4,t);if(0===i)throw new Error("no bytes available");r.set(e.subarray(n,n+i)),this.word=new DataView(r.buffer).getUint32(0),this.bitsAvailable=8*i,this.bytesAvailable-=i},t.skipBits=function(e){var t;this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,e-=(t=e>>3)>>3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)},t.readBits=function(e){var t=Math.min(this.bitsAvailable,e),n=this.word>>>32-t;return e>32&&r.logger.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0?this.word<<=t:this.bytesAvailable>0&&this.loadWord(),(t=e-t)>0&&this.bitsAvailable?n<<t|this.readBits(t):n},t.skipLZ=function(){var e;for(e=0;e<this.bitsAvailable;++e)if(0!==(this.word&2147483648>>>e))return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()},t.skipUEG=function(){this.skipBits(1+this.skipLZ())},t.skipEG=function(){this.skipBits(1+this.skipLZ())},t.readUEG=function(){var e=this.skipLZ();return this.readBits(e+1)-1},t.readEG=function(){var e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)},t.readBoolean=function(){return 1===this.readBits(1)},t.readUByte=function(){return this.readBits(8)},t.readUShort=function(){return this.readBits(16)},t.readUInt=function(){return this.readBits(32)},t.skipScalingList=function(e){for(var t=8,n=8,r=0;r<e;r++)0!==n&&(n=(t+this.readEG()+256)%256),t=0===n?t:n},t.readSPS=function(){var e,t,n,r=0,i=0,o=0,a=0,s=this.readUByte.bind(this),u=this.readBits.bind(this),l=this.readUEG.bind(this),c=this.readBoolean.bind(this),f=this.skipBits.bind(this),d=this.skipEG.bind(this),h=this.skipUEG.bind(this),p=this.skipScalingList.bind(this);s();var v=s();if(u(5),f(3),s(),h(),100===v||110===v||122===v||244===v||44===v||83===v||86===v||118===v||128===v){var g=l();if(3===g&&f(1),h(),h(),f(1),c())for(t=3!==g?8:12,n=0;n<t;n++)c()&&p(n<6?16:64)}h();var m=l();if(0===m)l();else if(1===m)for(f(1),d(),d(),e=l(),n=0;n<e;n++)d();h(),f(1);var y=l(),b=l(),w=u(1);0===w&&f(1),f(1),c()&&(r=l(),i=l(),o=l(),a=l());var E=[1,1];if(c()&&c())switch(s()){case 1:E=[1,1];break;case 2:E=[12,11];break;case 3:E=[10,11];break;case 4:E=[16,11];break;case 5:E=[40,33];break;case 6:E=[24,11];break;case 7:E=[20,11];break;case 8:E=[32,11];break;case 9:E=[80,33];break;case 10:E=[18,11];break;case 11:E=[15,11];break;case 12:E=[64,33];break;case 13:E=[160,99];break;case 14:E=[4,3];break;case 15:E=[3,2];break;case 16:E=[2,1];break;case 255:E=[s()<<8|s(),s()<<8|s()]}return{width:Math.ceil(16*(y+1)-2*r-2*i),height:(2-w)*(b+1)*16-(w?2:4)*(o+a),pixelRatio:E}},t.readSliceType=function(){return this.readUByte(),this.readUEG(),this.readUEG()},e}();t.default=i},"./src/demux/id3.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isHeader",(function(){return i})),n.d(t,"isFooter",(function(){return o})),n.d(t,"getID3Data",(function(){return a})),n.d(t,"canParse",(function(){return u})),n.d(t,"getTimeStamp",(function(){return l})),n.d(t,"isTimeStampFrame",(function(){return c})),n.d(t,"getID3Frames",(function(){return d})),n.d(t,"decodeFrame",(function(){return h})),n.d(t,"utf8ArrayToStr",(function(){return y})),n.d(t,"testables",(function(){return b}));var r,i=function(e,t){return t+10<=e.length&&73===e[t]&&68===e[t+1]&&51===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},o=function(e,t){return t+10<=e.length&&51===e[t]&&68===e[t+1]&&73===e[t+2]&&e[t+3]<255&&e[t+4]<255&&e[t+6]<128&&e[t+7]<128&&e[t+8]<128&&e[t+9]<128},a=function(e,t){for(var n=t,r=0;i(e,t);)r+=10,r+=s(e,t+6),o(e,t+10)&&(r+=10),t+=r;if(r>0)return e.subarray(n,n+r)},s=function(e,t){var n=0;return n=(127&e[t])<<21,n|=(127&e[t+1])<<14,n|=(127&e[t+2])<<7,n|=127&e[t+3]},u=function(e,t){return i(e,t)&&s(e,t+6)+10<=e.length-t},l=function(e){for(var t=d(e),n=0;n<t.length;n++){var r=t[n];if(c(r))return m(r)}},c=function(e){return e&&"PRIV"===e.key&&"com.apple.streaming.transportStreamTimestamp"===e.info},f=function(e){var t=String.fromCharCode(e[0],e[1],e[2],e[3]),n=s(e,4);return{type:t,size:n,data:e.subarray(10,10+n)}},d=function(e){for(var t=0,n=[];i(e,t);){for(var r=s(e,t+6),a=(t+=10)+r;t+8<a;){var u=f(e.subarray(t)),l=h(u);l&&n.push(l),t+=u.size+10}o(e,t)&&(t+=10)}return n},h=function(e){return"PRIV"===e.type?p(e):"W"===e.type[0]?g(e):v(e)},p=function(e){if(!(e.size<2)){var t=y(e.data,!0),n=new Uint8Array(e.data.subarray(t.length+1));return{key:e.type,info:t,data:n.buffer}}},v=function(e){if(!(e.size<2)){if("TXXX"===e.type){var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data.subarray(1));return{key:e.type,data:i}}},g=function(e){if("WXXX"===e.type){if(e.size<2)return;var t=1,n=y(e.data.subarray(t),!0);t+=n.length+1;var r=y(e.data.subarray(t));return{key:e.type,info:n,data:r}}var i=y(e.data);return{key:e.type,data:i}},m=function(e){if(8===e.data.byteLength){var t=new Uint8Array(e.data),n=1&t[3],r=(t[4]<<23)+(t[5]<<15)+(t[6]<<7)+t[7];return r/=45,n&&(r+=47721858.84),Math.round(r)}},y=function(e,t){void 0===t&&(t=!1);var n=w();if(n){var r=n.decode(e);if(t){var i=r.indexOf("\0");return-1!==i?r.substring(0,i):r}return r.replace(/\0/g,"")}for(var o,a,s,u=e.length,l="",c=0;c<u;){if(0===(o=e[c++])&&t)return l;if(0!==o&&3!==o)switch(o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(o);break;case 12:case 13:a=e[c++],l+=String.fromCharCode((31&o)<<6|63&a);break;case 14:a=e[c++],s=e[c++],l+=String.fromCharCode((15&o)<<12|(63&a)<<6|(63&s)<<0)}}return l},b={decodeTextFrame:v};function w(){return r||"undefined"===typeof self.TextDecoder||(r=new self.TextDecoder("utf-8")),r}},"./src/demux/mp3demuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/demux/base-audio-demuxer.ts"),i=n("./src/demux/id3.ts"),o=n("./src/utils/logger.ts"),a=n("./src/demux/mpegaudio.ts");function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}var u=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,s(t,n);var u=r.prototype;return u.resetInitSegment=function(t,n,r,i){e.prototype.resetInitSegment.call(this,t,n,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:n,duration:i,inputTimeScale:9e4,dropped:0}},r.probe=function(e){if(!e)return!1;for(var t=(i.getID3Data(e,0)||[]).length,n=e.length;t<n;t++)if(a.probe(e,t))return o.logger.log("MPEG Audio sync word found !"),!0;return!1},u.canParse=function(e,t){return a.canParse(e,t)},u.appendFrame=function(e,t,n){if(null!==this.initPTS)return a.appendFrame(e,t,n,this.initPTS,this.frameIndex)},r}(r.default);u.minProbeByteLength=4,t.default=u},"./src/demux/mp4demuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/types/demuxer.ts"),o=n("./src/utils/mp4-tools.ts"),a=n("./src/demux/dummy-demuxed-track.ts"),s=/\/emsg[-/]ID3/i,u=function(){function e(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}var t=e.prototype;return t.resetTimeStamp=function(){},t.resetInitSegment=function(e,t,n,r){var i=Object(o.parseInitSegment)(e),s=this.videoTrack=Object(a.dummyTrack)("video",1),u=this.audioTrack=Object(a.dummyTrack)("audio",1),l=this.txtTrack=Object(a.dummyTrack)("text",1);if(this.id3Track=Object(a.dummyTrack)("id3",1),this.timeOffset=0,i.video){var c=i.video,f=c.id,d=c.timescale,h=c.codec;s.id=f,s.timescale=l.timescale=d,s.codec=h}if(i.audio){var p=i.audio,v=p.id,g=p.timescale,m=p.codec;u.id=v,u.timescale=g,u.codec=m}l.id=o.RemuxerTrackIdConfig.text,s.sampleDuration=0,s.duration=u.duration=r},t.resetContiguity=function(){},e.probe=function(e){return e=e.length>16384?e.subarray(0,16384):e,Object(o.findBox)(e,["moof"]).length>0},t.demux=function(e,t){this.timeOffset=t;var n=e,r=this.videoTrack,i=this.txtTrack;if(this.config.progressive){this.remainderData&&(n=Object(o.appendUint8Array)(this.remainderData,e));var a=Object(o.segmentValidRange)(n);this.remainderData=a.remainder,r.samples=a.valid||new Uint8Array}else r.samples=n;var s=this.extractID3Track(r,t);return i.samples=Object(o.parseSamples)(t,r),{videoTrack:r,audioTrack:this.audioTrack,id3Track:s,textTrack:this.txtTrack}},t.flush=function(){var e=this.timeOffset,t=this.videoTrack,n=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;var r=this.extractID3Track(t,this.timeOffset);return n.samples=Object(o.parseSamples)(e,t),{videoTrack:t,audioTrack:Object(a.dummyTrack)(),id3Track:r,textTrack:Object(a.dummyTrack)()}},t.extractID3Track=function(e,t){var n=this.id3Track;if(e.samples.length){var a=Object(o.findBox)(e.samples,["emsg"]);a&&a.forEach((function(e){var a=Object(o.parseEmsg)(e);if(s.test(a.schemeIdUri)){var u=Object(r.isFiniteNumber)(a.presentationTime)?a.presentationTime/a.timeScale:t+a.presentationTimeDelta/a.timeScale,l=a.payload;n.samples.push({data:l,len:l.byteLength,dts:u,pts:u,type:i.MetadataSchema.emsg})}}))}return n},t.demuxSampleAes=function(e,t,n){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))},t.destroy=function(){},e}();u.minProbeByteLength=1024,t.default=u},"./src/demux/mpegaudio.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"appendFrame",(function(){return u})),n.d(t,"parseHeader",(function(){return l})),n.d(t,"isHeaderPattern",(function(){return c})),n.d(t,"isHeader",(function(){return f})),n.d(t,"canParse",(function(){return d})),n.d(t,"probe",(function(){return h}));var r=null,i=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],o=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],a=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],s=[0,1,1,4];function u(e,t,n,r,i){if(!(n+24>t.length)){var o=l(t,n);if(o&&n+o.frameLength<=t.length){var a=r+i*(9e4*o.samplesPerFrame/o.sampleRate),s={unit:t.subarray(n,n+o.frameLength),pts:a,dts:a};return e.config=[],e.channelCount=o.channelCount,e.samplerate=o.sampleRate,e.samples.push(s),{sample:s,length:o.frameLength,missing:0}}}}function l(e,t){var n=e[t+1]>>3&3,u=e[t+1]>>1&3,l=e[t+2]>>4&15,c=e[t+2]>>2&3;if(1!==n&&0!==l&&15!==l&&3!==c){var f=e[t+2]>>1&1,d=e[t+3]>>6,h=1e3*i[14*(3===n?3-u:3===u?3:4)+l-1],p=o[3*(3===n?0:2===n?1:2)+c],v=3===d?1:2,g=a[n][u],m=s[u],y=8*g*m,b=Math.floor(g*h/p+f)*m;if(null===r){var w=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);r=w?parseInt(w[1]):0}return!!r&&r<=87&&2===u&&h>=224e3&&0===d&&(e[t+3]=128|e[t+3]),{sampleRate:p,channelCount:v,frameLength:b,samplesPerFrame:y}}}function c(e,t){return 255===e[t]&&224===(224&e[t+1])&&0!==(6&e[t+1])}function f(e,t){return t+1<e.length&&c(e,t)}function d(e,t){return c(e,t)&&4<=e.length-t}function h(e,t){if(t+1<e.length&&c(e,t)){var n=l(e,t),r=4;null!==n&&void 0!==n&&n.frameLength&&(r=n.frameLength);var i=t+r;return i===e.length||f(e,i)}return!1}},"./src/demux/sample-aes.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/crypt/decrypter.ts"),i=n("./src/demux/tsdemuxer.ts"),o=function(){function e(e,t,n){this.keyData=void 0,this.decrypter=void 0,this.keyData=n,this.decrypter=new r.default(e,t,{removePKCS7Padding:!1})}var t=e.prototype;return t.decryptBuffer=function(e,t){this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer,t)},t.decryptAacSample=function(e,t,n,r){var i=e[t].unit;if(!(i.length<=16)){var o=i.subarray(16,i.length-i.length%16),a=o.buffer.slice(o.byteOffset,o.byteOffset+o.length),s=this;this.decryptBuffer(a,(function(o){var a=new Uint8Array(o);i.set(a,16),r||s.decryptAacSamples(e,t+1,n)}))}},t.decryptAacSamples=function(e,t,n){for(;;t++){if(t>=e.length)return void n();if(!(e[t].unit.length<32)){var r=this.decrypter.isSync();if(this.decryptAacSample(e,t,n,r),!r)return}}},t.getAvcEncryptedData=function(e){for(var t=16*Math.floor((e.length-48)/160)+16,n=new Int8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)n.set(e.subarray(i,i+16),r);return n},t.getAvcDecryptedUnit=function(e,t){for(var n=new Uint8Array(t),r=0,i=32;i<e.length-16;i+=160,r+=16)e.set(n.subarray(r,r+16),i);return e},t.decryptAvcSample=function(e,t,n,r,o,a){var s=Object(i.discardEPB)(o.data),u=this.getAvcEncryptedData(s),l=this;this.decryptBuffer(u.buffer,(function(i){o.data=l.getAvcDecryptedUnit(s,i),a||l.decryptAvcSamples(e,t,n+1,r)}))},t.decryptAvcSamples=function(e,t,n,r){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,n=0){if(t>=e.length)return void r();for(var i=e[t].units;!(n>=i.length);n++){var o=i[n];if(!(o.data.length<=48||1!==o.type&&5!==o.type)){var a=this.decrypter.isSync();if(this.decryptAvcSample(e,t,n,r,o,a),!a)return}}}},e}();t.default=o},"./src/demux/transmuxer-interface.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var r=n("./node_modules/webworkify-webpack/index.js"),i=n("./src/events.ts"),o=n("./src/demux/transmuxer.ts"),a=n("./src/utils/logger.ts"),s=n("./src/errors.ts"),u=n("./src/utils/mediasource-helper.ts"),l=n("./node_modules/eventemitter3/index.js"),c=Object(u.getMediaSource)()||{isTypeSupported:function(){return!1}},f=function(){function e(e,t,n,u){var f=this;this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.worker=void 0,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0,this.hls=e,this.id=t,this.onTransmuxComplete=n,this.onFlush=u;var d=e.config,h=function(t,n){(n=n||{}).frag=f.frag,n.id=f.id,e.trigger(t,n)};this.observer=new l.EventEmitter,this.observer.on(i.Events.FRAG_DECRYPTED,h),this.observer.on(i.Events.ERROR,h);var p={mp4:c.isTypeSupported("video/mp4"),mpeg:c.isTypeSupported("audio/mpeg"),mp3:c.isTypeSupported('audio/mp4; codecs="mp3"')},v=navigator.vendor;if(d.enableWorker&&"undefined"!==typeof Worker){var g;a.logger.log("demuxing in webworker");try{g=this.worker=r("./src/demux/transmuxer-worker.ts"),this.onwmsg=this.onWorkerMessage.bind(this),g.addEventListener("message",this.onwmsg),g.onerror=function(t){e.trigger(i.Events.ERROR,{type:s.ErrorTypes.OTHER_ERROR,details:s.ErrorDetails.INTERNAL_EXCEPTION,fatal:!0,event:"demuxerWorker",error:new Error(t.message+"  ("+t.filename+":"+t.lineno+")")})},g.postMessage({cmd:"init",typeSupported:p,vendor:v,id:t,config:JSON.stringify(d)})}catch(m){a.logger.warn("Error in worker:",m),a.logger.error("Error while initializing DemuxerWorker, fallback to inline"),g&&self.URL.revokeObjectURL(g.objectURL),this.transmuxer=new o.default(this.observer,p,d,v,t),this.worker=null}}else this.transmuxer=new o.default(this.observer,p,d,v,t)}var t=e.prototype;return t.destroy=function(){var e=this.worker;if(e)e.removeEventListener("message",this.onwmsg),e.terminate(),this.worker=null,this.onwmsg=void 0;else{var t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}var n=this.observer;n&&n.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null},t.push=function(e,t,n,r,i,s,u,l,c,f){var d,h,p=this;c.transmuxing.start=self.performance.now();var v=this.transmuxer,g=this.worker,m=s?s.start:i.start,y=i.decryptdata,b=this.frag,w=!(b&&i.cc===b.cc),E=!(b&&c.level===b.level),S=b?c.sn-b.sn:-1,x=this.part?c.part-this.part.index:-1,T=!E&&(1===S||0===S&&1===x),_=self.performance.now();(E||S||0===i.stats.parsing.start)&&(i.stats.parsing.start=_),!s||!x&&T||(s.stats.parsing.start=_);var k=!(b&&(null===(d=i.initSegment)||void 0===d?void 0:d.url)===(null===(h=b.initSegment)||void 0===h?void 0:h.url)),A=new o.TransmuxState(w,T,l,E,m,k);if(!T||w||k){a.logger.log("[transmuxer-interface, "+i.type+"]: Starting new transmux session for sn: "+c.sn+" p: "+c.part+" level: "+c.level+" id: "+c.id+"\n        discontinuity: "+w+"\n        trackSwitch: "+E+"\n        contiguous: "+T+"\n        accurateTimeOffset: "+l+"\n        timeOffset: "+m+"\n        initSegmentChange: "+k);var C=new o.TransmuxConfig(n,r,t,u,f);this.configureTransmuxer(C)}if(this.frag=i,this.part=s,g)g.postMessage({cmd:"demux",data:e,decryptdata:y,chunkMeta:c,state:A},e instanceof ArrayBuffer?[e]:[]);else if(v){var O=v.push(e,y,c,A);Object(o.isPromise)(O)?O.then((function(e){p.handleTransmuxComplete(e)})):this.handleTransmuxComplete(O)}},t.flush=function(e){var t=this;e.transmuxing.start=self.performance.now();var n=this.transmuxer,r=this.worker;if(r)r.postMessage({cmd:"flush",chunkMeta:e});else if(n){var i=n.flush(e);Object(o.isPromise)(i)?i.then((function(n){t.handleFlushResult(n,e)})):this.handleFlushResult(i,e)}},t.handleFlushResult=function(e,t){var n=this;e.forEach((function(e){n.handleTransmuxComplete(e)})),this.onFlush(t)},t.onWorkerMessage=function(e){var t=e.data,n=this.hls;switch(t.event){case"init":self.URL.revokeObjectURL(this.worker.objectURL);break;case"transmuxComplete":this.handleTransmuxComplete(t.data);break;case"flush":this.onFlush(t.data);break;default:t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,n.trigger(t.event,t.data)}},t.configureTransmuxer=function(e){var t=this.worker,n=this.transmuxer;t?t.postMessage({cmd:"configure",config:e}):n&&n.configure(e)},t.handleTransmuxComplete=function(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)},e}()},"./src/demux/transmuxer-worker.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s}));var r=n("./src/demux/transmuxer.ts"),i=n("./src/events.ts"),o=n("./src/utils/logger.ts"),a=n("./node_modules/eventemitter3/index.js");function s(e){var t=new a.EventEmitter,n=function(t,n){e.postMessage({event:t,data:n})};t.on(i.Events.FRAG_DECRYPTED,n),t.on(i.Events.ERROR,n),e.addEventListener("message",(function(i){var a=i.data;switch(a.cmd){case"init":var s=JSON.parse(a.config);e.transmuxer=new r.default(t,a.typeSupported,s,a.vendor,a.id),Object(o.enableLogs)(s.debug),n("init",null);break;case"configure":e.transmuxer.configure(a.config);break;case"demux":var l=e.transmuxer.push(a.data,a.decryptdata,a.chunkMeta,a.state);Object(r.isPromise)(l)?l.then((function(t){u(e,t)})):u(e,l);break;case"flush":var f=a.chunkMeta,d=e.transmuxer.flush(f);Object(r.isPromise)(d)?d.then((function(t){c(e,t,f)})):c(e,d,f)}}))}function u(e,t){if(!(n=t.remuxResult).audio&&!n.video&&!n.text&&!n.id3&&!n.initSegment)return!1;var n,r=[],i=t.remuxResult,o=i.audio,a=i.video;return o&&l(r,o),a&&l(r,a),e.postMessage({event:"transmuxComplete",data:t},r),!0}function l(e,t){t.data1&&e.push(t.data1.buffer),t.data2&&e.push(t.data2.buffer)}function c(e,t,n){t.reduce((function(t,n){return u(e,n)||t}),!1)||e.postMessage({event:"transmuxComplete",data:t[0]}),e.postMessage({event:"flush",data:n})}},"./src/demux/transmuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y})),n.d(t,"isPromise",(function(){return w})),n.d(t,"TransmuxConfig",(function(){return E})),n.d(t,"TransmuxState",(function(){return S}));var r,i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/crypt/decrypter.ts"),s=n("./src/demux/aacdemuxer.ts"),u=n("./src/demux/mp4demuxer.ts"),l=n("./src/demux/tsdemuxer.ts"),c=n("./src/demux/mp3demuxer.ts"),f=n("./src/remux/mp4-remuxer.ts"),d=n("./src/remux/passthrough-remuxer.ts"),h=n("./src/demux/chunk-cache.ts"),p=n("./src/utils/mp4-tools.ts"),v=n("./src/utils/logger.ts");try{r=self.performance.now.bind(self.performance)}catch(x){v.logger.debug("Unable to use Performance API on this environment"),r=self.Date.now}var g=[{demux:l.default,remux:f.default},{demux:u.default,remux:d.default},{demux:s.default,remux:f.default},{demux:c.default,remux:f.default}],m=1024;g.forEach((function(e){var t=e.demux;m=Math.max(m,t.minProbeByteLength)}));var y=function(){function e(e,t,n,r,i){this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.cache=new h.default,this.observer=e,this.typeSupported=t,this.config=n,this.vendor=r,this.id=i}var t=e.prototype;return t.configure=function(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()},t.push=function(e,t,n,i){var o=this,a=n.transmuxing;a.executeStart=r();var s=new Uint8Array(e),u=this.cache,l=this.config,c=this.currentTransmuxState,f=this.transmuxConfig;i&&(this.currentTransmuxState=i);var d=function(e,t){var n=null;return e.byteLength>0&&null!=t&&null!=t.key&&null!==t.iv&&null!=t.method&&(n=t),n}(s,t);if(d&&"AES-128"===d.method){var h=this.getDecrypter();if(!l.enableSoftwareAES)return this.decryptionPromise=h.webCryptoDecrypt(s,d.key.buffer,d.iv.buffer).then((function(e){var t=o.push(e,null,n);return o.decryptionPromise=null,t})),this.decryptionPromise;var v=h.softwareDecrypt(s,d.key.buffer,d.iv.buffer);if(!v)return a.executeEnd=r(),b(n);s=new Uint8Array(v)}var g=i||c,m=g.contiguous,y=g.discontinuity,w=g.trackSwitch,E=g.accurateTimeOffset,S=g.timeOffset,x=g.initSegmentChange,T=f.audioCodec,_=f.videoCodec,k=f.defaultInitPts,A=f.duration,C=f.initSegmentData;if((y||w||x)&&this.resetInitSegment(C,T,_,A),(y||x)&&this.resetInitialTimestamp(k),m||this.resetContiguity(),this.needsProbing(s,y,w)){if(u.dataLength){var O=u.flush();s=Object(p.appendUint8Array)(O,s)}this.configureTransmuxer(s,f)}var I=this.transmux(s,d,S,E,n),R=this.currentTransmuxState;return R.contiguous=!0,R.discontinuity=!1,R.trackSwitch=!1,a.executeEnd=r(),I},t.flush=function(e){var t=this,n=e.transmuxing;n.executeStart=r();var a=this.decrypter,s=this.cache,u=this.currentTransmuxState,l=this.decryptionPromise;if(l)return l.then((function(){return t.flush(e)}));var c=[],f=u.timeOffset;if(a){var d=a.flush();d&&c.push(this.push(d,null,e))}var h=s.dataLength;s.reset();var p=this.demuxer,v=this.remuxer;if(!p||!v)return h>=m&&this.observer.emit(i.Events.ERROR,i.Events.ERROR,{type:o.ErrorTypes.MEDIA_ERROR,details:o.ErrorDetails.FRAG_PARSING_ERROR,fatal:!0,reason:"no demux matching with content found"}),n.executeEnd=r(),[b(e)];var g=p.flush(f);return w(g)?g.then((function(n){return t.flushRemux(c,n,e),c})):(this.flushRemux(c,g,e),c)},t.flushRemux=function(e,t,n){var i=t.audioTrack,o=t.videoTrack,a=t.id3Track,s=t.textTrack,u=this.currentTransmuxState,l=u.accurateTimeOffset,c=u.timeOffset;v.logger.log("[transmuxer.ts]: Flushed fragment "+n.sn+(n.part>-1?" p: "+n.part:"")+" of level "+n.level);var f=this.remuxer.remux(i,o,a,s,c,l,!0,this.id);e.push({remuxResult:f,chunkMeta:n}),n.transmuxing.executeEnd=r()},t.resetInitialTimestamp=function(e){var t=this.demuxer,n=this.remuxer;t&&n&&(t.resetTimeStamp(e),n.resetTimeStamp(e))},t.resetContiguity=function(){var e=this.demuxer,t=this.remuxer;e&&t&&(e.resetContiguity(),t.resetNextTimestamp())},t.resetInitSegment=function(e,t,n,r){var i=this.demuxer,o=this.remuxer;i&&o&&(i.resetInitSegment(e,t,n,r),o.resetInitSegment(e,t,n))},t.destroy=function(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)},t.transmux=function(e,t,n,r,i){return t&&"SAMPLE-AES"===t.method?this.transmuxSampleAes(e,t,n,r,i):this.transmuxUnencrypted(e,n,r,i)},t.transmuxUnencrypted=function(e,t,n,r){var i=this.demuxer.demux(e,t,!1,!this.config.progressive),o=i.audioTrack,a=i.videoTrack,s=i.id3Track,u=i.textTrack;return{remuxResult:this.remuxer.remux(o,a,s,u,t,n,!1,this.id),chunkMeta:r}},t.transmuxSampleAes=function(e,t,n,r,i){var o=this;return this.demuxer.demuxSampleAes(e,t,n).then((function(e){return{remuxResult:o.remuxer.remux(e.audioTrack,e.videoTrack,e.id3Track,e.textTrack,n,r,!1,o.id),chunkMeta:i}}))},t.configureTransmuxer=function(e,t){for(var n,r=this.config,i=this.observer,o=this.typeSupported,a=this.vendor,s=t.audioCodec,l=t.defaultInitPts,c=t.duration,f=t.initSegmentData,h=t.videoCodec,p=0,m=g.length;p<m;p++)if(g[p].demux.probe(e)){n=g[p];break}n||(v.logger.warn("Failed to find demuxer by probing frag, treating as mp4 passthrough"),n={demux:u.default,remux:d.default});var y=this.demuxer,b=this.remuxer,w=n.remux,E=n.demux;b&&b instanceof w||(this.remuxer=new w(i,r,o,a)),y&&y instanceof E||(this.demuxer=new E(i,r,o),this.probe=E.probe),this.resetInitSegment(f,s,h,c),this.resetInitialTimestamp(l)},t.needsProbing=function(e,t,n){return!this.demuxer||!this.remuxer||t||n},t.getDecrypter=function(){var e=this.decrypter;return e||(e=this.decrypter=new a.default(this.observer,this.config)),e},e}(),b=function(e){return{remuxResult:{},chunkMeta:e}};function w(e){return"then"in e&&e.then instanceof Function}var E=function(e,t,n,r,i){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=n,this.duration=r,this.defaultInitPts=i},S=function(e,t,n,r,i,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=n,this.trackSwitch=r,this.timeOffset=i,this.initSegmentChange=o}},"./src/demux/tsdemuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"discardEPB",(function(){return b}));var r=n("./src/demux/adts.ts"),i=n("./src/demux/mpegaudio.ts"),o=n("./src/demux/exp-golomb.ts"),a=n("./src/demux/sample-aes.ts"),s=n("./src/events.ts"),u=n("./src/utils/mp4-tools.ts"),l=n("./src/utils/logger.ts"),c=n("./src/errors.ts"),f=n("./src/types/demuxer.ts");function d(){return d=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d.apply(this,arguments)}var h=function(){function e(e,t,n){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._avcTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.avcSample=null,this.remainderData=null,this.observer=e,this.config=t,this.typeSupported=n}e.probe=function(t){var n=e.syncOffset(t);return!(n<0)&&(n&&l.logger.warn("MPEG2-TS detected but first sync word found @ offset "+n+", junk ahead ?"),!0)},e.syncOffset=function(e){for(var t=Math.min(1e3,e.length-564),n=0;n<t;){if(71===e[n]&&71===e[n+188]&&71===e[n+376])return n;n++}return-1},e.createTrack=function(e,t){return{container:"video"===e||"audio"===e?"video/mp2t":void 0,type:e,id:u.RemuxerTrackIdConfig[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:"audio"===e?t:void 0}};var t=e.prototype;return t.resetInitSegment=function(t,n,r,i){this.pmtParsed=!1,this._pmtId=-1,this._avcTrack=e.createTrack("video"),this._audioTrack=e.createTrack("audio",i),this._id3Track=e.createTrack("id3"),this._txtTrack=e.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.avcSample=null,this.audioCodec=n,this.videoCodec=r,this._duration=i},t.resetTimeStamp=function(){},t.resetContiguity=function(){var e=this._audioTrack,t=this._avcTrack,n=this._id3Track;e&&(e.pesData=null),t&&(t.pesData=null),n&&(n.pesData=null),this.aacOverFlow=null},t.demux=function(t,n,r,i){var o;void 0===r&&(r=!1),void 0===i&&(i=!1),r||(this.sampleAes=null);var a=this._avcTrack,f=this._audioTrack,d=this._id3Track,h=this._txtTrack,p=a.pid,y=a.pesData,b=f.pid,w=d.pid,E=f.pesData,S=d.pesData,x=!1,T=this.pmtParsed,_=this._pmtId,k=t.length;if(this.remainderData&&(k=(t=Object(u.appendUint8Array)(this.remainderData,t)).length,this.remainderData=null),k<188&&!i)return this.remainderData=t,{audioTrack:f,videoTrack:a,id3Track:d,textTrack:h};var A=Math.max(0,e.syncOffset(t));(k-=(k+A)%188)<t.byteLength&&!i&&(this.remainderData=new Uint8Array(t.buffer,k,t.buffer.byteLength-k));for(var C=0,O=A;O<k;O+=188)if(71===t[O]){var I=!!(64&t[O+1]),R=((31&t[O+1])<<8)+t[O+2],L=void 0;if((48&t[O+3])>>4>1){if((L=O+5+t[O+4])===O+188)continue}else L=O+4;switch(R){case p:I&&(y&&(o=m(y))&&this.parseAVCPES(a,h,o,!1),y={data:[],size:0}),y&&(y.data.push(t.subarray(L,O+188)),y.size+=O+188-L);break;case b:if(I){if(E&&(o=m(E)))switch(f.segmentCodec){case"aac":this.parseAACPES(f,o);break;case"mp3":this.parseMPEGPES(f,o)}E={data:[],size:0}}E&&(E.data.push(t.subarray(L,O+188)),E.size+=O+188-L);break;case w:I&&(S&&(o=m(S))&&this.parseID3PES(d,o),S={data:[],size:0}),S&&(S.data.push(t.subarray(L,O+188)),S.size+=O+188-L);break;case 0:I&&(L+=t[L]+1),_=this._pmtId=v(t,L);break;case _:I&&(L+=t[L]+1);var D=g(t,L,this.typeSupported,r);(p=D.avc)>0&&(a.pid=p),(b=D.audio)>0&&(f.pid=b,f.segmentCodec=D.segmentCodec),(w=D.id3)>0&&(d.pid=w),x&&!T&&(l.logger.log("reparse from beginning"),x=!1,O=A-188),T=this.pmtParsed=!0;break;case 17:case 8191:break;default:x=!0}}else C++;C>0&&this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:!1,reason:"Found "+C+" TS packet/s that do not start with 0x47"}),a.pesData=y,f.pesData=E,d.pesData=S;var P={audioTrack:f,videoTrack:a,id3Track:d,textTrack:h};return i&&this.extractRemainingSamples(P),P},t.flush=function(){var e,t=this.remainderData;return this.remainderData=null,e=t?this.demux(t,-1,!1,!0):{videoTrack:this._avcTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(e),this.sampleAes?this.decrypt(e,this.sampleAes):e},t.extractRemainingSamples=function(e){var t,n=e.audioTrack,r=e.videoTrack,i=e.id3Track,o=e.textTrack,a=r.pesData,s=n.pesData,u=i.pesData;if(a&&(t=m(a))?(this.parseAVCPES(r,o,t,!0),r.pesData=null):r.pesData=a,s&&(t=m(s))){switch(n.segmentCodec){case"aac":this.parseAACPES(n,t);break;case"mp3":this.parseMPEGPES(n,t)}n.pesData=null}else null!==s&&void 0!==s&&s.size&&l.logger.log("last AAC PES packet truncated,might overlap between fragments"),n.pesData=s;u&&(t=m(u))?(this.parseID3PES(i,t),i.pesData=null):i.pesData=u},t.demuxSampleAes=function(e,t,n){var r=this.demux(e,n,!0,!this.config.progressive),i=this.sampleAes=new a.default(this.observer,this.config,t);return this.decrypt(r,i)},t.decrypt=function(e,t){return new Promise((function(n){var r=e.audioTrack,i=e.videoTrack;r.samples&&"aac"===r.segmentCodec?t.decryptAacSamples(r.samples,0,(function(){i.samples?t.decryptAvcSamples(i.samples,0,0,(function(){n(e)})):n(e)})):i.samples&&t.decryptAvcSamples(i.samples,0,0,(function(){n(e)}))}))},t.destroy=function(){this._duration=0},t.parseAVCPES=function(e,t,n,r){var i,a=this,s=this.parseAVCNALu(e,n.data),l=this.avcSample,c=!1;n.data=null,l&&s.length&&!e.audFound&&(y(l,e),l=this.avcSample=p(!1,n.pts,n.dts,"")),s.forEach((function(r){switch(r.type){case 1:i=!0,l||(l=a.avcSample=p(!0,n.pts,n.dts,"")),l.frame=!0;var s=r.data;if(c&&s.length>4){var f=new o.default(s).readSliceType();2!==f&&4!==f&&7!==f&&9!==f||(l.key=!0)}break;case 5:i=!0,l||(l=a.avcSample=p(!0,n.pts,n.dts,"")),l.key=!0,l.frame=!0;break;case 6:i=!0,Object(u.parseSEIMessageFromNALu)(b(r.data),n.pts,t.samples);break;case 7:if(i=!0,c=!0,!e.sps){var d=new o.default(r.data).readSPS();e.width=d.width,e.height=d.height,e.pixelRatio=d.pixelRatio,e.sps=[r.data],e.duration=a._duration;for(var h=r.data.subarray(1,4),v="avc1.",g=0;g<3;g++){var m=h[g].toString(16);m.length<2&&(m="0"+m),v+=m}e.codec=v}break;case 8:i=!0,e.pps||(e.pps=[r.data]);break;case 9:i=!1,e.audFound=!0,l&&y(l,e),l=a.avcSample=p(!1,n.pts,n.dts,"");break;case 12:i=!0;break;default:i=!1,l&&(l.debug+="unknown NAL "+r.type+" ")}l&&i&&l.units.push(r)})),r&&l&&(y(l,e),this.avcSample=null)},t.getLastNalUnit=function(e){var t,n,r=this.avcSample;if(r&&0!==r.units.length||(r=e[e.length-1]),null!==(t=r)&&void 0!==t&&t.units){var i=r.units;n=i[i.length-1]}return n},t.parseAVCNALu=function(e,t){var n,r,i=t.byteLength,o=e.naluState||0,a=o,s=[],u=0,l=-1,c=0;for(-1===o&&(l=0,c=31&t[0],o=0,u=1);u<i;)if(n=t[u++],o)if(1!==o)if(n)if(1===n){if(l>=0){var f={data:t.subarray(l,u-o-1),type:c};s.push(f)}else{var d=this.getLastNalUnit(e.samples);if(d&&(a&&u<=4-a&&d.state&&(d.data=d.data.subarray(0,d.data.byteLength-a)),(r=u-o-1)>0)){var h=new Uint8Array(d.data.byteLength+r);h.set(d.data,0),h.set(t.subarray(0,r),d.data.byteLength),d.data=h,d.state=0}}u<i?(l=u,c=31&t[u],o=0):o=-1}else o=0;else o=3;else o=n?0:2;else o=n?0:1;if(l>=0&&o>=0){var p={data:t.subarray(l,i),type:c,state:o};s.push(p)}if(0===s.length){var v=this.getLastNalUnit(e.samples);if(v){var g=new Uint8Array(v.data.byteLength+t.byteLength);g.set(v.data,0),g.set(t,v.data.byteLength),v.data=g}}return e.naluState=o,s},t.parseAACPES=function(e,t){var n,i,o,a,u,f=0,d=this.aacOverFlow,h=t.data;if(d){this.aacOverFlow=null;var p=d.missing,v=d.sample.unit.byteLength;if(-1===p){var g=new Uint8Array(v+h.byteLength);g.set(d.sample.unit,0),g.set(h,v),h=g}else{var m=v-p;d.sample.unit.set(h.subarray(0,p),m),e.samples.push(d.sample),f=d.missing}}for(n=f,i=h.length;n<i-1&&!r.isHeader(h,n);n++);if(n===f||(n<i-1?(o="AAC PES did not start with ADTS header,offset:"+n,a=!1):(o="no ADTS header found in AAC PES",a=!0),l.logger.warn("parsing error:"+o),this.observer.emit(s.Events.ERROR,s.Events.ERROR,{type:c.ErrorTypes.MEDIA_ERROR,details:c.ErrorDetails.FRAG_PARSING_ERROR,fatal:a,reason:o}),!a)){if(r.initTrackConfig(e,this.observer,h,n,this.audioCodec),void 0!==t.pts)u=t.pts;else{if(!d)return void l.logger.warn("[tsdemuxer]: AAC PES unknown PTS");var y=r.getFrameDuration(e.samplerate);u=d.sample.pts+y}for(var b,w=0;n<i;){if(n+=(b=r.appendFrame(e,h,n,u,w)).length,b.missing){this.aacOverFlow=b;break}for(w++;n<i-1&&!r.isHeader(h,n);n++);}}},t.parseMPEGPES=function(e,t){var n=t.data,r=n.length,o=0,a=0,s=t.pts;if(void 0!==s)for(;a<r;)if(i.isHeader(n,a)){var u=i.appendFrame(e,n,a,s,o);if(!u)break;a+=u.length,o++}else a++;else l.logger.warn("[tsdemuxer]: MPEG PES unknown PTS")},t.parseID3PES=function(e,t){if(void 0!==t.pts){var n=d({},t,{type:this._avcTrack?f.MetadataSchema.emsg:f.MetadataSchema.audioId3});e.samples.push(n)}else l.logger.warn("[tsdemuxer]: ID3 PES unknown PTS")},e}();function p(e,t,n,r){return{key:e,frame:!1,pts:t,dts:n,units:[],debug:r,length:0}}function v(e,t){return(31&e[t+10])<<8|e[t+11]}function g(e,t,n,r){var i={audio:-1,avc:-1,id3:-1,segmentCodec:"aac"},o=t+3+((15&e[t+1])<<8|e[t+2])-4;for(t+=12+((15&e[t+10])<<8|e[t+11]);t<o;){var a=(31&e[t+1])<<8|e[t+2];switch(e[t]){case 207:if(!r){l.logger.log("ADTS AAC with AES-128-CBC frame encryption found in unencrypted stream");break}case 15:-1===i.audio&&(i.audio=a);break;case 21:-1===i.id3&&(i.id3=a);break;case 219:if(!r){l.logger.log("H.264 with AES-128-CBC slice encryption found in unencrypted stream");break}case 27:-1===i.avc&&(i.avc=a);break;case 3:case 4:!0!==n.mpeg&&!0!==n.mp3?l.logger.log("MPEG audio found, not supported in this browser"):-1===i.audio&&(i.audio=a,i.segmentCodec="mp3");break;case 36:l.logger.warn("Unsupported HEVC stream type found")}t+=5+((15&e[t+3])<<8|e[t+4])}return i}function m(e){var t,n,r,i,o,a=0,s=e.data;if(!e||0===e.size)return null;for(;s[0].length<19&&s.length>1;){var u=new Uint8Array(s[0].length+s[1].length);u.set(s[0]),u.set(s[1],s[0].length),s[0]=u,s.splice(1,1)}if(1===((t=s[0])[0]<<16)+(t[1]<<8)+t[2]){if((n=(t[4]<<8)+t[5])&&n>e.size-6)return null;var c=t[7];192&c&&(i=536870912*(14&t[9])+4194304*(255&t[10])+16384*(254&t[11])+128*(255&t[12])+(254&t[13])/2,64&c?i-(o=536870912*(14&t[14])+4194304*(255&t[15])+16384*(254&t[16])+128*(255&t[17])+(254&t[18])/2)>54e5&&(l.logger.warn(Math.round((i-o)/9e4)+"s delta between PTS and DTS, align them"),i=o):o=i);var f=(r=t[8])+9;if(e.size<=f)return null;e.size-=f;for(var d=new Uint8Array(e.size),h=0,p=s.length;h<p;h++){var v=(t=s[h]).byteLength;if(f){if(f>v){f-=v;continue}t=t.subarray(f),v-=f,f=0}d.set(t,a),a+=v}return n&&(n-=r+3),{data:d,pts:i,dts:o,len:n}}return null}function y(e,t){if(e.units.length&&e.frame){if(void 0===e.pts){var n=t.samples,r=n.length;if(!r)return void t.dropped++;var i=n[r-1];e.pts=i.pts,e.dts=i.dts}t.samples.push(e)}e.debug.length&&l.logger.log(e.pts+"/"+e.dts+":"+e.debug)}function b(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}h.minProbeByteLength=188,t.default=h},"./src/errors.ts":function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"ErrorTypes",(function(){return r})),n.d(t,"ErrorDetails",(function(){return i})),function(e){e.NETWORK_ERROR="networkError",e.MEDIA_ERROR="mediaError",e.KEY_SYSTEM_ERROR="keySystemError",e.MUX_ERROR="muxError",e.OTHER_ERROR="otherError"}(r||(r={})),function(e){e.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",e.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",e.KEY_SYSTEM_NO_SESSION="keySystemNoSession",e.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",e.KEY_SYSTEM_NO_INIT_DATA="keySystemNoInitData",e.MANIFEST_LOAD_ERROR="manifestLoadError",e.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",e.MANIFEST_PARSING_ERROR="manifestParsingError",e.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",e.LEVEL_EMPTY_ERROR="levelEmptyError",e.LEVEL_LOAD_ERROR="levelLoadError",e.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",e.LEVEL_SWITCH_ERROR="levelSwitchError",e.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",e.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",e.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",e.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",e.FRAG_LOAD_ERROR="fragLoadError",e.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",e.FRAG_DECRYPT_ERROR="fragDecryptError",e.FRAG_PARSING_ERROR="fragParsingError",e.REMUX_ALLOC_ERROR="remuxAllocError",e.KEY_LOAD_ERROR="keyLoadError",e.KEY_LOAD_TIMEOUT="keyLoadTimeOut",e.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",e.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",e.BUFFER_APPEND_ERROR="bufferAppendError",e.BUFFER_APPENDING_ERROR="bufferAppendingError",e.BUFFER_STALLED_ERROR="bufferStalledError",e.BUFFER_FULL_ERROR="bufferFullError",e.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",e.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",e.INTERNAL_EXCEPTION="internalException",e.INTERNAL_ABORTED="aborted",e.UNKNOWN="unknown"}(i||(i={}))},"./src/events.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"Events",(function(){return r})),function(e){e.MEDIA_ATTACHING="hlsMediaAttaching",e.MEDIA_ATTACHED="hlsMediaAttached",e.MEDIA_DETACHING="hlsMediaDetaching",e.MEDIA_DETACHED="hlsMediaDetached",e.BUFFER_RESET="hlsBufferReset",e.BUFFER_CODECS="hlsBufferCodecs",e.BUFFER_CREATED="hlsBufferCreated",e.BUFFER_APPENDING="hlsBufferAppending",e.BUFFER_APPENDED="hlsBufferAppended",e.BUFFER_EOS="hlsBufferEos",e.BUFFER_FLUSHING="hlsBufferFlushing",e.BUFFER_FLUSHED="hlsBufferFlushed",e.MANIFEST_LOADING="hlsManifestLoading",e.MANIFEST_LOADED="hlsManifestLoaded",e.MANIFEST_PARSED="hlsManifestParsed",e.LEVEL_SWITCHING="hlsLevelSwitching",e.LEVEL_SWITCHED="hlsLevelSwitched",e.LEVEL_LOADING="hlsLevelLoading",e.LEVEL_LOADED="hlsLevelLoaded",e.LEVEL_UPDATED="hlsLevelUpdated",e.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",e.LEVELS_UPDATED="hlsLevelsUpdated",e.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",e.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",e.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",e.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",e.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",e.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",e.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",e.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",e.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",e.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",e.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",e.CUES_PARSED="hlsCuesParsed",e.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",e.INIT_PTS_FOUND="hlsInitPtsFound",e.FRAG_LOADING="hlsFragLoading",e.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",e.FRAG_LOADED="hlsFragLoaded",e.FRAG_DECRYPTED="hlsFragDecrypted",e.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",e.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",e.FRAG_PARSING_METADATA="hlsFragParsingMetadata",e.FRAG_PARSED="hlsFragParsed",e.FRAG_BUFFERED="hlsFragBuffered",e.FRAG_CHANGED="hlsFragChanged",e.FPS_DROP="hlsFpsDrop",e.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",e.ERROR="hlsError",e.DESTROYING="hlsDestroying",e.KEY_LOADING="hlsKeyLoading",e.KEY_LOADED="hlsKeyLoaded",e.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",e.BACK_BUFFER_REACHED="hlsBackBufferReached"}(r||(r={}))},"./src/hls.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return y}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js"),i=n("./src/loader/playlist-loader.ts"),o=n("./src/loader/key-loader.ts"),a=n("./src/controller/id3-track-controller.ts"),s=n("./src/controller/latency-controller.ts"),u=n("./src/controller/level-controller.ts"),l=n("./src/controller/fragment-tracker.ts"),c=n("./src/controller/stream-controller.ts"),f=n("./src/is-supported.ts"),d=n("./src/utils/logger.ts"),h=n("./src/config.ts"),p=n("./node_modules/eventemitter3/index.js"),v=n("./src/events.ts"),g=n("./src/errors.ts");function m(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var y=function(){function e(t){void 0===t&&(t={}),this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this._emitter=new p.EventEmitter,this._autoLevelCapping=void 0,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null;var n=this.config=Object(h.mergeConfig)(e.DefaultConfig,t);this.userConfig=t,Object(d.enableLogs)(n.debug),this._autoLevelCapping=-1,n.progressive&&Object(h.enableStreamingMode)(n);var r=n.abrController,f=n.bufferController,v=n.capLevelController,g=n.fpsController,m=this.abrController=new r(this),y=this.bufferController=new f(this),b=this.capLevelController=new v(this),w=new g(this),E=new i.default(this),S=new o.default(this),x=new a.default(this),T=this.levelController=new u.default(this),_=new l.FragmentTracker(this),k=this.streamController=new c.default(this,_);b.setStreamController(k),w.setStreamController(k);var A=[T,k];this.networkControllers=A;var C=[E,S,m,y,b,w,x,_];this.audioTrackController=this.createController(n.audioTrackController,null,A),this.createController(n.audioStreamController,_,A),this.subtitleTrackController=this.createController(n.subtitleTrackController,null,A),this.createController(n.subtitleStreamController,_,A),this.createController(n.timelineController,null,C),this.emeController=this.createController(n.emeController,null,C),this.cmcdController=this.createController(n.cmcdController,null,C),this.latencyController=this.createController(s.default,null,C),this.coreComponents=C}e.isSupported=function(){return Object(f.isSupported)()};var t,n,y,b=e.prototype;return b.createController=function(e,t,n){if(e){var r=t?new e(this,t):new e(this);return n&&n.push(r),r}return null},b.on=function(e,t,n){void 0===n&&(n=this),this._emitter.on(e,t,n)},b.once=function(e,t,n){void 0===n&&(n=this),this._emitter.once(e,t,n)},b.removeAllListeners=function(e){this._emitter.removeAllListeners(e)},b.off=function(e,t,n,r){void 0===n&&(n=this),this._emitter.off(e,t,n,r)},b.listeners=function(e){return this._emitter.listeners(e)},b.emit=function(e,t,n){return this._emitter.emit(e,t,n)},b.trigger=function(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(n){d.logger.error("An internal error happened while handling event "+e+'. Error message: "'+n.message+'". Here is a stacktrace:',n),this.trigger(v.Events.ERROR,{type:g.ErrorTypes.OTHER_ERROR,details:g.ErrorDetails.INTERNAL_EXCEPTION,fatal:!1,event:e,error:n})}return!1},b.listenerCount=function(e){return this._emitter.listenerCount(e)},b.destroy=function(){d.logger.log("destroy"),this.trigger(v.Events.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach((function(e){return e.destroy()})),this.networkControllers.length=0,this.coreComponents.forEach((function(e){return e.destroy()})),this.coreComponents.length=0},b.attachMedia=function(e){d.logger.log("attachMedia"),this._media=e,this.trigger(v.Events.MEDIA_ATTACHING,{media:e})},b.detachMedia=function(){d.logger.log("detachMedia"),this.trigger(v.Events.MEDIA_DETACHING,void 0),this._media=null},b.loadSource=function(e){this.stopLoad();var t=this.media,n=this.url,i=this.url=r.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});d.logger.log("loadSource:"+i),t&&n&&n!==i&&this.bufferController.hasSourceTypes()&&(this.detachMedia(),this.attachMedia(t)),this.trigger(v.Events.MANIFEST_LOADING,{url:e})},b.startLoad=function(e){void 0===e&&(e=-1),d.logger.log("startLoad("+e+")"),this.networkControllers.forEach((function(t){t.startLoad(e)}))},b.stopLoad=function(){d.logger.log("stopLoad"),this.networkControllers.forEach((function(e){e.stopLoad()}))},b.swapAudioCodec=function(){d.logger.log("swapAudioCodec"),this.streamController.swapAudioCodec()},b.recoverMediaError=function(){d.logger.log("recoverMediaError");var e=this._media;this.detachMedia(),e&&this.attachMedia(e)},b.removeLevel=function(e,t){void 0===t&&(t=0),this.levelController.removeLevel(e,t)},t=e,y=[{key:"version",get:function(){return"1.2.0"}},{key:"Events",get:function(){return v.Events}},{key:"ErrorTypes",get:function(){return g.ErrorTypes}},{key:"ErrorDetails",get:function(){return g.ErrorDetails}},{key:"DefaultConfig",get:function(){return e.defaultConfig?e.defaultConfig:h.hlsDefaultConfig},set:function(t){e.defaultConfig=t}}],(n=[{key:"levels",get:function(){var e=this.levelController.levels;return e||[]}},{key:"currentLevel",get:function(){return this.streamController.currentLevel},set:function(e){d.logger.log("set currentLevel:"+e),this.loadLevel=e,this.abrController.clearTimer(),this.streamController.immediateLevelSwitch()}},{key:"nextLevel",get:function(){return this.streamController.nextLevel},set:function(e){d.logger.log("set nextLevel:"+e),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}},{key:"loadLevel",get:function(){return this.levelController.level},set:function(e){d.logger.log("set loadLevel:"+e),this.levelController.manualLevel=e}},{key:"nextLoadLevel",get:function(){return this.levelController.nextLoadLevel},set:function(e){this.levelController.nextLoadLevel=e}},{key:"firstLevel",get:function(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)},set:function(e){d.logger.log("set firstLevel:"+e),this.levelController.firstLevel=e}},{key:"startLevel",get:function(){return this.levelController.startLevel},set:function(e){d.logger.log("set startLevel:"+e),-1!==e&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}},{key:"capLevelToPlayerSize",get:function(){return this.config.capLevelToPlayerSize},set:function(e){var t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}},{key:"autoLevelCapping",get:function(){return this._autoLevelCapping},set:function(e){this._autoLevelCapping!==e&&(d.logger.log("set autoLevelCapping:"+e),this._autoLevelCapping=e)}},{key:"bandwidthEstimate",get:function(){var e=this.abrController.bwEstimator;return e?e.getEstimate():NaN}},{key:"autoLevelEnabled",get:function(){return-1===this.levelController.manualLevel}},{key:"manualLevel",get:function(){return this.levelController.manualLevel}},{key:"minAutoLevel",get:function(){var e=this.levels,t=this.config.minAutoBitrate;if(!e)return 0;for(var n=e.length,r=0;r<n;r++)if(e[r].maxBitrate>=t)return r;return 0}},{key:"maxAutoLevel",get:function(){var e=this.levels,t=this.autoLevelCapping;return-1===t&&e&&e.length?e.length-1:t}},{key:"nextAutoLevel",get:function(){return Math.min(Math.max(this.abrController.nextAutoLevel,this.minAutoLevel),this.maxAutoLevel)},set:function(e){this.abrController.nextAutoLevel=Math.max(this.minAutoLevel,e)}},{key:"playingDate",get:function(){return this.streamController.currentProgramDateTime}},{key:"audioTracks",get:function(){var e=this.audioTrackController;return e?e.audioTracks:[]}},{key:"audioTrack",get:function(){var e=this.audioTrackController;return e?e.audioTrack:-1},set:function(e){var t=this.audioTrackController;t&&(t.audioTrack=e)}},{key:"subtitleTracks",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTracks:[]}},{key:"subtitleTrack",get:function(){var e=this.subtitleTrackController;return e?e.subtitleTrack:-1},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}},{key:"media",get:function(){return this._media}},{key:"subtitleDisplay",get:function(){var e=this.subtitleTrackController;return!!e&&e.subtitleDisplay},set:function(e){var t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}},{key:"lowLatencyMode",get:function(){return this.config.lowLatencyMode},set:function(e){this.config.lowLatencyMode=e}},{key:"liveSyncPosition",get:function(){return this.latencyController.liveSyncPosition}},{key:"latency",get:function(){return this.latencyController.latency}},{key:"maxLatency",get:function(){return this.latencyController.maxLatency}},{key:"targetLatency",get:function(){return this.latencyController.targetLatency}},{key:"drift",get:function(){return this.latencyController.drift}},{key:"forceStartLoad",get:function(){return this.streamController.forceStartLoad}}])&&m(t.prototype,n),y&&m(t,y),Object.defineProperty(t,"prototype",{writable:!1}),e}();y.defaultConfig=void 0},"./src/is-supported.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isSupported",(function(){return o})),n.d(t,"changeTypeSupported",(function(){return a}));var r=n("./src/utils/mediasource-helper.ts");function i(){return self.SourceBuffer||self.WebKitSourceBuffer}function o(){var e=Object(r.getMediaSource)();if(!e)return!1;var t=i(),n=e&&"function"===typeof e.isTypeSupported&&e.isTypeSupported('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),o=!t||t.prototype&&"function"===typeof t.prototype.appendBuffer&&"function"===typeof t.prototype.remove;return!!n&&!!o}function a(){var e,t=i();return"function"===typeof(null===t||void 0===t||null===(e=t.prototype)||void 0===e?void 0:e.changeType)}},"./src/loader/date-range.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"DateRangeAttribute",(function(){return r})),n.d(t,"DateRange",(function(){return l}));var r,i=n("./src/polyfills/number.ts"),o=n("./src/utils/attr-list.ts"),a=n("./src/utils/logger.ts");function s(){return s=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}!function(e){e.ID="ID",e.CLASS="CLASS",e.START_DATE="START-DATE",e.DURATION="DURATION",e.END_DATE="END-DATE",e.END_ON_NEXT="END-ON-NEXT",e.PLANNED_DURATION="PLANNED-DURATION",e.SCTE35_OUT="SCTE35-OUT",e.SCTE35_IN="SCTE35-IN"}(r||(r={}));var l=function(){function e(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){var n=t.attr;for(var u in n)if(Object.prototype.hasOwnProperty.call(e,u)&&e[u]!==n[u]){a.logger.warn('DATERANGE tag attribute: "'+u+'" does not match for tags with ID: "'+e.ID+'"'),this._badValueForSameId=u;break}e=s(new o.AttrList({}),n,e)}if(this.attr=e,this._startDate=new Date(e[r.START_DATE]),r.END_DATE in this.attr){var l=new Date(this.attr[r.END_DATE]);Object(i.isFiniteNumber)(l.getTime())&&(this._endDate=l)}}var t,n,l;return t=e,(n=[{key:"id",get:function(){return this.attr.ID}},{key:"class",get:function(){return this.attr.CLASS}},{key:"startDate",get:function(){return this._startDate}},{key:"endDate",get:function(){if(this._endDate)return this._endDate;var e=this.duration;return null!==e?new Date(this._startDate.getTime()+1e3*e):null}},{key:"duration",get:function(){if(r.DURATION in this.attr){var e=this.attr.decimalFloatingPoint(r.DURATION);if(Object(i.isFiniteNumber)(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}},{key:"plannedDuration",get:function(){return r.PLANNED_DURATION in this.attr?this.attr.decimalFloatingPoint(r.PLANNED_DURATION):null}},{key:"endOnNext",get:function(){return this.attr.bool(r.END_ON_NEXT)}},{key:"isValid",get:function(){return!!this.id&&!this._badValueForSameId&&Object(i.isFiniteNumber)(this.startDate.getTime())&&(null===this.duration||this.duration>=0)&&(!this.endOnNext||!!this.class)}}])&&u(t.prototype,n),l&&u(t,l),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/fragment-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f})),n.d(t,"LoadError",(function(){return h}));var r=n("./src/polyfills/number.ts"),i=n("./src/errors.ts");function o(e){var t="function"===typeof Map?new Map:void 0;return o=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return a(e,arguments,l(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),u(r,e)},o(e)}function a(e,t,n){return a=s()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&u(i,n.prototype),i},a.apply(null,arguments)}function s(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}var c=Math.pow(2,17),f=function(){function e(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}var t=e.prototype;return t.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},t.abort=function(){this.loader&&this.loader.abort()},t.load=function(e,t){var n=this,r=e.url;if(!r)return Promise.reject(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,networkDetails:null},"Fragment does not have a "+(r?"part list":"url")));this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(r,u){n.loader&&n.loader.destroy();var l=n.loader=e.loader=a?new a(o):new s(o),f=d(e),p={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:"initSegment"===e.sn?1/0:c};e.stats=l.stats,l.load(f,p,{onSuccess:function(t,i,o,a){n.resetLoader(e,l),r({frag:e,part:null,payload:t.data,networkDetails:a})},onError:function(t,r,o){n.resetLoader(e,l),u(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:t,networkDetails:o}))},onAbort:function(t,r,o){n.resetLoader(e,l),u(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,networkDetails:o}))},onTimeout:function(t,r,o){n.resetLoader(e,l),u(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,networkDetails:o}))},onProgress:function(n,r,i,o){t&&t({frag:e,part:null,payload:i,networkDetails:o})}})}))},t.loadPart=function(e,t,n){var r=this;this.abort();var o=this.config,a=o.fLoader,s=o.loader;return new Promise((function(u,l){r.loader&&r.loader.destroy();var f=r.loader=e.loader=a?new a(o):new s(o),p=d(e,t),v={timeout:o.fragLoadingTimeOut,maxRetry:0,retryDelay:0,maxRetryDelay:o.fragLoadingMaxRetryTimeout,highWaterMark:c};t.stats=f.stats,f.load(p,v,{onSuccess:function(i,o,a,s){r.resetLoader(e,f),r.updateStatsFromPart(e,t);var l={frag:e,part:t,payload:i.data,networkDetails:s};n(l),u(l)},onError:function(n,o,a){r.resetLoader(e,f),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:n,networkDetails:a}))},onAbort:function(n,o,a){e.stats.aborted=t.stats.aborted,r.resetLoader(e,f),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,networkDetails:a}))},onTimeout:function(n,o,a){r.resetLoader(e,f),l(new h({type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,networkDetails:a}))}})}))},t.updateStatsFromPart=function(e,t){var n=e.stats,r=t.stats,i=r.total;if(n.loaded+=r.loaded,i){var o=Math.round(e.duration/t.duration),a=Math.min(Math.round(n.loaded/i),o),s=(o-a)*Math.round(n.loaded/a);n.total=n.loaded+s}else n.total=Math.max(n.loaded,n.total);var u=n.loading,l=r.loading;u.start?u.first+=l.first-l.start:(u.start=l.start,u.first=l.first),u.end=l.end},t.resetLoader=function(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()},e}();function d(e,t){void 0===t&&(t=null);var n=t||e,i={frag:e,part:t,responseType:"arraybuffer",url:n.url,headers:{},rangeStart:0,rangeEnd:0},o=n.byteRangeStartOffset,a=n.byteRangeEndOffset;return Object(r.isFiniteNumber)(o)&&Object(r.isFiniteNumber)(a)&&(i.rangeStart=o,i.rangeEnd=a),i}var h=function(e){var t,n;function r(t){for(var n,r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this).data=void 0,n.data=t,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,u(t,n),r}(o(Error))},"./src/loader/fragment.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ElementaryStreamTypes",(function(){return r})),n.d(t,"BaseSegment",(function(){return h})),n.d(t,"Fragment",(function(){return p})),n.d(t,"Part",(function(){return v}));var r,i=n("./src/polyfills/number.ts"),o=n("./node_modules/url-toolkit/src/url-toolkit.js"),a=n("./src/utils/logger.ts"),s=n("./src/loader/level-key.ts"),u=n("./src/loader/load-stats.ts");function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}!function(e){e.AUDIO="audio",e.VIDEO="video",e.AUDIOVIDEO="audiovideo"}(r||(r={}));var h=function(){function e(e){var t;this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams=((t={})[r.AUDIO]=null,t[r.VIDEO]=null,t[r.AUDIOVIDEO]=null,t),this.baseurl=e}return e.prototype.setByteRange=function(e,t){var n=e.split("@",2),r=[];1===n.length?r[0]=t?t.byteRangeEndOffset:0:r[0]=parseInt(n[1]),r[1]=parseInt(n[0])+r[0],this._byteRange=r},d(e,[{key:"byteRange",get:function(){return this._byteRange?this._byteRange:[]}},{key:"byteRangeStartOffset",get:function(){return this.byteRange[0]}},{key:"byteRangeEndOffset",get:function(){return this.byteRange[1]}},{key:"url",get:function(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Object(o.buildAbsoluteURL)(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""},set:function(e){this._url=e}}]),e}(),p=function(e){function t(t,n){var r;return(r=e.call(this,n)||this)._decryptdata=null,r.rawProgramDateTime=null,r.programDateTime=null,r.tagList=[],r.duration=0,r.sn=0,r.levelkey=void 0,r.type=void 0,r.loader=null,r.level=-1,r.cc=0,r.startPTS=void 0,r.endPTS=void 0,r.appendedPTS=void 0,r.startDTS=void 0,r.endDTS=void 0,r.start=0,r.deltaPTS=void 0,r.maxStartPTS=void 0,r.minEndPTS=void 0,r.stats=new u.LoadStats,r.urlId=0,r.data=void 0,r.bitrateTest=!1,r.title=null,r.initSegment=null,r.type=t,r}l(t,e);var n=t.prototype;return n.createInitializationVector=function(e){for(var t=new Uint8Array(16),n=12;n<16;n++)t[n]=e>>8*(15-n)&255;return t},n.setDecryptDataFromLevelKey=function(e,t){var n=e;return"AES-128"===(null===e||void 0===e?void 0:e.method)&&e.uri&&!e.iv&&((n=s.LevelKey.fromURI(e.uri)).method=e.method,n.iv=this.createInitializationVector(t),n.keyFormat="identity"),n},n.setElementaryStreamInfo=function(e,t,n,r,i,o){void 0===o&&(o=!1);var a=this.elementaryStreams,s=a[e];s?(s.startPTS=Math.min(s.startPTS,t),s.endPTS=Math.max(s.endPTS,n),s.startDTS=Math.min(s.startDTS,r),s.endDTS=Math.max(s.endDTS,i)):a[e]={startPTS:t,endPTS:n,startDTS:r,endDTS:i,partial:o}},n.clearElementaryStreamInfo=function(){var e=this.elementaryStreams;e[r.AUDIO]=null,e[r.VIDEO]=null,e[r.AUDIOVIDEO]=null},d(t,[{key:"decryptdata",get:function(){if(!this.levelkey&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkey){var e=this.sn;"number"!==typeof e&&(this.levelkey&&"AES-128"===this.levelkey.method&&!this.levelkey.iv&&a.logger.warn('missing IV for initialization segment with method="'+this.levelkey.method+'" - compliance issue'),e=0),this._decryptdata=this.setDecryptDataFromLevelKey(this.levelkey,e)}return this._decryptdata}},{key:"end",get:function(){return this.start+this.duration}},{key:"endProgramDateTime",get:function(){if(null===this.programDateTime)return null;if(!Object(i.isFiniteNumber)(this.programDateTime))return null;var e=Object(i.isFiniteNumber)(this.duration)?this.duration:0;return this.programDateTime+1e3*e}},{key:"encrypted",get:function(){var e;return!(null===(e=this.decryptdata)||void 0===e||!e.keyFormat||!this.decryptdata.uri)}}]),t}(h),v=function(e){function t(t,n,r,i,o){var a;(a=e.call(this,r)||this).fragOffset=0,a.duration=0,a.gap=!1,a.independent=!1,a.relurl=void 0,a.fragment=void 0,a.index=void 0,a.stats=new u.LoadStats,a.duration=t.decimalFloatingPoint("DURATION"),a.gap=t.bool("GAP"),a.independent=t.bool("INDEPENDENT"),a.relurl=t.enumeratedString("URI"),a.fragment=n,a.index=i;var s=t.enumeratedString("BYTERANGE");return s&&a.setByteRange(s,o),o&&(a.fragOffset=o.fragOffset+o.duration),a}return l(t,e),d(t,[{key:"start",get:function(){return this.fragment.start+this.fragOffset}},{key:"end",get:function(){return this.start+this.duration}},{key:"loaded",get:function(){var e=this.elementaryStreams;return!!(e.audio||e.video||e.audiovideo)}}]),t}(h)},"./src/loader/key-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return a}));var r=n("./src/events.ts"),i=n("./src/errors.ts"),o=n("./src/utils/logger.ts"),a=function(){function e(e){this.hls=void 0,this.loaders={},this.decryptkey=null,this.decrypturl=null,this.hls=e,this._registerListeners()}var t=e.prototype;return t._registerListeners=function(){this.hls.on(r.Events.KEY_LOADING,this.onKeyLoading,this)},t._unregisterListeners=function(){this.hls.off(r.Events.KEY_LOADING,this.onKeyLoading)},t.destroy=function(){for(var e in this._unregisterListeners(),this.loaders){var t=this.loaders[e];t&&t.destroy()}this.loaders={}},t.onKeyLoading=function(e,t){var n=t.frag,i=n.type,a=this.loaders[i];if(n.decryptdata){var s=n.decryptdata.uri;if(s!==this.decrypturl||null===this.decryptkey){var u=this.hls.config;if(a&&(o.logger.warn("abort previous key loader for type:"+i),a.abort()),!s)return void o.logger.warn("key uri is falsy");var l=u.loader,c=n.loader=this.loaders[i]=new l(u);this.decrypturl=s,this.decryptkey=null;var f={url:s,frag:n,responseType:"arraybuffer"},d={timeout:u.fragLoadingTimeOut,maxRetry:0,retryDelay:u.fragLoadingRetryDelay,maxRetryDelay:u.fragLoadingMaxRetryTimeout,highWaterMark:0},h={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(f,d,h)}else this.decryptkey&&(n.decryptdata.key=this.decryptkey,this.hls.trigger(r.Events.KEY_LOADED,{frag:n}))}else o.logger.warn("Missing decryption data on fragment in onKeyLoading")},t.loadsuccess=function(e,t,n){var i=n.frag;i.decryptdata?(this.decryptkey=i.decryptdata.key=new Uint8Array(e.data),i.loader=null,delete this.loaders[i.type],this.hls.trigger(r.Events.KEY_LOADED,{frag:i})):o.logger.error("after key load, decryptdata unset")},t.loaderror=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_ERROR,fatal:!1,frag:n,response:e})},t.loadtimeout=function(e,t){var n=t.frag,o=n.loader;o&&o.abort(),delete this.loaders[n.type],this.hls.trigger(r.Events.ERROR,{type:i.ErrorTypes.NETWORK_ERROR,details:i.ErrorDetails.KEY_LOAD_TIMEOUT,fatal:!1,frag:n})},e}()},"./src/loader/level-details.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LevelDetails",(function(){return o}));var r=n("./src/polyfills/number.ts");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.needSidxRanges=!1,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.fragments=[],this.dateRanges={},this.url=e}var t,n,o;return e.prototype.reloaded=function(e){if(!e)return this.advanced=!0,void(this.updated=!0);var t=this.lastPartSn-e.lastPartSn,n=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!n||!!t,this.advanced=this.endSN>e.endSN||t>0||0===t&&n>0,this.updated||this.advanced?this.misses=Math.floor(.6*e.misses):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay},t=e,(n=[{key:"hasProgramDateTime",get:function(){return!!this.fragments.length&&Object(r.isFiniteNumber)(this.fragments[this.fragments.length-1].programDateTime)}},{key:"levelTargetDuration",get:function(){return this.averagetargetduration||this.targetduration||10}},{key:"drift",get:function(){var e=this.driftEndTime-this.driftStartTime;return e>0?1e3*(this.driftEnd-this.driftStart)/e:1}},{key:"edge",get:function(){return this.partEnd||this.fragmentEnd}},{key:"partEnd",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}},{key:"fragmentEnd",get:function(){var e;return null!==(e=this.fragments)&&void 0!==e&&e.length?this.fragments[this.fragments.length-1].end:0}},{key:"age",get:function(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}},{key:"lastPartIndex",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].index:-1}},{key:"lastPartSn",get:function(){var e;return null!==(e=this.partList)&&void 0!==e&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/level-key.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LevelKey",(function(){return o}));var r=n("./node_modules/url-toolkit/src/url-toolkit.js");function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var o=function(){function e(e,t){this._uri=null,this.method=null,this.keyFormat=null,this.keyFormatVersions=null,this.keyID=null,this.key=null,this.iv=null,this._uri=t?Object(r.buildAbsoluteURL)(e,t,{alwaysNormalize:!0}):e}var t,n,o;return e.fromURL=function(t,n){return new e(t,n)},e.fromURI=function(t){return new e(t)},t=e,(n=[{key:"uri",get:function(){return this._uri}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/loader/load-stats.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LoadStats",(function(){return r}));var r=function(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}},"./src/loader/m3u8-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return m}));var r=n("./src/polyfills/number.ts"),i=n("./node_modules/url-toolkit/src/url-toolkit.js"),o=n("./src/loader/date-range.ts"),a=n("./src/loader/fragment.ts"),s=n("./src/loader/level-details.ts"),u=n("./src/loader/level-key.ts"),l=n("./src/utils/attr-list.ts"),c=n("./src/utils/logger.ts"),f=n("./src/utils/codecs.ts"),d=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-SESSION-DATA:([^\r\n]*)[\r\n]+/g,h=/#EXT-X-MEDIA:(.*)/g,p=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[\S ]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),v=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|")),g=/\.(mp4|m4s|m4v|m4a)$/i,m=function(){function e(){}return e.findGroup=function(e,t){for(var n=0;n<e.length;n++){var r=e[n];if(r.id===t)return r}},e.convertAVC1ToAVCOTI=function(e){var t=e.split(".");if(t.length>2){var n=t.shift()+".";return n+=parseInt(t.shift()).toString(16),n+=("000"+parseInt(t.shift()).toString(16)).slice(-4)}return e},e.resolve=function(e,t){return i.buildAbsoluteURL(t,e,{alwaysNormalize:!0})},e.parseMasterPlaylist=function(t,n){var r,i=[],o={},a=!1;for(d.lastIndex=0;null!=(r=d.exec(t));)if(r[1]){var s=new l.AttrList(r[1]),u={attrs:s,bitrate:s.decimalInteger("AVERAGE-BANDWIDTH")||s.decimalInteger("BANDWIDTH"),name:s.NAME,url:e.resolve(r[2],n)},c=s.decimalResolution("RESOLUTION");c&&(u.width=c.width,u.height=c.height),y((s.CODECS||"").split(/[ ,]+/).filter((function(e){return e})),u),u.videoCodec&&-1!==u.videoCodec.indexOf("avc1")&&(u.videoCodec=e.convertAVC1ToAVCOTI(u.videoCodec)),i.push(u)}else if(r[3]){var f=new l.AttrList(r[3]);f["DATA-ID"]&&(a=!0,o[f["DATA-ID"]]=f)}return{levels:i,sessionData:a?o:null}},e.parseMasterPlaylistMedia=function(t,n,r,i){var o;void 0===i&&(i=[]);var a=[],s=0;for(h.lastIndex=0;null!==(o=h.exec(t));){var u=new l.AttrList(o[1]);if(u.TYPE===r){var c={attrs:u,bitrate:0,id:s++,groupId:u["GROUP-ID"],instreamId:u["INSTREAM-ID"],name:u.NAME||u.LANGUAGE||"",type:r,default:u.bool("DEFAULT"),autoselect:u.bool("AUTOSELECT"),forced:u.bool("FORCED"),lang:u.LANGUAGE,url:u.URI?e.resolve(u.URI,n):""};if(i.length){var f=e.findGroup(i,c.groupId)||i[0];b(c,f,"audioCodec"),b(c,f,"textCodec")}a.push(c)}}return a},e.parseLevelPlaylist=function(e,t,n,f,d){var h,m,y,b=new s.LevelDetails(t),S=b.fragments,x=null,T=0,_=0,k=0,A=0,C=null,O=new a.Fragment(f,t),I=-1,R=!1;for(p.lastIndex=0,b.m3u8=e;null!==(h=p.exec(e));){R&&(R=!1,(O=new a.Fragment(f,t)).start=k,O.sn=T,O.cc=A,O.level=n,x&&(O.initSegment=x,O.rawProgramDateTime=x.rawProgramDateTime,x.rawProgramDateTime=null));var L=h[1];if(L){O.duration=parseFloat(L);var D=(" "+h[2]).slice(1);O.title=D||null,O.tagList.push(D?["INF",L,D]:["INF",L])}else if(h[3])Object(r.isFiniteNumber)(O.duration)&&(O.start=k,y&&(O.levelkey=y),O.sn=T,O.level=n,O.cc=A,O.urlId=d,S.push(O),O.relurl=(" "+h[3]).slice(1),w(O,C),C=O,k+=O.duration,T++,_=0,R=!0);else if(h[4]){var P=(" "+h[4]).slice(1);C?O.setByteRange(P,C):O.setByteRange(P)}else if(h[5])O.rawProgramDateTime=(" "+h[5]).slice(1),O.tagList.push(["PROGRAM-DATE-TIME",O.rawProgramDateTime]),-1===I&&(I=S.length);else{if(!(h=h[0].match(v))){c.logger.warn("No matches on slow regex match for level playlist!");continue}for(m=1;m<h.length&&"undefined"===typeof h[m];m++);var N=(" "+h[m]).slice(1),M=(" "+h[m+1]).slice(1),j=h[m+2]?(" "+h[m+2]).slice(1):"";switch(N){case"PLAYLIST-TYPE":b.type=M.toUpperCase();break;case"MEDIA-SEQUENCE":T=b.startSN=parseInt(M);break;case"SKIP":var F=new l.AttrList(M),U=F.decimalInteger("SKIPPED-SEGMENTS");if(Object(r.isFiniteNumber)(U)){b.skippedSegments=U;for(var B=U;B--;)S.unshift(null);T+=U}var H=F.enumeratedString("RECENTLY-REMOVED-DATERANGES");H&&(b.recentlyRemovedDateranges=H.split("\t"));break;case"TARGETDURATION":b.targetduration=parseFloat(M);break;case"VERSION":b.version=parseInt(M);break;case"EXTM3U":break;case"ENDLIST":b.live=!1;break;case"#":(M||j)&&O.tagList.push(j?[M,j]:[M]);break;case"DISCONTINUITY":A++,O.tagList.push(["DIS"]);break;case"GAP":O.tagList.push([N]);break;case"BITRATE":O.tagList.push([N,M]);break;case"DATERANGE":var G=new l.AttrList(M),V=new o.DateRange(G,b.dateRanges[G.ID]);V.isValid||b.skippedSegments?b.dateRanges[V.id]=V:c.logger.warn('Ignoring invalid DATERANGE tag: "'+M+'"'),O.tagList.push(["EXT-X-DATERANGE",M]);break;case"DISCONTINUITY-SEQUENCE":A=parseInt(M);break;case"KEY":var z,W=new l.AttrList(M),K=W.enumeratedString("METHOD"),q=W.URI,Y=W.hexadecimalInteger("IV"),$=W.enumeratedString("KEYFORMATVERSIONS"),X=W.enumeratedString("KEYID"),Q=null!=(z=W.enumeratedString("KEYFORMAT"))?z:"identity";if(["com.apple.streamingkeydelivery","com.microsoft.playready","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed","com.widevine"].indexOf(Q)>-1){c.logger.warn("Keyformat "+Q+" is not supported from the manifest");continue}if("identity"!==Q)continue;K&&(y=u.LevelKey.fromURL(t,q),q&&["AES-128","SAMPLE-AES","SAMPLE-AES-CENC"].indexOf(K)>=0&&(y.method=K,y.keyFormat=Q,X&&(y.keyID=X),$&&(y.keyFormatVersions=$),y.iv=Y));break;case"START":var J=new l.AttrList(M).decimalFloatingPoint("TIME-OFFSET");Object(r.isFiniteNumber)(J)&&(b.startTimeOffset=J);break;case"MAP":var Z=new l.AttrList(M);if(O.duration){var ee=new a.Fragment(f,t);E(ee,Z,n,y),x=ee,O.initSegment=x,x.rawProgramDateTime&&!O.rawProgramDateTime&&(O.rawProgramDateTime=x.rawProgramDateTime)}else E(O,Z,n,y),x=O,R=!0;break;case"SERVER-CONTROL":var te=new l.AttrList(M);b.canBlockReload=te.bool("CAN-BLOCK-RELOAD"),b.canSkipUntil=te.optionalFloat("CAN-SKIP-UNTIL",0),b.canSkipDateRanges=b.canSkipUntil>0&&te.bool("CAN-SKIP-DATERANGES"),b.partHoldBack=te.optionalFloat("PART-HOLD-BACK",0),b.holdBack=te.optionalFloat("HOLD-BACK",0);break;case"PART-INF":var ne=new l.AttrList(M);b.partTarget=ne.decimalFloatingPoint("PART-TARGET");break;case"PART":var re=b.partList;re||(re=b.partList=[]);var ie=_>0?re[re.length-1]:void 0,oe=_++,ae=new a.Part(new l.AttrList(M),O,t,oe,ie);re.push(ae),O.duration+=ae.duration;break;case"PRELOAD-HINT":var se=new l.AttrList(M);b.preloadHint=se;break;case"RENDITION-REPORT":var ue=new l.AttrList(M);b.renditionReports=b.renditionReports||[],b.renditionReports.push(ue);break;default:c.logger.warn("line parsed but not handled: "+h)}}}C&&!C.relurl?(S.pop(),k-=C.duration,b.partList&&(b.fragmentHint=C)):b.partList&&(w(O,C),O.cc=A,b.fragmentHint=O);var le=S.length,ce=S[0],fe=S[le-1];if((k+=b.skippedSegments*b.targetduration)>0&&le&&fe){b.averagetargetduration=k/le;var de=fe.sn;b.endSN="initSegment"!==de?de:0,ce&&(b.startCC=ce.cc,ce.initSegment||b.fragments.every((function(e){return e.relurl&&function(e){var t,n;return g.test(null!=(t=null===(n=i.parseURL(e))||void 0===n?void 0:n.path)?t:"")}(e.relurl)}))&&(c.logger.warn("MP4 fragments found but no init segment (probably no MAP, incomplete M3U8), trying to fetch SIDX"),(O=new a.Fragment(f,t)).relurl=fe.relurl,O.level=n,O.sn="initSegment",ce.initSegment=O,b.needSidxRanges=!0))}else b.endSN=0,b.startCC=0;return b.fragmentHint&&(k+=b.fragmentHint.duration),b.totalduration=k,b.endCC=A,I>0&&function(e,t){for(var n=e[t],r=t;r--;){var i=e[r];if(!i)return;i.programDateTime=n.programDateTime-1e3*i.duration,n=i}}(S,I),b},e}();function y(e,t){["video","audio","text"].forEach((function(n){var r=e.filter((function(e){return Object(f.isCodecType)(e,n)}));if(r.length){var i=r.filter((function(e){return 0===e.lastIndexOf("avc1",0)||0===e.lastIndexOf("mp4a",0)}));t[n+"Codec"]=i.length>0?i[0]:r[0],e=e.filter((function(e){return-1===r.indexOf(e)}))}})),t.unknownCodecs=e}function b(e,t,n){var r=t[n];r&&(e[n]=r)}function w(e,t){e.rawProgramDateTime?e.programDateTime=Date.parse(e.rawProgramDateTime):null!==t&&void 0!==t&&t.programDateTime&&(e.programDateTime=t.endProgramDateTime),Object(r.isFiniteNumber)(e.programDateTime)||(e.programDateTime=null,e.rawProgramDateTime=null)}function E(e,t,n,r){e.relurl=t.URI,t.BYTERANGE&&e.setByteRange(t.BYTERANGE),e.level=n,e.sn="initSegment",r&&(e.levelkey=r),e.initSegment=null}},"./src/loader/playlist-loader.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/events.ts"),o=n("./src/errors.ts"),a=n("./src/utils/logger.ts"),s=n("./src/utils/mp4-tools.ts"),u=n("./src/loader/m3u8-parser.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/attr-list.ts");function f(e,t){var n=e.url;return void 0!==n&&0!==n.indexOf("data:")||(n=t.url),n}var d=function(){function e(e){this.hls=void 0,this.loaders=Object.create(null),this.hls=e,this.registerListeners()}var t=e.prototype;return t.registerListeners=function(){var e=this.hls;e.on(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.on(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.on(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.unregisterListeners=function(){var e=this.hls;e.off(i.Events.MANIFEST_LOADING,this.onManifestLoading,this),e.off(i.Events.LEVEL_LOADING,this.onLevelLoading,this),e.off(i.Events.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(i.Events.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)},t.createInternalLoader=function(e){var t=this.hls.config,n=t.pLoader,r=t.loader,i=new(n||r)(t);return e.loader=i,this.loaders[e.type]=i,i},t.getInternalLoader=function(e){return this.loaders[e.type]},t.resetInternalLoader=function(e){this.loaders[e]&&delete this.loaders[e]},t.destroyInternalLoaders=function(){for(var e in this.loaders){var t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}},t.destroy=function(){this.unregisterListeners(),this.destroyInternalLoaders()},t.onManifestLoading=function(e,t){var n=t.url;this.load({id:null,groupId:null,level:0,responseType:"text",type:l.PlaylistContextType.MANIFEST,url:n,deliveryDirectives:null})},t.onLevelLoading=function(e,t){var n=t.id,r=t.level,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:null,level:r,responseType:"text",type:l.PlaylistContextType.LEVEL,url:i,deliveryDirectives:o})},t.onAudioTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.AUDIO_TRACK,url:i,deliveryDirectives:o})},t.onSubtitleTrackLoading=function(e,t){var n=t.id,r=t.groupId,i=t.url,o=t.deliveryDirectives;this.load({id:n,groupId:r,level:null,responseType:"text",type:l.PlaylistContextType.SUBTITLE_TRACK,url:i,deliveryDirectives:o})},t.load=function(e){var t,n,r,i,o,s,u=this.hls.config,c=this.getInternalLoader(e);if(c){var f=c.context;if(f&&f.url===e.url)return void a.logger.trace("[playlist-loader]: playlist request ongoing");a.logger.log("[playlist-loader]: aborting previous loader for type: "+e.type),c.abort()}switch(e.type){case l.PlaylistContextType.MANIFEST:n=u.manifestLoadingMaxRetry,r=u.manifestLoadingTimeOut,i=u.manifestLoadingRetryDelay,o=u.manifestLoadingMaxRetryTimeout;break;case l.PlaylistContextType.LEVEL:case l.PlaylistContextType.AUDIO_TRACK:case l.PlaylistContextType.SUBTITLE_TRACK:n=0,r=u.levelLoadingTimeOut;break;default:n=u.levelLoadingMaxRetry,r=u.levelLoadingTimeOut,i=u.levelLoadingRetryDelay,o=u.levelLoadingMaxRetryTimeout}if(c=this.createInternalLoader(e),null!==(t=e.deliveryDirectives)&&void 0!==t&&t.part&&(e.type===l.PlaylistContextType.LEVEL&&null!==e.level?s=this.hls.levels[e.level].details:e.type===l.PlaylistContextType.AUDIO_TRACK&&null!==e.id?s=this.hls.audioTracks[e.id].details:e.type===l.PlaylistContextType.SUBTITLE_TRACK&&null!==e.id&&(s=this.hls.subtitleTracks[e.id].details),s)){var d=s.partTarget,h=s.targetduration;d&&h&&(r=Math.min(1e3*Math.max(3*d,.8*h),r))}var p={timeout:r,maxRetry:n,retryDelay:i,maxRetryDelay:o,highWaterMark:0},v={onSuccess:this.loadsuccess.bind(this),onError:this.loaderror.bind(this),onTimeout:this.loadtimeout.bind(this)};c.load(e,p,v)},t.loadsuccess=function(e,t,n,r){if(void 0===r&&(r=null),n.isSidxRequest)return this.handleSidxRequest(e,n),void this.handlePlaylistLoaded(e,t,n,r);this.resetInternalLoader(n.type);var i=e.data;0===i.indexOf("#EXTM3U")?(t.parsing.start=performance.now(),i.indexOf("#EXTINF:")>0||i.indexOf("#EXT-X-TARGETDURATION:")>0?this.handleTrackOrLevelPlaylist(e,t,n,r):this.handleMasterPlaylist(e,t,n,r)):this.handleManifestParsingError(e,n,"no EXTM3U delimiter",r)},t.loaderror=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!1,e)},t.loadtimeout=function(e,t,n){void 0===n&&(n=null),this.handleNetworkError(t,n,!0)},t.handleMasterPlaylist=function(e,t,n,r){var o=this.hls,s=e.data,l=f(e,n),d=u.default.parseMasterPlaylist(s,l),h=d.levels,p=d.sessionData;if(h.length){var v=h.map((function(e){return{id:e.attrs.AUDIO,audioCodec:e.audioCodec}})),g=h.map((function(e){return{id:e.attrs.SUBTITLES,textCodec:e.textCodec}})),m=u.default.parseMasterPlaylistMedia(s,l,"AUDIO",v),y=u.default.parseMasterPlaylistMedia(s,l,"SUBTITLES",g),b=u.default.parseMasterPlaylistMedia(s,l,"CLOSED-CAPTIONS");m.length&&(m.some((function(e){return!e.url}))||!h[0].audioCodec||h[0].attrs.AUDIO||(a.logger.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),m.unshift({type:"main",name:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new c.AttrList({}),bitrate:0,url:""}))),o.trigger(i.Events.MANIFEST_LOADED,{levels:h,audioTracks:m,subtitles:y,captions:b,url:l,stats:t,networkDetails:r,sessionData:p})}else this.handleManifestParsingError(e,n,"no level found in manifest",r)},t.handleTrackOrLevelPlaylist=function(e,t,n,a){var s=this.hls,d=n.id,h=n.level,p=n.type,v=f(e,n),g=Object(r.isFiniteNumber)(d)?d:0,m=Object(r.isFiniteNumber)(h)?h:g,y=function(e){switch(e.type){case l.PlaylistContextType.AUDIO_TRACK:return l.PlaylistLevelType.AUDIO;case l.PlaylistContextType.SUBTITLE_TRACK:return l.PlaylistLevelType.SUBTITLE;default:return l.PlaylistLevelType.MAIN}}(n),b=u.default.parseLevelPlaylist(e.data,v,m,y,g);if(b.fragments.length){if(p===l.PlaylistContextType.MANIFEST){var w={attrs:new c.AttrList({}),bitrate:0,details:b,name:"",url:v};s.trigger(i.Events.MANIFEST_LOADED,{levels:[w],audioTracks:[],url:v,stats:t,networkDetails:a,sessionData:null})}if(t.parsing.end=performance.now(),b.needSidxRanges){var E,S=null===(E=b.fragments[0].initSegment)||void 0===E?void 0:E.url;this.load({url:S,isSidxRequest:!0,type:p,level:h,levelDetails:b,id:d,groupId:null,rangeStart:0,rangeEnd:2048,responseType:"arraybuffer",deliveryDirectives:null})}else n.levelDetails=b,this.handlePlaylistLoaded(e,t,n,a)}else s.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.LEVEL_EMPTY_ERROR,fatal:!1,url:v,reason:"no fragments found in level",level:"number"===typeof n.level?n.level:void 0})},t.handleSidxRequest=function(e,t){var n=Object(s.parseSegmentIndex)(new Uint8Array(e.data));if(n){var r=n.references,i=t.levelDetails;r.forEach((function(e,t){var r=e.info,o=i.fragments[t];0===o.byteRange.length&&o.setByteRange(String(1+r.end-r.start)+"@"+String(r.start)),o.initSegment&&o.initSegment.setByteRange(String(n.moovEndOffset)+"@0")}))}},t.handleManifestParsingError=function(e,t,n,r){this.hls.trigger(i.Events.ERROR,{type:o.ErrorTypes.NETWORK_ERROR,details:o.ErrorDetails.MANIFEST_PARSING_ERROR,fatal:t.type===l.PlaylistContextType.MANIFEST,url:e.url,reason:n,response:e,context:t,networkDetails:r})},t.handleNetworkError=function(e,t,n,r){void 0===n&&(n=!1),a.logger.warn("[playlist-loader]: A network "+(n?"timeout":"error")+" occurred while loading "+e.type+" level: "+e.level+" id: "+e.id+' group-id: "'+e.groupId+'"');var s=o.ErrorDetails.UNKNOWN,u=!1,c=this.getInternalLoader(e);switch(e.type){case l.PlaylistContextType.MANIFEST:s=n?o.ErrorDetails.MANIFEST_LOAD_TIMEOUT:o.ErrorDetails.MANIFEST_LOAD_ERROR,u=!0;break;case l.PlaylistContextType.LEVEL:s=n?o.ErrorDetails.LEVEL_LOAD_TIMEOUT:o.ErrorDetails.LEVEL_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.AUDIO_TRACK:s=n?o.ErrorDetails.AUDIO_TRACK_LOAD_TIMEOUT:o.ErrorDetails.AUDIO_TRACK_LOAD_ERROR,u=!1;break;case l.PlaylistContextType.SUBTITLE_TRACK:s=n?o.ErrorDetails.SUBTITLE_TRACK_LOAD_TIMEOUT:o.ErrorDetails.SUBTITLE_LOAD_ERROR,u=!1}c&&this.resetInternalLoader(e.type);var f={type:o.ErrorTypes.NETWORK_ERROR,details:s,fatal:u,url:e.url,loader:c,context:e,networkDetails:t};r&&(f.response=r),this.hls.trigger(i.Events.ERROR,f)},t.handlePlaylistLoaded=function(e,t,n,r){var o=n.type,a=n.level,s=n.id,u=n.groupId,c=n.loader,f=n.levelDetails,d=n.deliveryDirectives;if(null!==f&&void 0!==f&&f.targetduration){if(c)switch(f.live&&(c.getCacheAge&&(f.ageHeader=c.getCacheAge()||0),c.getCacheAge&&!isNaN(f.ageHeader)||(f.ageHeader=0)),o){case l.PlaylistContextType.MANIFEST:case l.PlaylistContextType.LEVEL:this.hls.trigger(i.Events.LEVEL_LOADED,{details:f,level:a||0,id:s||0,stats:t,networkDetails:r,deliveryDirectives:d});break;case l.PlaylistContextType.AUDIO_TRACK:this.hls.trigger(i.Events.AUDIO_TRACK_LOADED,{details:f,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:d});break;case l.PlaylistContextType.SUBTITLE_TRACK:this.hls.trigger(i.Events.SUBTITLE_TRACK_LOADED,{details:f,id:s||0,groupId:u||"",stats:t,networkDetails:r,deliveryDirectives:d})}}else this.handleManifestParsingError(e,n,"invalid target duration",r)},e}();t.default=d},"./src/polyfills/number.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isFiniteNumber",(function(){return r})),n.d(t,"MAX_SAFE_INTEGER",(function(){return i}));var r=Number.isFinite||function(e){return"number"===typeof e&&isFinite(e)},i=Number.MAX_SAFE_INTEGER||9007199254740991},"./src/remux/aac-helper.ts":function(e,t,n){"use strict";n.r(t);var r=function(){function e(){}return e.getSilentFrame=function(e,t){if("mp4a.40.2"===e){if(1===t)return new Uint8Array([0,200,0,128,35,128]);if(2===t)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(3===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(4===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(5===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(6===t)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224])}else{if(1===t)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(2===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(3===t)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94])}},e}();t.default=r},"./src/remux/mp4-generator.ts":function(e,t,n){"use strict";n.r(t);var r=Math.pow(2,32)-1,i=function(){function e(){}return e.init=function(){var t;for(t in e.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]},e.types)e.types.hasOwnProperty(t)&&(e.types[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);var n=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);e.HDLR_TYPES={video:n,audio:r};var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),o=new Uint8Array([0,0,0,0,0,0,0,0]);e.STTS=e.STSC=e.STCO=o,e.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),e.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),e.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),e.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);var a=new Uint8Array([105,115,111,109]),s=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);e.FTYP=e.box(e.types.ftyp,a,u,a,s),e.DINF=e.box(e.types.dinf,e.box(e.types.dref,i))},e.box=function(e){for(var t=8,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=r.length,a=o;o--;)t+=r[o].byteLength;var s=new Uint8Array(t);for(s[0]=t>>24&255,s[1]=t>>16&255,s[2]=t>>8&255,s[3]=255&t,s.set(e,4),o=0,t=8;o<a;o++)s.set(r[o],t),t+=r[o].byteLength;return s},e.hdlr=function(t){return e.box(e.types.hdlr,e.HDLR_TYPES[t])},e.mdat=function(t){return e.box(e.types.mdat,t)},e.mdhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1));return e.box(e.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,85,196,0,0]))},e.mdia=function(t){return e.box(e.types.mdia,e.mdhd(t.timescale,t.duration),e.hdlr(t.type),e.minf(t))},e.mfhd=function(t){return e.box(e.types.mfhd,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,255&t]))},e.minf=function(t){return"audio"===t.type?e.box(e.types.minf,e.box(e.types.smhd,e.SMHD),e.DINF,e.stbl(t)):e.box(e.types.minf,e.box(e.types.vmhd,e.VMHD),e.DINF,e.stbl(t))},e.moof=function(t,n,r){return e.box(e.types.moof,e.mfhd(t),e.traf(r,n))},e.moov=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trak(t[n]);return e.box.apply(null,[e.types.moov,e.mvhd(t[0].timescale,t[0].duration)].concat(r).concat(e.mvex(t)))},e.mvex=function(t){for(var n=t.length,r=[];n--;)r[n]=e.trex(t[n]);return e.box.apply(null,[e.types.mvex].concat(r))},e.mvhd=function(t,n){n*=t;var i=Math.floor(n/(r+1)),o=Math.floor(n%(r+1)),a=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,255&t,i>>24,i>>16&255,i>>8&255,255&i,o>>24,o>>16&255,o>>8&255,255&o,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return e.box(e.types.mvhd,a)},e.sdtp=function(t){var n,r,i=t.samples||[],o=new Uint8Array(4+i.length);for(n=0;n<i.length;n++)r=i[n].flags,o[n+4]=r.dependsOn<<4|r.isDependedOn<<2|r.hasRedundancy;return e.box(e.types.sdtp,o)},e.stbl=function(t){return e.box(e.types.stbl,e.stsd(t),e.box(e.types.stts,e.STTS),e.box(e.types.stsc,e.STSC),e.box(e.types.stsz,e.STSZ),e.box(e.types.stco,e.STCO))},e.avc1=function(t){var n,r,i,o=[],a=[];for(n=0;n<t.sps.length;n++)i=(r=t.sps[n]).byteLength,o.push(i>>>8&255),o.push(255&i),o=o.concat(Array.prototype.slice.call(r));for(n=0;n<t.pps.length;n++)i=(r=t.pps[n]).byteLength,a.push(i>>>8&255),a.push(255&i),a=a.concat(Array.prototype.slice.call(r));var s=e.box(e.types.avcC,new Uint8Array([1,o[3],o[4],o[5],255,224|t.sps.length].concat(o).concat([t.pps.length]).concat(a))),u=t.width,l=t.height,c=t.pixelRatio[0],f=t.pixelRatio[1];return e.box(e.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,255&u,l>>8&255,255&l,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),s,e.box(e.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),e.box(e.types.pasp,new Uint8Array([c>>24,c>>16&255,c>>8&255,255&c,f>>24,f>>16&255,f>>8&255,255&f])))},e.esds=function(e){var t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))},e.mp4a=function(t){var n=t.samplerate;return e.box(e.types.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]),e.box(e.types.esds,e.esds(t)))},e.mp3=function(t){var n=t.samplerate;return e.box(e.types[".mp3"],new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,t.channelCount,0,16,0,0,0,0,n>>8&255,255&n,0,0]))},e.stsd=function(t){return"audio"===t.type?"mp3"===t.segmentCodec&&"mp3"===t.codec?e.box(e.types.stsd,e.STSD,e.mp3(t)):e.box(e.types.stsd,e.STSD,e.mp4a(t)):e.box(e.types.stsd,e.STSD,e.avc1(t))},e.tkhd=function(t){var n=t.id,i=t.duration*t.timescale,o=t.width,a=t.height,s=Math.floor(i/(r+1)),u=Math.floor(i%(r+1));return e.box(e.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,n>>24&255,n>>16&255,n>>8&255,255&n,0,0,0,0,s>>24,s>>16&255,s>>8&255,255&s,u>>24,u>>16&255,u>>8&255,255&u,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,o>>8&255,255&o,0,0,a>>8&255,255&a,0,0]))},e.traf=function(t,n){var i=e.sdtp(t),o=t.id,a=Math.floor(n/(r+1)),s=Math.floor(n%(r+1));return e.box(e.types.traf,e.box(e.types.tfhd,new Uint8Array([0,0,0,0,o>>24,o>>16&255,o>>8&255,255&o])),e.box(e.types.tfdt,new Uint8Array([1,0,0,0,a>>24,a>>16&255,a>>8&255,255&a,s>>24,s>>16&255,s>>8&255,255&s])),e.trun(t,i.length+16+20+8+16+8+8),i)},e.trak=function(t){return t.duration=t.duration||4294967295,e.box(e.types.trak,e.tkhd(t),e.mdia(t))},e.trex=function(t){var n=t.id;return e.box(e.types.trex,new Uint8Array([0,0,0,0,n>>24,n>>16&255,n>>8&255,255&n,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))},e.trun=function(t,n){var r,i,o,a,s,u,l=t.samples||[],c=l.length,f=12+16*c,d=new Uint8Array(f);for(n+=8+f,d.set([0,0,15,1,c>>>24&255,c>>>16&255,c>>>8&255,255&c,n>>>24&255,n>>>16&255,n>>>8&255,255&n],0),r=0;r<c;r++)o=(i=l[r]).duration,a=i.size,s=i.flags,u=i.cts,d.set([o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a,s.isLeading<<2|s.dependsOn,s.isDependedOn<<6|s.hasRedundancy<<4|s.paddingValue<<1|s.isNonSync,61440&s.degradPrio,15&s.degradPrio,u>>>24&255,u>>>16&255,u>>>8&255,255&u],12+16*r);return e.box(e.types.trun,d)},e.initSegment=function(t){e.types||e.init();var n=e.moov(t),r=new Uint8Array(e.FTYP.byteLength+n.byteLength);return r.set(e.FTYP),r.set(n,e.FTYP.byteLength),r},e}();i.types=void 0,i.HDLR_TYPES=void 0,i.STTS=void 0,i.STSC=void 0,i.STCO=void 0,i.STSZ=void 0,i.VMHD=void 0,i.SMHD=void 0,i.STSD=void 0,i.FTYP=void 0,i.DINF=void 0,t.default=i},"./src/remux/mp4-remuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return v})),n.d(t,"normalizePts",(function(){return g})),n.d(t,"flushTextTrackMetadataCueSamples",(function(){return m})),n.d(t,"flushTextTrackUserdataCueSamples",(function(){return y}));var r=n("./src/polyfills/number.ts"),i=n("./src/remux/aac-helper.ts"),o=n("./src/remux/mp4-generator.ts"),a=n("./src/events.ts"),s=n("./src/errors.ts"),u=n("./src/utils/logger.ts"),l=n("./src/types/loader.ts"),c=n("./src/utils/timescale-conversion.ts");function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}var d=null,h=null,p=!1,v=function(){function e(e,t,n,r){if(void 0===r&&(r=""),this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=void 0,this._initDTS=void 0,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.observer=e,this.config=t,this.typeSupported=n,this.ISGenerated=!1,null===d){var i=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);d=i?parseInt(i[1]):0}if(null===h){var o=navigator.userAgent.match(/Safari\/(\d+)/i);h=o?parseInt(o[1]):0}p=!(d&&d>=75||h&&h>=600)}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){u.logger.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e},t.resetNextTimestamp=function(){u.logger.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1},t.resetInitSegment=function(){u.logger.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1},t.getVideoStartPts=function(e){var t=!1,n=e.reduce((function(e,n){var r=n.pts-e;return r<-4294967296?(t=!0,g(e,n.pts)):r>0?e:n.pts}),e[0].pts);return t&&u.logger.debug("PTS rollover detected"),n},t.remux=function(e,t,n,r,i,o,a,s){var c,f,d,h,p,v,b=i,w=i,E=e.pid>-1,S=t.pid>-1,x=t.samples.length,T=e.samples.length>0,_=a&&x>0||x>1;if((!E||T)&&(!S||_)||this.ISGenerated||a){this.ISGenerated||(d=this.generateIS(e,t,i));var k,A=this.isVideoContiguous,C=-1;if(_&&(C=function(e){for(var t=0;t<e.length;t++)if(e[t].key)return t;return-1}(t.samples),!A&&this.config.forceKeyFrameOnDiscontinuity))if(v=!0,C>0){u.logger.warn("[mp4-remuxer]: Dropped "+C+" out of "+x+" video samples due to a missing keyframe");var O=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(C),t.dropped+=C,k=w+=(t.samples[0].pts-O)/t.inputTimeScale}else-1===C&&(u.logger.warn("[mp4-remuxer]: No keyframe found out of "+x+" video samples"),v=!1);if(this.ISGenerated){if(T&&_){var I=this.getVideoStartPts(t.samples),R=(g(e.samples[0].pts,I)-I)/t.inputTimeScale;b+=Math.max(0,R),w+=Math.max(0,-R)}if(T){if(e.samplerate||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),d=this.generateIS(e,t,i)),f=this.remuxAudio(e,b,this.isAudioContiguous,o,S||_||s===l.PlaylistLevelType.AUDIO?w:void 0),_){var L=f?f.endPTS-f.startPTS:0;t.inputTimeScale||(u.logger.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),d=this.generateIS(e,t,i)),c=this.remuxVideo(t,w,A,L)}}else _&&(c=this.remuxVideo(t,w,A,0));c&&(c.firstKeyFrame=C,c.independent=-1!==C,c.firstKeyFramePTS=k)}}return this.ISGenerated&&(n.samples.length&&(p=m(n,i,this._initPTS,this._initDTS)),r.samples.length&&(h=y(r,i,this._initPTS))),{audio:f,video:c,initSegment:d,independent:v,text:h,id3:p}},t.generateIS=function(e,t,n){var i,a,s,u=e.samples,l=t.samples,c=this.typeSupported,f={},d=!Object(r.isFiniteNumber)(this._initPTS),h="audio/mp4";if(d&&(i=a=1/0),e.config&&u.length&&(e.timescale=e.samplerate,"mp3"===e.segmentCodec&&(c.mpeg?(h="audio/mpeg",e.codec=""):c.mp3&&(e.codec="mp3")),f.audio={id:"audio",container:h,codec:e.codec,initSegment:"mp3"===e.segmentCodec&&c.mpeg?new Uint8Array(0):o.default.initSegment([e]),metadata:{channelCount:e.channelCount}},d&&(s=e.inputTimeScale,i=a=u[0].pts-Math.round(s*n))),t.sps&&t.pps&&l.length&&(t.timescale=t.inputTimeScale,f.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:o.default.initSegment([t]),metadata:{width:t.width,height:t.height}},d)){s=t.inputTimeScale;var p=this.getVideoStartPts(l),v=Math.round(s*n);a=Math.min(a,g(l[0].dts,p)-v),i=Math.min(i,p-v)}if(Object.keys(f).length)return this.ISGenerated=!0,d&&(this._initPTS=i,this._initDTS=a),{tracks:f,initPTS:i,timescale:s}},t.remuxVideo=function(e,t,n,r){var i,l,h=e.inputTimeScale,v=e.samples,m=[],y=v.length,w=this._initPTS,E=this.nextAvcDts,S=8,x=this.videoSampleDuration,T=Number.POSITIVE_INFINITY,_=Number.NEGATIVE_INFINITY,k=0,A=!1;n&&null!==E||(E=t*h-(v[0].pts-g(v[0].dts,v[0].pts)));for(var C=0;C<y;C++){var O=v[C];O.pts=g(O.pts-w,E),O.dts=g(O.dts-w,E),O.dts>O.pts&&(k=Math.max(Math.min(k,O.pts-O.dts),-18e3)),O.dts<v[C>0?C-1:C].dts&&(A=!0)}A&&v.sort((function(e,t){var n=e.dts-t.dts,r=e.pts-t.pts;return n||r})),i=v[0].dts;var I=(l=v[v.length-1].dts)-i,R=I?Math.round(I/(y-1)):x||e.inputTimeScale/30;if(k<0){if(k<-2*R){u.logger.warn("PTS < DTS detected in video samples, offsetting DTS from PTS by "+Object(c.toMsFromMpegTsClock)(-R,!0)+" ms");for(var L=k,D=0;D<y;D++)v[D].dts=L=Math.max(L,v[D].pts-R),v[D].pts=Math.max(L,v[D].pts)}else{u.logger.warn("PTS < DTS detected in video samples, shifting DTS by "+Object(c.toMsFromMpegTsClock)(k,!0)+" ms to overcome this issue");for(var P=0;P<y;P++)v[P].dts=v[P].dts+k}i=v[0].dts}if(n){var N=i-E,M=N>R;if(M||N<-1){M?u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(N,!0)+" ms ("+N+"dts) hole between fragments detected, filling it"):u.logger.warn("AVC: "+Object(c.toMsFromMpegTsClock)(-N,!0)+" ms ("+N+"dts) overlapping between fragments detected"),i=E;var j=v[0].pts-N;v[0].dts=i,v[0].pts=j,u.logger.log("Video: First PTS/DTS adjusted: "+Object(c.toMsFromMpegTsClock)(j,!0)+"/"+Object(c.toMsFromMpegTsClock)(i,!0)+", delta: "+Object(c.toMsFromMpegTsClock)(N,!0)+" ms")}}p&&(i=Math.max(0,i));for(var F=0,U=0,B=0;B<y;B++){for(var H=v[B],G=H.units,V=G.length,z=0,W=0;W<V;W++)z+=G[W].data.length;U+=z,F+=V,H.length=z,H.dts=Math.max(H.dts,i),H.pts=Math.max(H.pts,H.dts,0),T=Math.min(H.pts,T),_=Math.max(H.pts,_)}l=v[y-1].dts;var K,q=U+4*F+8;try{K=new Uint8Array(q)}catch(de){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:q,reason:"fail allocating video mdat "+q})}var Y=new DataView(K.buffer);Y.setUint32(0,q),K.set(o.default.types.mdat,4);for(var $=!1,X=0;X<y;X++){for(var Q=v[X],J=Q.units,Z=0,ee=0,te=J.length;ee<te;ee++){var ne=J[ee],re=ne.data,ie=ne.data.byteLength;Y.setUint32(S,ie),S+=4,K.set(re,S),S+=ie,Z+=4+ie}if(X<y-1)x=v[X+1].dts-Q.dts;else{var oe=this.config,ae=X>0?Q.dts-v[X-1].dts:R;if(oe.stretchShortVideoTrack&&null!==this.nextAudioPts){var se=Math.floor(oe.maxBufferHole*h),ue=(r?T+r*h:this.nextAudioPts)-Q.pts;ue>se?((x=ue-ae)<0?x=ae:$=!0,u.logger.log("[mp4-remuxer]: It is approximately "+ue/90+" ms to the next segment; using duration "+x/90+" ms for the last video frame.")):x=ae}else x=ae}var le=Math.round(Q.pts-Q.dts);m.push(new b(Q.key,x,Z,le))}if(m.length&&d&&d<70){var ce=m[0].flags;ce.dependsOn=2,ce.isNonSync=0}console.assert(null!==x,"mp4SampleDuration must be computed"),x=$||!x?R:x,this.nextAvcDts=E=l+x,this.videoSampleDuration=x,this.isVideoContiguous=!0;var fe={data1:o.default.moof(e.sequenceNumber++,i,f({},e,{samples:m})),data2:K,startPTS:T/h,endPTS:(_+x)/h,startDTS:i/h,endDTS:E/h,type:"video",hasAudio:!1,hasVideo:!0,nb:m.length,dropped:e.dropped};return e.samples=[],e.dropped=0,console.assert(K.length,"MDAT length must not be zero"),fe},t.remuxAudio=function(e,t,n,r,l){var c=e.inputTimeScale,d=c/(e.samplerate?e.samplerate:c),h="aac"===e.segmentCodec?1024:1152,p=h*d,v=this._initPTS,m="mp3"===e.segmentCodec&&this.typeSupported.mpeg,y=[],w=void 0!==l,E=e.samples,S=m?0:8,x=this.nextAudioPts||-1,T=t*c;if(this.isAudioContiguous=n=n||E.length&&x>0&&(r&&Math.abs(T-x)<9e3||Math.abs(g(E[0].pts-v,T)-x)<20*p),E.forEach((function(e){e.pts=g(e.pts-v,T)})),!n||x<0){if(E=E.filter((function(e){return e.pts>=0})),!E.length)return;x=0===l?0:r&&!w?Math.max(0,T):E[0].pts}if("aac"===e.segmentCodec)for(var _=this.config.maxAudioFramesDrift,k=0,A=x;k<E.length;k++){var C=E[k],O=C.pts,I=O-A,R=Math.abs(1e3*I/c);if(I<=-_*p&&w)0===k&&(u.logger.warn("Audio frame @ "+(O/c).toFixed(3)+"s overlaps nextAudioPts by "+Math.round(1e3*I/c)+" ms."),this.nextAudioPts=x=A=O);else if(I>=_*p&&R<1e4&&w){var L=Math.round(I/p);(A=O-L*p)<0&&(L--,A+=p),0===k&&(this.nextAudioPts=x=A),u.logger.warn("[mp4-remuxer]: Injecting "+L+" audio frame @ "+(A/c).toFixed(3)+"s due to "+Math.round(1e3*I/c)+" ms gap.");for(var D=0;D<L;D++){var P=Math.max(A,0),N=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);N||(u.logger.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),N=C.unit.subarray()),E.splice(k,0,{unit:N,pts:P}),A+=p,k++}}C.pts=A,A+=p}for(var M,j=null,F=null,U=0,B=E.length;B--;)U+=E[B].unit.byteLength;for(var H=0,G=E.length;H<G;H++){var V=E[H],z=V.unit,W=V.pts;if(null!==F)y[H-1].duration=Math.round((W-F)/d);else{if(n&&"aac"===e.segmentCodec&&(W=x),j=W,!(U>0))return;U+=S;try{M=new Uint8Array(U)}catch(Z){return void this.observer.emit(a.Events.ERROR,a.Events.ERROR,{type:s.ErrorTypes.MUX_ERROR,details:s.ErrorDetails.REMUX_ALLOC_ERROR,fatal:!1,bytes:U,reason:"fail allocating audio mdat "+U})}m||(new DataView(M.buffer).setUint32(0,U),M.set(o.default.types.mdat,4))}M.set(z,S);var K=z.byteLength;S+=K,y.push(new b(!0,h,K,0)),F=W}var q=y.length;if(q){var Y=y[y.length-1];this.nextAudioPts=x=F+d*Y.duration;var $=m?new Uint8Array(0):o.default.moof(e.sequenceNumber++,j/d,f({},e,{samples:y}));e.samples=[];var X=j/c,Q=x/c,J={data1:$,data2:M,startPTS:X,endPTS:Q,startDTS:X,endDTS:Q,type:"audio",hasAudio:!0,hasVideo:!1,nb:q};return this.isAudioContiguous=!0,console.assert(M.length,"MDAT length must not be zero"),J}},t.remuxEmptyAudio=function(e,t,n,r){var o=e.inputTimeScale,a=o/(e.samplerate?e.samplerate:o),s=this.nextAudioPts,l=(null!==s?s:r.startDTS*o)+this._initDTS,c=r.endDTS*o+this._initDTS,f=1024*a,d=Math.ceil((c-l)/f),h=i.default.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(u.logger.warn("[mp4-remuxer]: remux empty Audio"),h){for(var p=[],v=0;v<d;v++){var g=l+v*f;p.push({unit:h,pts:g,dts:g})}return e.samples=p,this.remuxAudio(e,t,n,!1)}u.logger.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec")},e}();function g(e,t){var n;if(null===t)return e;for(n=t<e?-8589934592:8589934592;Math.abs(e-t)>4294967296;)e+=n;return e}function m(e,t,n,r){var i=e.samples.length;if(i){for(var o=e.inputTimeScale,a=0;a<i;a++){var s=e.samples[a];s.pts=g(s.pts-n,t*o)/o,s.dts=g(s.dts-r,t*o)/o}var u=e.samples;return e.samples=[],{samples:u}}}function y(e,t,n){var r=e.samples.length;if(r){for(var i=e.inputTimeScale,o=0;o<r;o++){var a=e.samples[o];a.pts=g(a.pts-n,t*i)/i}e.samples.sort((function(e,t){return e.pts-t.pts}));var s=e.samples;return e.samples=[],{samples:s}}}var b=function(e,t,n,r){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=n,this.cts=r,this.flags=new w(e)},w=function(e){this.isLeading=0,this.isDependedOn=0,this.hasRedundancy=0,this.degradPrio=0,this.dependsOn=1,this.isNonSync=1,this.dependsOn=e?2:1,this.isNonSync=e?0:1}},"./src/remux/passthrough-remuxer.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/polyfills/number.ts"),i=n("./src/remux/mp4-remuxer.ts"),o=n("./src/utils/mp4-tools.ts"),a=n("./src/loader/fragment.ts"),s=n("./src/utils/logger.ts"),u=function(){function e(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=void 0,this.initTracks=void 0,this.lastEndDTS=null}var t=e.prototype;return t.destroy=function(){},t.resetTimeStamp=function(e){this.initPTS=e,this.lastEndDTS=null},t.resetNextTimestamp=function(){this.lastEndDTS=null},t.resetInitSegment=function(e,t,n){this.audioCodec=t,this.videoCodec=n,this.generateInitSegment(e),this.emitInitSegment=!0},t.generateInitSegment=function(e){var t=this.audioCodec,n=this.videoCodec;if(!e||!e.byteLength)return this.initTracks=void 0,void(this.initData=void 0);var r=this.initData=Object(o.parseInitSegment)(e);t||(t=c(r.audio,a.ElementaryStreamTypes.AUDIO)),n||(n=c(r.video,a.ElementaryStreamTypes.VIDEO));var i={};r.audio&&r.video?i.audiovideo={container:"video/mp4",codec:t+","+n,initSegment:e,id:"main"}:r.audio?i.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:r.video?i.video={container:"video/mp4",codec:n,initSegment:e,id:"main"}:s.logger.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=i},t.remux=function(e,t,n,a,u){var c,f=this.initPTS,d=this.lastEndDTS,h={audio:void 0,video:void 0,text:a,id3:n,initSegment:void 0};Object(r.isFiniteNumber)(d)||(d=this.lastEndDTS=u||0);var p=t.samples;if(!p||!p.length)return h;var v={initPTS:void 0,timescale:1},g=this.initData;if(g&&g.length||(this.generateInitSegment(p),g=this.initData),!g||!g.length)return s.logger.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),h;this.emitInitSegment&&(v.tracks=this.initTracks,this.emitInitSegment=!1),Object(r.isFiniteNumber)(f)||(this.initPTS=v.initPTS=f=l(g,p,d));var m=Object(o.getDuration)(p,g),y=d,b=m+y;Object(o.offsetStartDTS)(g,p,f),m>0?this.lastEndDTS=b:(s.logger.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());var w=!!g.audio,E=!!g.video,S="";w&&(S+="audio"),E&&(S+="video");var x={data1:p,startPTS:y,startDTS:y,endPTS:b,endDTS:b,type:S,hasAudio:w,hasVideo:E,nb:1,dropped:0};h.audio="audio"===x.type?x:void 0,h.video="audio"!==x.type?x:void 0,h.initSegment=v;var T=null!=(c=this.initPTS)?c:0;return h.id3=Object(i.flushTextTrackMetadataCueSamples)(n,u,T,T),a.samples.length&&(h.text=Object(i.flushTextTrackUserdataCueSamples)(a,u,T)),h},e}(),l=function(e,t,n){return Object(o.getStartDTS)(e,t)-n};function c(e,t){var n=null===e||void 0===e?void 0:e.codec;return n&&n.length>4?n:"hvc1"===n||"hev1"===n?"hvc1.1.c.L120.90":"av01"===n?"av01.0.04M.08":"avc1"===n||t===a.ElementaryStreamTypes.VIDEO?"avc1.42e01e":"mp4a.40.5"}t.default=u},"./src/task-loop.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}var t=e.prototype;return t.destroy=function(){this.onHandlerDestroying(),this.onHandlerDestroyed()},t.onHandlerDestroying=function(){this.clearNextTick(),this.clearInterval()},t.onHandlerDestroyed=function(){},t.hasInterval=function(){return!!this._tickInterval},t.hasNextTick=function(){return!!this._tickTimer},t.setInterval=function(e){return!this._tickInterval&&(this._tickInterval=self.setInterval(this._boundTick,e),!0)},t.clearInterval=function(){return!!this._tickInterval&&(self.clearInterval(this._tickInterval),this._tickInterval=null,!0)},t.clearNextTick=function(){return!!this._tickTimer&&(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0)},t.tick=function(){this._tickCallCount++,1===this._tickCallCount&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)},t.tickImmediate=function(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)},t.doTick=function(){},e}()},"./src/types/cmcd.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CMCDVersion",(function(){return a})),n.d(t,"CMCDObjectType",(function(){return r})),n.d(t,"CMCDStreamingFormat",(function(){return i})),n.d(t,"CMCDStreamType",(function(){return o}));var r,i,o,a=1;!function(e){e.MANIFEST="m",e.AUDIO="a",e.VIDEO="v",e.MUXED="av",e.INIT="i",e.CAPTION="c",e.TIMED_TEXT="tt",e.KEY="k",e.OTHER="o"}(r||(r={})),function(e){e.DASH="d",e.HLS="h",e.SMOOTH="s",e.OTHER="o"}(i||(i={})),function(e){e.VOD="v",e.LIVE="l"}(o||(o={}))},"./src/types/demuxer.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"MetadataSchema",(function(){return r})),function(e){e.audioId3="org.id3",e.dateRange="com.apple.quicktime.HLS",e.emsg="https://aomedia.org/emsg/ID3"}(r||(r={}))},"./src/types/level.ts":function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i;function o(e,t){var n=e.canSkipUntil,r=e.canSkipDateRanges,o=e.endSN;return n&&(void 0!==t?t-o:0)<n?r?i.v2:i.Yes:i.No}n.r(t),n.d(t,"HlsSkip",(function(){return i})),n.d(t,"getSkipValue",(function(){return o})),n.d(t,"HlsUrlParameters",(function(){return a})),n.d(t,"Level",(function(){return s})),function(e){e.No="",e.Yes="YES",e.v2="v2"}(i||(i={}));var a=function(){function e(e,t,n){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=n}return e.prototype.addDirectives=function(e){var t=new self.URL(e);return void 0!==this.msn&&t.searchParams.set("_HLS_msn",this.msn.toString()),void 0!==this.part&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.toString()},e}(),s=function(){function e(e){this.attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.unknownCodecs=void 0,this.audioGroupIds=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.textGroupIds=void 0,this.url=void 0,this._urlId=0,this.url=[e.url],this.attrs=e.attrs,this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.unknownCodecs=e.unknownCodecs,this.codecSet=[e.videoCodec,e.audioCodec].filter((function(e){return e})).join(",").replace(/\.[^.,]+/g,"")}var t,n,i;return t=e,(n=[{key:"maxBitrate",get:function(){return Math.max(this.realBitrate,this.bitrate)}},{key:"uri",get:function(){return this.url[this._urlId]||""}},{key:"urlId",get:function(){return this._urlId},set:function(e){var t=e%this.url.length;this._urlId!==t&&(this.details=void 0,this._urlId=t)}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}()},"./src/types/loader.ts":function(e,t,n){"use strict";var r,i;n.r(t),n.d(t,"PlaylistContextType",(function(){return r})),n.d(t,"PlaylistLevelType",(function(){return i})),function(e){e.MANIFEST="manifest",e.LEVEL="level",e.AUDIO_TRACK="audioTrack",e.SUBTITLE_TRACK="subtitleTrack"}(r||(r={})),function(e){e.MAIN="main",e.AUDIO="audio",e.SUBTITLE="subtitle"}(i||(i={}))},"./src/types/transmuxer.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ChunkMetadata",(function(){return r}));var r=function(e,t,n,r,i,o){void 0===r&&(r=0),void 0===i&&(i=-1),void 0===o&&(o=!1),this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing={start:0,executeStart:0,executeEnd:0,end:0},this.buffering={audio:{start:0,executeStart:0,executeEnd:0,end:0},video:{start:0,executeStart:0,executeEnd:0,end:0},audiovideo:{start:0,executeStart:0,executeEnd:0,end:0}},this.level=e,this.sn=t,this.id=n,this.size=r,this.part=i,this.partial=o}},"./src/utils/attr-list.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AttrList",(function(){return o}));var r=/^(\d+)x(\d+)$/,i=/\s*(.+?)\s*=((?:\".*?\")|.*?)(?:,|$)/g,o=function(){function e(t){for(var n in"string"===typeof t&&(t=e.parseAttrList(t)),t)t.hasOwnProperty(n)&&(this[n]=t[n])}var t=e.prototype;return t.decimalInteger=function(e){var t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.hexadecimalInteger=function(e){if(this[e]){var t=(this[e]||"0x").slice(2);t=(1&t.length?"0":"")+t;for(var n=new Uint8Array(t.length/2),r=0;r<t.length/2;r++)n[r]=parseInt(t.slice(2*r,2*r+2),16);return n}return null},t.hexadecimalIntegerAsNumber=function(e){var t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t},t.decimalFloatingPoint=function(e){return parseFloat(this[e])},t.optionalFloat=function(e,t){var n=this[e];return n?parseFloat(n):t},t.enumeratedString=function(e){return this[e]},t.bool=function(e){return"YES"===this[e]},t.decimalResolution=function(e){var t=r.exec(this[e]);if(null!==t)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}},e.parseAttrList=function(e){var t,n={};for(i.lastIndex=0;null!==(t=i.exec(e));){var r=t[2];0===r.indexOf('"')&&r.lastIndexOf('"')===r.length-1&&(r=r.slice(1,-1)),n[t[1]]=r}return n},e}()},"./src/utils/binary-search.ts":function(e,t,n){"use strict";n.r(t),t.default={search:function(e,t){for(var n=0,r=e.length-1,i=null,o=null;n<=r;){var a=t(o=e[i=(n+r)/2|0]);if(a>0)n=i+1;else{if(!(a<0))return o;r=i-1}}return null}}},"./src/utils/buffer-helper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BufferHelper",(function(){return o}));var r=n("./src/utils/logger.ts"),i={length:0,start:function(){return 0},end:function(){return 0}},o=function(){function e(){}return e.isBuffered=function(t,n){try{if(t)for(var r=e.getBuffered(t),i=0;i<r.length;i++)if(n>=r.start(i)&&n<=r.end(i))return!0}catch(o){}return!1},e.bufferInfo=function(t,n,r){try{if(t){var i,o=e.getBuffered(t),a=[];for(i=0;i<o.length;i++)a.push({start:o.start(i),end:o.end(i)});return this.bufferedInfo(a,n,r)}}catch(s){}return{len:0,start:n,end:n,nextStart:void 0}},e.bufferedInfo=function(e,t,n){t=Math.max(0,t),e.sort((function(e,t){var n=e.start-t.start;return n||t.end-e.end}));var r=[];if(n)for(var i=0;i<e.length;i++){var o=r.length;if(o){var a=r[o-1].end;e[i].start-a<n?e[i].end>a&&(r[o-1].end=e[i].end):r.push(e[i])}else r.push(e[i])}else r=e;for(var s,u=0,l=t,c=t,f=0;f<r.length;f++){var d=r[f].start,h=r[f].end;if(t+n>=d&&t<h)l=d,u=(c=h)-t;else if(t+n<d){s=d;break}}return{len:u,start:l||0,end:c||0,nextStart:s}},e.getBuffered=function(e){try{return e.buffered}catch(t){return r.logger.log("failed to get media.buffered",t),i}},e}()},"./src/utils/cea-608-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Row",(function(){return y})),n.d(t,"CaptionScreen",(function(){return b}));var r,i=n("./src/utils/logger.ts"),o={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},a=function(e){var t=e;return o.hasOwnProperty(e)&&(t=o[e]),String.fromCharCode(t)},s=15,u=100,l={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},c={17:2,18:4,21:6,22:8,23:10,19:13,20:15},f={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},d={25:2,26:4,29:6,30:8,31:10,27:13,28:15},h=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];!function(e){e[e.ERROR=0]="ERROR",e[e.TEXT=1]="TEXT",e[e.WARNING=2]="WARNING",e[e.INFO=2]="INFO",e[e.DEBUG=3]="DEBUG",e[e.DATA=3]="DATA"}(r||(r={}));var p=function(){function e(){this.time=null,this.verboseLevel=r.ERROR}return e.prototype.log=function(e,t){this.verboseLevel>=e&&i.logger.log(this.time+" ["+e+"] "+t)},e}(),v=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n].toString(16));return t},g=function(){function e(e,t,n,r,i){this.foreground=void 0,this.underline=void 0,this.italics=void 0,this.background=void 0,this.flash=void 0,this.foreground=e||"white",this.underline=t||!1,this.italics=n||!1,this.background=r||"black",this.flash=i||!1}var t=e.prototype;return t.reset=function(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1},t.setStyles=function(e){for(var t=["foreground","underline","italics","background","flash"],n=0;n<t.length;n++){var r=t[n];e.hasOwnProperty(r)&&(this[r]=e[r])}},t.isDefault=function(){return"white"===this.foreground&&!this.underline&&!this.italics&&"black"===this.background&&!this.flash},t.equals=function(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash},t.copy=function(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash},t.toString=function(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash},e}(),m=function(){function e(e,t,n,r,i,o){this.uchar=void 0,this.penState=void 0,this.uchar=e||" ",this.penState=new g(t,n,r,i,o)}var t=e.prototype;return t.reset=function(){this.uchar=" ",this.penState.reset()},t.setChar=function(e,t){this.uchar=e,this.penState.copy(t)},t.setPenState=function(e){this.penState.copy(e)},t.equals=function(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)},t.copy=function(e){this.uchar=e.uchar,this.penState.copy(e.penState)},t.isEmpty=function(){return" "===this.uchar&&this.penState.isDefault()},e}(),y=function(){function e(e){this.chars=void 0,this.pos=void 0,this.currPenState=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chars=[];for(var t=0;t<u;t++)this.chars.push(new m);this.logger=e,this.pos=0,this.currPenState=new g}var t=e.prototype;return t.equals=function(e){for(var t=!0,n=0;n<u;n++)if(!this.chars[n].equals(e.chars[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<u;t++)this.chars[t].copy(e.chars[t])},t.isEmpty=function(){for(var e=!0,t=0;t<u;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e},t.setCursor=function(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(r.DEBUG,"Negative cursor position "+this.pos),this.pos=0):this.pos>u&&(this.logger.log(r.DEBUG,"Too large cursor position "+this.pos),this.pos=u)},t.moveCursor=function(e){var t=this.pos+e;if(e>1)for(var n=this.pos+1;n<t+1;n++)this.chars[n].setPenState(this.currPenState);this.setCursor(t)},t.backSpace=function(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)},t.insertChar=function(e){e>=144&&this.backSpace();var t=a(e);this.pos>=u?this.logger.log(r.ERROR,"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!"):(this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1))},t.clearFromPos=function(e){var t;for(t=e;t<u;t++)this.chars[t].reset()},t.clear=function(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()},t.clearToEndOfRow=function(){this.clearFromPos(this.pos)},t.getTextString=function(){for(var e=[],t=!0,n=0;n<u;n++){var r=this.chars[n].uchar;" "!==r&&(t=!1),e.push(r)}return t?"":e.join("")},t.setPenStyles=function(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)},e}(),b=function(){function e(e){this.rows=void 0,this.currRow=void 0,this.nrRollUpRows=void 0,this.lastOutputScreen=void 0,this.logger=void 0,this.rows=[];for(var t=0;t<s;t++)this.rows.push(new y(e));this.logger=e,this.currRow=14,this.nrRollUpRows=null,this.lastOutputScreen=null,this.reset()}var t=e.prototype;return t.reset=function(){for(var e=0;e<s;e++)this.rows[e].clear();this.currRow=14},t.equals=function(e){for(var t=!0,n=0;n<s;n++)if(!this.rows[n].equals(e.rows[n])){t=!1;break}return t},t.copy=function(e){for(var t=0;t<s;t++)this.rows[t].copy(e.rows[t])},t.isEmpty=function(){for(var e=!0,t=0;t<s;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e},t.backSpace=function(){this.rows[this.currRow].backSpace()},t.clearToEndOfRow=function(){this.rows[this.currRow].clearToEndOfRow()},t.insertChar=function(e){this.rows[this.currRow].insertChar(e)},t.setPen=function(e){this.rows[this.currRow].setPenStyles(e)},t.moveCursor=function(e){this.rows[this.currRow].moveCursor(e)},t.setCursor=function(e){this.logger.log(r.INFO,"setCursor: "+e),this.rows[this.currRow].setCursor(e)},t.setPAC=function(e){this.logger.log(r.INFO,"pacData = "+JSON.stringify(e));var t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(var n=0;n<s;n++)this.rows[n].clear();var i=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){var a=o.rows[i].cueStartTime,u=this.logger.time;if(a&&null!==u&&a<u)for(var l=0;l<this.nrRollUpRows;l++)this.rows[t-this.nrRollUpRows+l+1].copy(o.rows[i+l])}}this.currRow=t;var c=this.rows[this.currRow];if(null!==e.indent){var f=e.indent,d=Math.max(f-1,0);c.setCursor(e.indent),e.color=c.chars[d].penState.foreground}var h={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(h)},t.setBkgData=function(e){this.logger.log(r.INFO,"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)},t.setRollUpRows=function(e){this.nrRollUpRows=e},t.rollUp=function(){if(null!==this.nrRollUpRows){this.logger.log(r.TEXT,this.getDisplayText());var e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(r.INFO,"Rolling up")}else this.logger.log(r.DEBUG,"roll_up but nrRollUpRows not set yet")},t.getDisplayText=function(e){e=e||!1;for(var t=[],n="",r=-1,i=0;i<s;i++){var o=this.rows[i].getTextString();o&&(r=i+1,e?t.push("Row "+r+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(n=e?"["+t.join(" | ")+"]":t.join("\n")),n},t.getTextAndFormat=function(){return this.rows},e}(),w=function(){function e(e,t,n){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new b(n),this.nonDisplayedMemory=new b(n),this.lastOutputScreen=new b(n),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=n}var t=e.prototype;return t.reset=function(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[14],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null},t.getHandler=function(){return this.outputFilter},t.setHandler=function(e){this.outputFilter=e},t.setPAC=function(e){this.writeScreen.setPAC(e)},t.setBkgData=function(e){this.writeScreen.setBkgData(e)},t.setMode=function(e){e!==this.mode&&(this.mode=e,this.logger.log(r.INFO,"MODE="+e),"MODE_POP-ON"===this.mode?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),"MODE_ROLL-UP"!==this.mode&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)},t.insertChars=function(e){for(var t=0;t<e.length;t++)this.writeScreen.insertChar(e[t]);var n=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(r.INFO,n+": "+this.writeScreen.getDisplayText(!0)),"MODE_PAINT-ON"!==this.mode&&"MODE_ROLL-UP"!==this.mode||(this.logger.log(r.TEXT,"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())},t.ccRCL=function(){this.logger.log(r.INFO,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")},t.ccBS=function(){this.logger.log(r.INFO,"BS - BackSpace"),"MODE_TEXT"!==this.mode&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())},t.ccAOF=function(){},t.ccAON=function(){},t.ccDER=function(){this.logger.log(r.INFO,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()},t.ccRU=function(e){this.logger.log(r.INFO,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)},t.ccFON=function(){this.logger.log(r.INFO,"FON - Flash On"),this.writeScreen.setPen({flash:!0})},t.ccRDC=function(){this.logger.log(r.INFO,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")},t.ccTR=function(){this.logger.log(r.INFO,"TR"),this.setMode("MODE_TEXT")},t.ccRTD=function(){this.logger.log(r.INFO,"RTD"),this.setMode("MODE_TEXT")},t.ccEDM=function(){this.logger.log(r.INFO,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)},t.ccCR=function(){this.logger.log(r.INFO,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)},t.ccENM=function(){this.logger.log(r.INFO,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()},t.ccEOC=function(){if(this.logger.log(r.INFO,"EOC - End Of Caption"),"MODE_POP-ON"===this.mode){var e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(r.TEXT,"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)},t.ccTO=function(e){this.logger.log(r.INFO,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)},t.ccMIDROW=function(e){var t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{var n=Math.floor(e/2)-16;t.foreground=["white","green","blue","cyan","red","yellow","magenta"][n]}this.logger.log(r.INFO,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)},t.outputDataUpdate=function(e){void 0===e&&(e=!1);var t=this.logger.time;null!==t&&this.outputFilter&&(null!==this.cueStartTime||this.displayedMemory.isEmpty()?this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t):this.cueStartTime=t,this.lastOutputScreen.copy(this.displayedMemory))},t.cueSplitAtTime=function(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))},e}(),E=function(){function e(e,t,n){this.channels=void 0,this.currentChannel=0,this.cmdHistory=void 0,this.logger=void 0;var r=new p;this.channels=[null,new w(e,t,r),new w(e+1,n,r)],this.cmdHistory={a:null,b:null},this.logger=r}var t=e.prototype;return t.getHandler=function(e){return this.channels[e].getHandler()},t.setHandler=function(e,t){this.channels[e].setHandler(t)},t.addData=function(e,t){var n,i,o,a=!1;this.logger.time=e;for(var s=0;s<t.length;s+=2)if(i=127&t[s],o=127&t[s+1],0!==i||0!==o){if(this.logger.log(r.DATA,"["+v([t[s],t[s+1]])+"] -> ("+v([i,o])+")"),(n=this.parseCmd(i,o))||(n=this.parseMidrow(i,o)),n||(n=this.parsePAC(i,o)),n||(n=this.parseBackgroundAttributes(i,o)),!n&&(a=this.parseChars(i,o))){var u=this.currentChannel;u&&u>0?this.channels[u].insertChars(a):this.logger.log(r.WARNING,"No channel found yet. TEXT-MODE?")}n||a||this.logger.log(r.WARNING,"Couldn't parse cleaned data "+v([i,o])+" orig: "+v([t[s],t[s+1]]))}},t.parseCmd=function(e,t){var n=this.cmdHistory;if(!((20===e||28===e||21===e||29===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=33&&t<=35))return!1;if(x(e,t,n))return S(null,null,n),this.logger.log(r.DEBUG,"Repeated command ("+v([e,t])+") is dropped"),!0;var i=20===e||21===e||23===e?1:2,o=this.channels[i];return 20===e||21===e||28===e||29===e?32===t?o.ccRCL():33===t?o.ccBS():34===t?o.ccAOF():35===t?o.ccAON():36===t?o.ccDER():37===t?o.ccRU(2):38===t?o.ccRU(3):39===t?o.ccRU(4):40===t?o.ccFON():41===t?o.ccRDC():42===t?o.ccTR():43===t?o.ccRTD():44===t?o.ccEDM():45===t?o.ccCR():46===t?o.ccENM():47===t&&o.ccEOC():o.ccTO(t-32),S(e,t,n),this.currentChannel=i,!0},t.parseMidrow=function(e,t){var n=0;if((17===e||25===e)&&t>=32&&t<=47){if((n=17===e?1:2)!==this.currentChannel)return this.logger.log(r.ERROR,"Mismatch channel in midrow parsing"),!1;var i=this.channels[n];return!!i&&(i.ccMIDROW(t),this.logger.log(r.DEBUG,"MIDROW ("+v([e,t])+")"),!0)}return!1},t.parsePAC=function(e,t){var n,r=this.cmdHistory;if(!((e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127)&&!((16===e||24===e)&&t>=64&&t<=95))return!1;if(x(e,t,r))return S(null,null,r),!0;var i=e<=23?1:2;n=t>=64&&t<=95?1===i?l[e]:f[e]:1===i?c[e]:d[e];var o=this.channels[i];return!!o&&(o.setPAC(this.interpretPAC(n,t)),S(e,t,r),this.currentChannel=i,!0)},t.interpretPAC=function(e,t){var n,r={color:null,italics:!1,indent:null,underline:!1,row:e};return n=t>95?t-96:t-64,r.underline=1===(1&n),n<=13?r.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(n/2)]:n<=15?(r.italics=!0,r.color="white"):r.indent=4*Math.floor((n-16)/2),r},t.parseChars=function(e,t){var n,i,o=null,s=null;if(e>=25?(n=2,s=e-8):(n=1,s=e),s>=17&&s<=19?(i=17===s?t+80:18===s?t+112:t+144,this.logger.log(r.INFO,"Special char '"+a(i)+"' in channel "+n),o=[i]):e>=32&&e<=127&&(o=0===t?[e]:[e,t]),o){var u=v(o);this.logger.log(r.DEBUG,"Char codes =  "+u.join(",")),S(e,t,this.cmdHistory)}return o},t.parseBackgroundAttributes=function(e,t){var n;if(!((16===e||24===e)&&t>=32&&t<=47)&&!((23===e||31===e)&&t>=45&&t<=47))return!1;var r={};16===e||24===e?(n=Math.floor((t-32)/2),r.background=h[n],t%2===1&&(r.background=r.background+"_semi")):45===t?r.background="transparent":(r.foreground="black",47===t&&(r.underline=!0));var i=e<=23?1:2;return this.channels[i].setBkgData(r),S(e,t,this.cmdHistory),!0},t.reset=function(){for(var e=0;e<Object.keys(this.channels).length;e++){var t=this.channels[e];t&&t.reset()}this.cmdHistory={a:null,b:null}},t.cueSplitAtTime=function(e){for(var t=0;t<this.channels.length;t++){var n=this.channels[t];n&&n.cueSplitAtTime(e)}},e}();function S(e,t,n){n.a=e,n.b=t}function x(e,t,n){return n.a===e&&n.b===t}t.default=E},"./src/utils/codecs.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isCodecType",(function(){return i})),n.d(t,"isCodecSupportedInMp4",(function(){return o}));var r={audio:{a3ds:!0,"ac-3":!0,"ac-4":!0,alac:!0,alaw:!0,dra1:!0,"dts+":!0,"dts-":!0,dtsc:!0,dtse:!0,dtsh:!0,"ec-3":!0,enca:!0,g719:!0,g726:!0,m4ae:!0,mha1:!0,mha2:!0,mhm1:!0,mhm2:!0,mlpa:!0,mp4a:!0,"raw ":!0,Opus:!0,samr:!0,sawb:!0,sawp:!0,sevc:!0,sqcp:!0,ssmv:!0,twos:!0,ulaw:!0},video:{avc1:!0,avc2:!0,avc3:!0,avc4:!0,avcp:!0,av01:!0,drac:!0,dvav:!0,dvhe:!0,encv:!0,hev1:!0,hvc1:!0,mjp2:!0,mp4v:!0,mvc1:!0,mvc2:!0,mvc3:!0,mvc4:!0,resv:!0,rv60:!0,s263:!0,svc1:!0,svc2:!0,"vc-1":!0,vp08:!0,vp09:!0},text:{stpp:!0,wvtt:!0}};function i(e,t){var n=r[t];return!!n&&!0===n[e.slice(0,4)]}function o(e,t){return MediaSource.isTypeSupported((t||"video")+'/mp4;codecs="'+e+'"')}},"./src/utils/cues.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/vttparser.ts"),i=n("./src/utils/webvtt-parser.ts"),o=n("./src/utils/texttrack-utils.ts"),a=/\s/,s={newCue:function(e,t,n,s){for(var u,l,c,f,d,h=[],p=self.VTTCue||self.TextTrackCue,v=0;v<s.rows.length;v++)if(c=!0,f=0,d="",!(u=s.rows[v]).isEmpty()){for(var g=0;g<u.chars.length;g++)a.test(u.chars[g].uchar)&&c?f++:(d+=u.chars[g].uchar,c=!1);u.cueStartTime=t,t===n&&(n+=1e-4),f>=16?f--:f++;var m=Object(r.fixLineBreaks)(d.trim()),y=Object(i.generateCueId)(t,n,m);e&&e.cues&&e.cues.getCueById(y)||((l=new p(t,n,m)).id=y,l.line=v+1,l.align="left",l.position=10+Math.min(80,10*Math.floor(8*f/32)),h.push(l))}return e&&h.length&&(h.sort((function(e,t){return"auto"===e.line||"auto"===t.line?0:e.line>8&&t.line>8?t.line-e.line:e.line-t.line})),h.forEach((function(t){return Object(o.addCueToTrack)(e,t)}))),h}};t.default=s},"./src/utils/discontinuities.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"findFirstFragWithCC",(function(){return a})),n.d(t,"shouldAlignOnDiscontinuities",(function(){return s})),n.d(t,"findDiscontinuousReferenceFrag",(function(){return u})),n.d(t,"adjustSlidingStart",(function(){return c})),n.d(t,"alignStream",(function(){return f})),n.d(t,"alignPDT",(function(){return d})),n.d(t,"alignFragmentByPDTDelta",(function(){return h})),n.d(t,"alignMediaPlaylistByPDT",(function(){return p}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/logger.ts"),o=n("./src/controller/level-helper.ts");function a(e,t){for(var n=null,r=0,i=e.length;r<i;r++){var o=e[r];if(o&&o.cc===t){n=o;break}}return n}function s(e,t,n){return!(!t.details||!(n.endCC>n.startCC||e&&e.cc<n.startCC))}function u(e,t){var n=e.fragments,r=t.fragments;if(r.length&&n.length){var o=a(n,r[0].cc);if(o&&(!o||o.startPTS))return o;i.logger.log("No frag in previous level to align on")}else i.logger.log("No fragments to align")}function l(e,t){if(e){var n=e.start+t;e.start=e.startPTS=n,e.endPTS=n+e.duration}}function c(e,t){for(var n=t.fragments,r=0,i=n.length;r<i;r++)l(n[r],e);t.fragmentHint&&l(t.fragmentHint,e),t.alignedSliding=!0}function f(e,t,n){t&&(function(e,t,n){if(s(e,n,t)){var o=u(n.details,t);o&&Object(r.isFiniteNumber)(o.start)&&(i.logger.log("Adjusting PTS using last level due to CC increase within current level "+t.url),c(o.start,t))}}(e,n,t),!n.alignedSliding&&t.details&&d(n,t.details),n.alignedSliding||!t.details||n.skippedSegments||Object(o.adjustSliding)(t.details,n))}function d(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime,o=e.fragments[0].programDateTime,a=(o-n)/1e3+t.fragments[0].start;a&&Object(r.isFiniteNumber)(a)&&(i.logger.log("Adjusting PTS using programDateTime delta "+(o-n)+"ms, sliding:"+a.toFixed(3)+" "+e.url+" "),c(a,e))}}function h(e,t){var n=e.programDateTime;if(n){var r=(n-t)/1e3;e.start=e.startPTS=r,e.endPTS=r+e.duration}}function p(e,t){if(t.fragments.length&&e.hasProgramDateTime&&t.hasProgramDateTime){var n=t.fragments[0].programDateTime-1e3*t.fragments[0].start;e.fragments.forEach((function(e){h(e,n)})),e.fragmentHint&&h(e.fragmentHint,n),e.alignedSliding=!0}}},"./src/utils/ewma-bandwidth-estimator.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/ewma.ts"),i=function(){function e(e,t,n){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultEstimate_=n,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new r.default(e),this.fast_=new r.default(t)}var t=e.prototype;return t.update=function(e,t){var n=this.slow_,i=this.fast_;this.slow_.halfLife!==e&&(this.slow_=new r.default(e,n.getEstimate(),n.getTotalWeight())),this.fast_.halfLife!==t&&(this.fast_=new r.default(t,i.getEstimate(),i.getTotalWeight()))},t.sample=function(e,t){var n=(e=Math.max(e,this.minDelayMs_))/1e3,r=8*t/n;this.fast_.sample(n,r),this.slow_.sample(n,r)},t.canEstimate=function(){var e=this.fast_;return e&&e.getTotalWeight()>=this.minWeight_},t.getEstimate=function(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_},t.destroy=function(){},e}();t.default=i},"./src/utils/ewma.ts":function(e,t,n){"use strict";n.r(t);var r=function(){function e(e,t,n){void 0===t&&(t=0),void 0===n&&(n=0),this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=n}var t=e.prototype;return t.sample=function(e,t){var n=Math.pow(this.alpha_,e);this.estimate_=t*(1-n)+n*this.estimate_,this.totalWeight_+=e},t.getTotalWeight=function(){return this.totalWeight_},t.getEstimate=function(){if(this.alpha_){var e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_},e}();t.default=r},"./src/utils/fetch-loader.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"fetchSupported",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/loader/load-stats.ts"),o=n("./src/demux/chunk-cache.ts");function a(e){var t="function"===typeof Map?new Map:void 0;return a=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return s(e,arguments,c(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),l(r,e)},a(e)}function s(e,t,n){return s=u()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},s.apply(null,arguments)}function u(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}function f(){return f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f.apply(this,arguments)}function d(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch(e){}return!1}var h=function(){function e(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=void 0,this.response=void 0,this.controller=void 0,this.context=void 0,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||p,this.controller=new self.AbortController,this.stats=new i.LoadStats}var t=e.prototype;return t.destroy=function(){this.loader=this.callbacks=null,this.abortInternal()},t.abortInternal=function(){var e=this.response;e&&e.ok||(this.stats.aborted=!0,this.controller.abort())},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)},t.load=function(e,t,n){var i=this,o=this.stats;if(o.loading.start)throw new Error("Loader can only be used once.");o.loading.start=self.performance.now();var a=function(e,t){var n={method:"GET",mode:"cors",credentials:"same-origin",signal:t,headers:new self.Headers(f({},e.headers))};return e.rangeEnd&&n.headers.set("Range","bytes="+e.rangeStart+"-"+String(e.rangeEnd-1)),n}(e,this.controller.signal),s=n.onProgress,u="arraybuffer"===e.responseType,l=u?"byteLength":"length";this.context=e,this.config=t,this.callbacks=n,this.request=this.fetchSetup(e,a),self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout((function(){i.abortInternal(),n.onTimeout(o,e,i.response)}),t.timeout),self.fetch(this.request).then((function(n){if(i.response=i.loader=n,!n.ok){var a=n.status,l=n.statusText;throw new v(l||"fetch, bad network response",a,n)}return o.loading.first=Math.max(self.performance.now(),o.loading.start),o.total=parseInt(n.headers.get("Content-Length")||"0"),s&&Object(r.isFiniteNumber)(t.highWaterMark)?i.loadProgressively(n,o,e,t.highWaterMark,s):u?n.arrayBuffer():n.text()})).then((function(a){var u=i.response;self.clearTimeout(i.requestTimeout),o.loading.end=Math.max(self.performance.now(),o.loading.first),o.loaded=o.total=a[l];var c={url:u.url,data:a};s&&!Object(r.isFiniteNumber)(t.highWaterMark)&&s(o,e,a,u),n.onSuccess(c,o,e,u)})).catch((function(t){if(self.clearTimeout(i.requestTimeout),!o.aborted){var r=t&&t.code||0,a=t?t.message:null;n.onError({code:r,text:a},e,t?t.details:null)}}))},t.getCacheAge=function(){var e=null;if(this.response){var t=this.response.headers.get("age");e=t?parseFloat(t):null}return e},t.loadProgressively=function(e,t,n,r,i){void 0===r&&(r=0);var a=new o.default,s=e.body.getReader();return function o(){return s.read().then((function(s){if(s.done)return a.dataLength&&i(t,n,a.flush(),e),Promise.resolve(new ArrayBuffer(0));var u=s.value,l=u.length;return t.loaded+=l,l<r||a.dataLength?(a.push(u),a.dataLength>=r&&i(t,n,a.flush(),e)):i(t,n,u,e),o()})).catch((function(){return Promise.reject()}))}()},e}();function p(e,t){return new self.Request(e.url,t)}var v=function(e){var t,n;function r(t,n,r){var i;return(i=e.call(this,t)||this).code=void 0,i.details=void 0,i.code=n,i.details=r,i}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,l(t,n),r}(a(Error));t.default=h},"./src/utils/imsc1-ttml-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"IMSC1_CODEC",(function(){return c})),n.d(t,"parseIMSC1",(function(){return p}));var r=n("./src/utils/mp4-tools.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/utils/vttcue.ts"),a=n("./src/demux/id3.ts"),s=n("./src/utils/timescale-conversion.ts"),u=n("./src/utils/webvtt-parser.ts");function l(){return l=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}var c="stpp.ttml.im1t",f=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,d=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,h={left:"start",center:"center",right:"end",start:"start",end:"end"};function p(e,t,n,i,c){var f=Object(r.findBox)(new Uint8Array(e),["mdat"]);if(0!==f.length){var d=f.map((function(e){return Object(a.utf8ArrayToStr)(e)})),p=Object(s.toTimescaleFromScale)(t,1,n);try{d.forEach((function(e){return i(function(e,t){var n=(new DOMParser).parseFromString(e,"text/xml").getElementsByTagName("tt")[0];if(!n)throw new Error("Invalid ttml");var r={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},i=Object.keys(r).reduce((function(e,t){return e[t]=n.getAttribute("ttp:"+t)||r[t],e}),{}),a="preserve"!==n.getAttribute("xml:space"),s=g(v(n,"styling","style")),c=g(v(n,"layout","region")),f=v(n,"body","[begin]");return[].map.call(f,(function(e){var n=m(e,a);if(!n||!e.hasAttribute("begin"))return null;var r=w(e.getAttribute("begin"),i),f=w(e.getAttribute("dur"),i),d=w(e.getAttribute("end"),i);if(null===r)throw b(e);if(null===d){if(null===f)throw b(e);d=r+f}var p=new o.default(r-t,d-t,n);p.id=Object(u.generateCueId)(p.startTime,p.endTime,p.text);var v=c[e.getAttribute("region")],g=s[e.getAttribute("style")];p.position=10,p.size=80;var E=function(e,t,n){var r="http://www.w3.org/ns/ttml#styling",i=null,o=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],a=null!==e&&void 0!==e&&e.hasAttribute("style")?e.getAttribute("style"):null;return a&&n.hasOwnProperty(a)&&(i=n[a]),o.reduce((function(n,o){var a=y(t,r,o)||y(e,r,o)||y(i,r,o);return a&&(n[o]=a),n}),{})}(v,g,s),S=E.textAlign;if(S){var x=h[S];x&&(p.lineAlign=x),p.align=S}return l(p,E),p})).filter((function(e){return null!==e}))}(e,p))}))}catch(E){c(E)}}else c(new Error("Could not parse IMSC1 mdat"))}function v(e,t,n){var r=e.getElementsByTagName(t)[0];return r?[].slice.call(r.querySelectorAll(n)):[]}function g(e){return e.reduce((function(e,t){var n=t.getAttribute("xml:id");return n&&(e[n]=t),e}),{})}function m(e,t){return[].slice.call(e.childNodes).reduce((function(e,n,r){var i;return"br"===n.nodeName&&r?e+"\n":null!==(i=n.childNodes)&&void 0!==i&&i.length?m(n,t):t?e+n.textContent.trim().replace(/\s+/g," "):e+n.textContent}),"")}function y(e,t,n){return e&&e.hasAttributeNS(t,n)?e.getAttributeNS(t,n):null}function b(e){return new Error("Could not parse ttml timestamp "+e)}function w(e,t){if(!e)return null;var n=Object(i.parseTimeStamp)(e);return null===n&&(f.test(e)?n=function(e,t){var n=f.exec(e),r=(0|n[4])+(0|n[5])/t.subFrameRate;return 3600*(0|n[1])+60*(0|n[2])+(0|n[3])+r/t.frameRate}(e,t):d.test(e)&&(n=function(e,t){var n=d.exec(e),r=Number(n[1]);switch(n[2]){case"h":return 3600*r;case"m":return 60*r;case"ms":return 1e3*r;case"f":return r/t.frameRate;case"t":return r/t.tickRate}return r}(e,t))),n}},"./src/utils/logger.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"enableLogs",(function(){return s})),n.d(t,"logger",(function(){return u}));var r=function(){},i={trace:r,debug:r,log:r,warn:r,info:r,error:r},o=i;function a(e){var t=self.console[e];return t?t.bind(self.console,"["+e+"] >"):r}function s(e){if(self.console&&!0===e||"object"===typeof e){!function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];n.forEach((function(t){o[t]=e[t]?e[t].bind(e):a(t)}))}(e,"debug","log","info","warn","error");try{o.log()}catch(t){o=i}}else o=i}var u=i},"./src/utils/mediakeys-helper.ts":function(e,t,n){"use strict";var r;n.r(t),n.d(t,"KeySystems",(function(){return r})),n.d(t,"requestMediaKeySystemAccess",(function(){return i})),function(e){e.WIDEVINE="com.widevine.alpha",e.PLAYREADY="com.microsoft.playready"}(r||(r={}));var i="undefined"!==typeof self&&self.navigator&&self.navigator.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null},"./src/utils/mediasource-helper.ts":function(e,t,n){"use strict";function r(){return self.MediaSource||self.WebKitMediaSource}n.r(t),n.d(t,"getMediaSource",(function(){return r}))},"./src/utils/mp4-tools.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"RemuxerTrackIdConfig",(function(){return u})),n.d(t,"bin2str",(function(){return l})),n.d(t,"readUint16",(function(){return c})),n.d(t,"readUint32",(function(){return f})),n.d(t,"readSint32",(function(){return d})),n.d(t,"writeUint32",(function(){return h})),n.d(t,"findBox",(function(){return p})),n.d(t,"parseSegmentIndex",(function(){return v})),n.d(t,"parseInitSegment",(function(){return g})),n.d(t,"getStartDTS",(function(){return m})),n.d(t,"getDuration",(function(){return y})),n.d(t,"computeRawDurationFromSamples",(function(){return b})),n.d(t,"offsetStartDTS",(function(){return w})),n.d(t,"segmentValidRange",(function(){return E})),n.d(t,"appendUint8Array",(function(){return S})),n.d(t,"parseSamples",(function(){return x})),n.d(t,"parseSEIMessageFromNALu",(function(){return _})),n.d(t,"parseEmsg",(function(){return k}));var r=n("./src/utils/typed-array.ts"),i=n("./src/loader/fragment.ts"),o=n("./src/demux/id3.ts"),a=Math.pow(2,32)-1,s=[].push,u={video:1,audio:2,id3:3,text:4};function l(e){return String.fromCharCode.apply(null,e)}function c(e,t){var n=e[t]<<8|e[t+1];return n<0?65536+n:n}function f(e,t){var n=d(e,t);return n<0?4294967296+n:n}function d(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]}function h(e,t,n){e[t]=n>>24,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function p(e,t){var n=[];if(!t.length)return n;for(var r=e.byteLength,i=0;i<r;){var o=f(e,i),a=o>1?i+o:r;if(l(e.subarray(i+4,i+8))===t[0])if(1===t.length)n.push(e.subarray(i+8,a));else{var u=p(e.subarray(i+8,a),t.slice(1));u.length&&s.apply(n,u)}i=a}return n}function v(e){var t=p(e,["moov"])[0],n=t?t.length:null,r=p(e,["sidx"]);if(!r||!r[0])return null;var i=[],o=r[0],a=o[0],s=8,u=f(o,s);s+=4,s+=0===a?8:16,s+=2;var l=o.length+0,d=c(o,s);s+=2;for(var h=0;h<d;h++){var v=s,g=f(o,v);v+=4;var m=2147483647&g;if(1===(2147483648&g)>>>31)return console.warn("SIDX has hierarchical references (not supported)"),null;var y=f(o,v);v+=4,i.push({referenceSize:m,subsegmentDuration:y,info:{duration:y/u,start:l,end:l+m-1}}),l+=m,s=v+=4}return{earliestPresentationTime:0,timescale:u,version:a,referencesCount:d,references:i,moovEndOffset:n}}function g(e){for(var t=[],n=p(e,["moov","trak"]),r=0;r<n.length;r++){var o=n[r],a=p(o,["tkhd"])[0];if(a){var s=a[0],u=0===s?12:20,c=f(a,u),d=p(o,["mdia","mdhd"])[0];if(d){var h=f(d,u=0===(s=d[0])?12:20),v=p(o,["mdia","hdlr"])[0];if(v){var g=l(v.subarray(8,12)),m={soun:i.ElementaryStreamTypes.AUDIO,vide:i.ElementaryStreamTypes.VIDEO}[g];if(m){var y=p(o,["mdia","minf","stbl","stsd"])[0],b=void 0;y&&(b=l(y.subarray(12,16))),t[c]={timescale:h,type:m},t[m]={timescale:h,id:c,codec:b}}}}}}return p(e,["moov","mvex","trex"]).forEach((function(e){var n=f(e,4),r=t[n];r&&(r.default={duration:f(e,12),flags:f(e,20)})})),t}function m(e,t){return p(t,["moof","traf"]).reduce((function(t,n){var r=p(n,["tfdt"])[0],i=r[0],o=p(n,["tfhd"]).reduce((function(t,n){var o=f(n,4),a=e[o];if(a){var s=f(r,4);1===i&&(s*=Math.pow(2,32),s+=f(r,8));var u=s/(a.timescale||9e4);if(isFinite(u)&&(null===t||u<t))return u}return t}),null);return null!==o&&isFinite(o)&&(null===t||o<t)?o:t}),null)||0}function y(e,t){for(var n=0,r=0,o=0,a=p(e,["moof","traf"]),s=0;s<a.length;s++){var u=a[s],l=p(u,["tfhd"])[0],c=t[f(l,4)];if(c){var d=c.default,h=f(l,0)|(null===d||void 0===d?void 0:d.flags),g=null===d||void 0===d?void 0:d.duration;8&h&&(g=f(l,2&h?12:8));for(var m=c.timescale||9e4,y=p(u,["trun"]),w=0;w<y.length;w++)!(n=b(y[w]))&&g&&(n=g*f(y[w],4)),c.type===i.ElementaryStreamTypes.VIDEO?r+=n/m:c.type===i.ElementaryStreamTypes.AUDIO&&(o+=n/m)}}if(0===r&&0===o){var E=v(e);if(null!==E&&void 0!==E&&E.references)return E.references.reduce((function(e,t){return e+t.info.duration||0}),0)}return r||o}function b(e){var t=f(e,0),n=8;1&t&&(n+=4),4&t&&(n+=4);for(var r=0,i=f(e,4),o=0;o<i;o++)256&t&&(r+=f(e,n),n+=4),512&t&&(n+=4),1024&t&&(n+=4),2048&t&&(n+=4);return r}function w(e,t,n){p(t,["moof","traf"]).forEach((function(t){p(t,["tfhd"]).forEach((function(r){var i=f(r,4),o=e[i];if(o){var s=o.timescale||9e4;p(t,["tfdt"]).forEach((function(e){var t=e[0],r=f(e,4);if(0===t)r-=n*s,h(e,4,r=Math.max(r,0));else{r*=Math.pow(2,32),r+=f(e,8),r-=n*s,r=Math.max(r,0);var i=Math.floor(r/(a+1)),o=Math.floor(r%(a+1));h(e,4,i),h(e,8,o)}}))}}))}))}function E(e){var t={valid:null,remainder:null},n=p(e,["moof"]);if(!n)return t;if(n.length<2)return t.remainder=e,t;var i=n[n.length-1];return t.valid=Object(r.sliceUint8)(e,0,i.byteOffset-8),t.remainder=Object(r.sliceUint8)(e,i.byteOffset-8),t}function S(e,t){var n=new Uint8Array(e.length+t.length);return n.set(e),n.set(t,e.length),n}function x(e,t){var n=[],r=t.samples,o=t.timescale,a=t.id,s=!1;return p(r,["moof"]).map((function(u){var l=u.byteOffset-8;p(u,["traf"]).map((function(u){var c=p(u,["tfdt"]).map((function(e){var t=e[0],n=f(e,4);return 1===t&&(n*=Math.pow(2,32),n+=f(e,8)),n/o}))[0];return void 0!==c&&(e=c),p(u,["tfhd"]).map((function(c){var h=f(c,4),v=16777215&f(c,0),g=0,m=0!==(16&v),y=0,b=0!==(32&v),w=8;h===a&&(0!==(1&v)&&(w+=8),0!==(2&v)&&(w+=4),0!==(8&v)&&(g=f(c,w),w+=4),m&&(y=f(c,w),w+=4),b&&(w+=4),"video"===t.type&&(s=function(e){if(!e)return!1;var t=e.indexOf("."),n=t<0?e:e.substring(0,t);return"hvc1"===n||"hev1"===n||"dvh1"===n||"dvhe"===n}(t.codec)),p(u,["trun"]).map((function(a){var u=a[0],c=16777215&f(a,0),h=0!==(1&c),p=0,v=0!==(4&c),m=0!==(256&c),b=0,w=0!==(512&c),E=0,S=0!==(1024&c),x=0!==(2048&c),k=0,A=f(a,4),C=8;h&&(p=f(a,C),C+=4),v&&(C+=4);for(var O=p+l,I=0;I<A;I++){if(m?(b=f(a,C),C+=4):b=g,w?(E=f(a,C),C+=4):E=y,S&&(C+=4),x&&(k=0===u?f(a,C):d(a,C),C+=4),t.type===i.ElementaryStreamTypes.VIDEO)for(var R=0;R<E;){var L=f(r,O),D=31&r[O+=4];T(s,D)&&_(r.subarray(O,O+L),e+k/o,n),O+=L,R+=L+4}e+=b/o}})))}))}))})),n}function T(e,t){return e?39===t||40===t:6===t}function _(e,t,n){var r=function(e){for(var t=e.byteLength,n=[],r=1;r<t-2;)0===e[r]&&0===e[r+1]&&3===e[r+2]?(n.push(r+2),r+=2):r++;if(0===n.length)return e;var i=t-n.length,o=new Uint8Array(i),a=0;for(r=0;r<i;a++,r++)a===n[0]&&(a++,n.shift()),o[r]=e[a];return o}(e),i=0;i++;for(var a=0,s=0,u=!1,l=0;i<r.length;){a=0;do{if(i>=r.length)break;a+=l=r[i++]}while(255===l);s=0;do{if(i>=r.length)break;s+=l=r[i++]}while(255===l);var d=r.length-i;if(!u&&4===a&&i<r.length){if(u=!0,181===r[i++]){var h=c(r,i);if(i+=2,49===h){var p=f(r,i);if(i+=4,1195456820===p){var v=r[i++];if(3===v){var g=r[i++],m=64&g,y=m?2+3*(31&g):0,b=new Uint8Array(y);if(m){b[0]=g;for(var w=1;w<y;w++)b[w]=r[i++]}n.push({type:v,payloadType:a,pts:t,bytes:b})}}}}}else if(5===a&&s<d){if(u=!0,s>16){for(var E=[],S=0;S<16;S++){var x=r[i++].toString(16);E.push(1==x.length?"0"+x:x),3!==S&&5!==S&&7!==S&&9!==S||E.push("-")}for(var T=s-16,_=new Uint8Array(T),k=0;k<T;k++)_[k]=r[i++];n.push({payloadType:a,pts:t,uuid:E.join(""),userData:Object(o.utf8ArrayToStr)(_),userDataBytes:_})}}else if(s<d)i+=s;else if(s>d)break}}function k(e){var t=e[0],n="",r="",i=0,o=0,a=0,s=0,u=0,c=0;if(0===t){for(;"\0"!==l(e.subarray(c,c+1));)n+=l(e.subarray(c,c+1)),c+=1;for(n+=l(e.subarray(c,c+1)),c+=1;"\0"!==l(e.subarray(c,c+1));)r+=l(e.subarray(c,c+1)),c+=1;r+=l(e.subarray(c,c+1)),c+=1,i=f(e,12),o=f(e,16),s=f(e,20),u=f(e,24),c=28}else if(1===t){i=f(e,c+=4);var d=f(e,c+=4),h=f(e,c+=4);for(c+=4,a=Math.pow(2,32)*d+h,Number.isSafeInteger(a)||(a=Number.MAX_SAFE_INTEGER,console.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),s=f(e,c),u=f(e,c+=4),c+=4;"\0"!==l(e.subarray(c,c+1));)n+=l(e.subarray(c,c+1)),c+=1;for(n+=l(e.subarray(c,c+1)),c+=1;"\0"!==l(e.subarray(c,c+1));)r+=l(e.subarray(c,c+1)),c+=1;r+=l(e.subarray(c,c+1)),c+=1}return{schemeIdUri:n,value:r,timeScale:i,presentationTime:a,presentationTimeDelta:o,eventDuration:s,id:u,payload:e.subarray(c,e.byteLength)}}},"./src/utils/output-filter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r}));var r=function(){function e(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}var t=e.prototype;return t.dispatchCue=function(){null!==this.startTime&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)},t.newCue=function(e,t,n){(null===this.startTime||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=n,this.timelineController.createCaptionsTrack(this.trackName)},t.reset=function(){this.cueRanges=[],this.startTime=null},e}()},"./src/utils/texttrack-utils.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"sendAddTrackEvent",(function(){return i})),n.d(t,"addCueToTrack",(function(){return o})),n.d(t,"clearCurrentCues",(function(){return a})),n.d(t,"removeCuesInRange",(function(){return s})),n.d(t,"getCuesInRange",(function(){return u}));var r=n("./src/utils/logger.ts");function i(e,t){var n;try{n=new Event("addtrack")}catch(r){(n=document.createEvent("Event")).initEvent("addtrack",!1,!1)}n.track=e,t.dispatchEvent(n)}function o(e,t){var n=e.mode;if("disabled"===n&&(e.mode="hidden"),e.cues&&!e.cues.getCueById(t.id))try{if(e.addCue(t),!e.cues.getCueById(t.id))throw new Error("addCue is failed for: "+t)}catch(o){r.logger.debug("[texttrack-utils]: "+o);var i=new self.TextTrackCue(t.startTime,t.endTime,t.text);i.id=t.id,e.addCue(i)}"disabled"===n&&(e.mode=n)}function a(e){var t=e.mode;if("disabled"===t&&(e.mode="hidden"),e.cues)for(var n=e.cues.length;n--;)e.removeCue(e.cues[n]);"disabled"===t&&(e.mode=t)}function s(e,t,n,r){var i=e.mode;if("disabled"===i&&(e.mode="hidden"),e.cues&&e.cues.length>0)for(var o=u(e.cues,t,n),a=0;a<o.length;a++)r&&!r(o[a])||e.removeCue(o[a]);"disabled"===i&&(e.mode=i)}function u(e,t,n){var r=[],i=function(e,t){if(t<e[0].startTime)return 0;var n=e.length-1;if(t>e[n].endTime)return-1;for(var r=0,i=n;r<=i;){var o=Math.floor((i+r)/2);if(t<e[o].startTime)i=o-1;else{if(!(t>e[o].startTime&&r<n))return o;r=o+1}}return e[r].startTime-t<t-e[i].startTime?r:i}(e,t);if(i>-1)for(var o=i,a=e.length;o<a;o++){var s=e[o];if(s.startTime>=t&&s.endTime<=n)r.push(s);else if(s.startTime>n)return r}return r}},"./src/utils/time-ranges.ts":function(e,t,n){"use strict";n.r(t),t.default={toString:function(e){for(var t="",n=e.length,r=0;r<n;r++)t+="["+e.start(r).toFixed(3)+","+e.end(r).toFixed(3)+"]";return t}}},"./src/utils/timescale-conversion.ts":function(e,t,n){"use strict";function r(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var i=e*t*n;return r?Math.round(i):i}function i(e,t,n,i){return void 0===n&&(n=1),void 0===i&&(i=!1),r(e,t,1/n,i)}function o(e,t){return void 0===t&&(t=!1),r(e,1e3,1/9e4,t)}function a(e,t){return void 0===t&&(t=1),r(e,9e4,1/t)}n.r(t),n.d(t,"toTimescaleFromBase",(function(){return r})),n.d(t,"toTimescaleFromScale",(function(){return i})),n.d(t,"toMsFromMpegTsClock",(function(){return o})),n.d(t,"toMpegTsClockFromTimescale",(function(){return a}))},"./src/utils/typed-array.ts":function(e,t,n){"use strict";function r(e,t,n){return Uint8Array.prototype.slice?e.slice(t,n):new Uint8Array(Array.prototype.slice.call(e,t,n))}n.r(t),n.d(t,"sliceUint8",(function(){return r}))},"./src/utils/vttcue.ts":function(e,t,n){"use strict";n.r(t),t.default=function(){if("undefined"!==typeof self&&self.VTTCue)return self.VTTCue;var e=["","lr","rl"],t=["start","middle","end","left","right"];function n(e,t){if("string"!==typeof t)return!1;if(!Array.isArray(e))return!1;var n=t.toLowerCase();return!!~e.indexOf(n)&&n}function r(e){return n(t,e)}function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=1;i<arguments.length;i++){var o=arguments[i];for(var a in o)e[a]=o[a]}return e}function o(t,o,a){var s=this,u={enumerable:!0};s.hasBeenReset=!1;var l="",c=!1,f=t,d=o,h=a,p=null,v="",g=!0,m="auto",y="start",b=50,w="middle",E=50,S="middle";Object.defineProperty(s,"id",i({},u,{get:function(){return l},set:function(e){l=""+e}})),Object.defineProperty(s,"pauseOnExit",i({},u,{get:function(){return c},set:function(e){c=!!e}})),Object.defineProperty(s,"startTime",i({},u,{get:function(){return f},set:function(e){if("number"!==typeof e)throw new TypeError("Start time must be set to a number.");f=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"endTime",i({},u,{get:function(){return d},set:function(e){if("number"!==typeof e)throw new TypeError("End time must be set to a number.");d=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"text",i({},u,{get:function(){return h},set:function(e){h=""+e,this.hasBeenReset=!0}})),Object.defineProperty(s,"region",i({},u,{get:function(){return p},set:function(e){p=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"vertical",i({},u,{get:function(){return v},set:function(t){var r=function(t){return n(e,t)}(t);if(!1===r)throw new SyntaxError("An invalid or illegal string was specified.");v=r,this.hasBeenReset=!0}})),Object.defineProperty(s,"snapToLines",i({},u,{get:function(){return g},set:function(e){g=!!e,this.hasBeenReset=!0}})),Object.defineProperty(s,"line",i({},u,{get:function(){return m},set:function(e){if("number"!==typeof e&&"auto"!==e)throw new SyntaxError("An invalid number or illegal string was specified.");m=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"lineAlign",i({},u,{get:function(){return y},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");y=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"position",i({},u,{get:function(){return b},set:function(e){if(e<0||e>100)throw new Error("Position must be between 0 and 100.");b=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"positionAlign",i({},u,{get:function(){return w},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");w=t,this.hasBeenReset=!0}})),Object.defineProperty(s,"size",i({},u,{get:function(){return E},set:function(e){if(e<0||e>100)throw new Error("Size must be between 0 and 100.");E=e,this.hasBeenReset=!0}})),Object.defineProperty(s,"align",i({},u,{get:function(){return S},set:function(e){var t=r(e);if(!t)throw new SyntaxError("An invalid or illegal string was specified.");S=t,this.hasBeenReset=!0}})),s.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}()},"./src/utils/vttparser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"parseTimeStamp",(function(){return o})),n.d(t,"fixLineBreaks",(function(){return f})),n.d(t,"VTTParser",(function(){return d}));var r=n("./src/utils/vttcue.ts"),i=function(){function e(){}return e.prototype.decode=function(e,t){if(!e)return"";if("string"!==typeof e)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))},e}();function o(e){function t(e,t,n,r){return 3600*(0|e)+60*(0|t)+(0|n)+parseFloat(r||0)}var n=e.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return n?parseFloat(n[2])>59?t(n[2],n[3],0,n[4]):t(n[1],n[2],n[3],n[4]):null}var a=function(){function e(){this.values=Object.create(null)}var t=e.prototype;return t.set=function(e,t){this.get(e)||""===t||(this.values[e]=t)},t.get=function(e,t,n){return n?this.has(e)?this.values[e]:t[n]:this.has(e)?this.values[e]:t},t.has=function(e){return e in this.values},t.alt=function(e,t,n){for(var r=0;r<n.length;++r)if(t===n[r]){this.set(e,t);break}},t.integer=function(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))},t.percent=function(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){var n=parseFloat(t);if(n>=0&&n<=100)return this.set(e,n),!0}return!1},e}();function s(e,t,n,r){var i=r?e.split(r):[e];for(var o in i)if("string"===typeof i[o]){var a=i[o].split(n);2===a.length&&t(a[0],a[1])}}var u=new r.default(0,0,""),l="middle"===u.align?"middle":"center";function c(e,t,n){var r=e;function i(){var t=o(e);if(null===t)throw new Error("Malformed timestamp: "+r);return e=e.replace(/^[^\sa-zA-Z-]+/,""),t}function c(){e=e.replace(/^\s+/,"")}if(c(),t.startTime=i(),c(),"--\x3e"!==e.slice(0,3))throw new Error("Malformed time stamp (time stamps must be separated by '--\x3e'): "+r);e=e.slice(3),c(),t.endTime=i(),c(),function(e,t){var r=new a;s(e,(function(e,t){var i;switch(e){case"region":for(var o=n.length-1;o>=0;o--)if(n[o].id===t){r.set(e,n[o].region);break}break;case"vertical":r.alt(e,t,["rl","lr"]);break;case"line":i=t.split(","),r.integer(e,i[0]),r.percent(e,i[0])&&r.set("snapToLines",!1),r.alt(e,i[0],["auto"]),2===i.length&&r.alt("lineAlign",i[1],["start",l,"end"]);break;case"position":i=t.split(","),r.percent(e,i[0]),2===i.length&&r.alt("positionAlign",i[1],["start",l,"end","line-left","line-right","auto"]);break;case"size":r.percent(e,t);break;case"align":r.alt(e,t,["start",l,"end","left","right"])}}),/:/,/\s/),t.region=r.get("region",null),t.vertical=r.get("vertical","");var i=r.get("line","auto");"auto"===i&&-1===u.line&&(i=-1),t.line=i,t.lineAlign=r.get("lineAlign","start"),t.snapToLines=r.get("snapToLines",!0),t.size=r.get("size",100),t.align=r.get("align",l);var o=r.get("position","auto");"auto"===o&&50===u.position&&(o="start"===t.align||"left"===t.align?0:"end"===t.align||"right"===t.align?100:50),t.position=o}(e,t)}function f(e){return e.replace(/<br(?: \/)?>/gi,"\n")}var d=function(){function e(){this.state="INITIAL",this.buffer="",this.decoder=new i,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}var t=e.prototype;return t.parse=function(e){var t=this;function n(){var e=t.buffer,n=0;for(e=f(e);n<e.length&&"\r"!==e[n]&&"\n"!==e[n];)++n;var r=e.slice(0,n);return"\r"===e[n]&&++n,"\n"===e[n]&&++n,t.buffer=e.slice(n),r}e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));try{var i="";if("INITIAL"===t.state){if(!/\r\n|\n/.test(t.buffer))return this;var o=(i=n()).match(/^(\xef\xbb\xbf)?WEBVTT([ \t].*)?$/);if(!o||!o[0])throw new Error("Malformed WebVTT signature.");t.state="HEADER"}for(var a=!1;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(a?a=!1:i=n(),t.state){case"HEADER":/:/.test(i)?s(i,(function(e,t){}),/:/):i||(t.state="ID");continue;case"NOTE":i||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(i)){t.state="NOTE";break}if(!i)continue;if(t.cue=new r.default(0,0,""),t.state="CUE",-1===i.indexOf("--\x3e")){t.cue.id=i;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{c(i,t.cue,t.regionList)}catch(l){t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":var u=-1!==i.indexOf("--\x3e");if(!i||u&&(a=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(null===t.cue)continue;t.cue.text&&(t.cue.text+="\n"),t.cue.text+=i;continue;case"BADCUE":i||(t.state="ID")}}}catch(l){"CUETEXT"===t.state&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state="INITIAL"===t.state?"BADWEBVTT":"BADCUE"}return this},t.flush=function(){var e=this;try{if((e.cue||"HEADER"===e.state)&&(e.buffer+="\n\n",e.parse()),"INITIAL"===e.state||"BADWEBVTT"===e.state)throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this},e}()},"./src/utils/webvtt-parser.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"generateCueId",(function(){return f})),n.d(t,"parseWebVTT",(function(){return d}));var r=n("./src/polyfills/number.ts"),i=n("./src/utils/vttparser.ts"),o=n("./src/demux/id3.ts"),a=n("./src/utils/timescale-conversion.ts"),s=n("./src/remux/mp4-remuxer.ts"),u=/\r\n|\n\r|\n|\r/g,l=function(e,t,n){return void 0===n&&(n=0),e.slice(n,n+t.length)===t},c=function(e){for(var t=5381,n=e.length;n;)t=33*t^e.charCodeAt(--n);return(t>>>0).toString()};function f(e,t,n){return c(e.toString())+c(t.toString())+c(n)}function d(e,t,n,c,d,h,p,v){var g,m=new i.VTTParser,y=Object(o.utf8ArrayToStr)(new Uint8Array(e)).trim().replace(u,"\n").split("\n"),b=[],w=Object(a.toMpegTsClockFromTimescale)(t,n),E="00:00.000",S=0,x=0,T=!0;m.oncue=function(e){var t=c[d],n=c.ccOffset,r=(S-w)/9e4;null!==t&&void 0!==t&&t.new&&(void 0!==x?n=c.ccOffset=t.start:function(e,t,n){var r=e[t],i=e[r.prevCC];if(!i||!i.new&&r.new)return e.ccOffset=e.presentationOffset=r.start,void(r.new=!1);for(;null!==(o=i)&&void 0!==o&&o.new;){var o;e.ccOffset+=r.start-i.start,r.new=!1,i=e[(r=i).prevCC]}e.presentationOffset=n}(c,d,r)),r&&(n=r-c.presentationOffset);var i=e.endTime-e.startTime,o=Object(s.normalizePts)(9e4*(e.startTime+n-x),9e4*h)/9e4;e.startTime=Math.max(o,0),e.endTime=Math.max(o+i,0);var a=e.text.trim();e.text=decodeURIComponent(encodeURIComponent(a)),e.id||(e.id=f(e.startTime,e.endTime,a)),e.endTime>0&&b.push(e)},m.onparsingerror=function(e){g=e},m.onflush=function(){g?v(g):p(b)},y.forEach((function(e){if(T){if(l(e,"X-TIMESTAMP-MAP=")){T=!1,e.slice(16).split(",").forEach((function(e){l(e,"LOCAL:")?E=e.slice(6):l(e,"MPEGTS:")&&(S=parseInt(e.slice(7)))}));try{x=function(e){var t=parseInt(e.slice(-3)),n=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),o=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!Object(r.isFiniteNumber)(t)||!Object(r.isFiniteNumber)(n)||!Object(r.isFiniteNumber)(i)||!Object(r.isFiniteNumber)(o))throw Error("Malformed X-TIMESTAMP-MAP: Local:"+e);return t+=1e3*n,(t+=6e4*i)+36e5*o}(E)/1e3}catch(t){g=t}return}""===e&&(T=!1)}m.parse(e+"\n")})),m.flush()}},"./src/utils/xhr-loader.ts":function(e,t,n){"use strict";n.r(t);var r=n("./src/utils/logger.ts"),i=n("./src/loader/load-stats.ts"),o=/^age:\s*[\d.]+\s*$/m,a=function(){function e(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=void 0,this.loader=null,this.stats=void 0,this.xhrSetup=e?e.xhrSetup:null,this.stats=new i.LoadStats,this.retryDelay=0}var t=e.prototype;return t.destroy=function(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null},t.abortInternal=function(){var e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,4!==e.readyState&&(this.stats.aborted=!0,e.abort()))},t.abort=function(){var e;this.abortInternal(),null!==(e=this.callbacks)&&void 0!==e&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)},t.load=function(e,t,n){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=n,this.retryDelay=t.retryDelay,this.loadInternal()},t.loadInternal=function(){var e=this.config,t=this.context;if(e){var n=this.loader=new self.XMLHttpRequest,r=this.stats;r.loading.first=0,r.loaded=0;var i=this.xhrSetup;try{if(i)try{i(n,t.url)}catch(s){n.open("GET",t.url,!0),i(n,t.url)}n.readyState||n.open("GET",t.url,!0);var o=this.context.headers;if(o)for(var a in o)n.setRequestHeader(a,o[a])}catch(s){return void this.callbacks.onError({code:n.status,text:s.message},t,n)}t.rangeEnd&&n.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),n.onreadystatechange=this.readystatechange.bind(this),n.onprogress=this.loadprogress.bind(this),n.responseType=t.responseType,self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),e.timeout),n.send()}},t.readystatechange=function(){var e=this.context,t=this.loader,n=this.stats;if(e&&t){var i=t.readyState,o=this.config;if(!n.aborted&&i>=2)if(self.clearTimeout(this.requestTimeout),0===n.loading.first&&(n.loading.first=Math.max(self.performance.now(),n.loading.start)),4===i){t.onreadystatechange=null,t.onprogress=null;var a=t.status;if(a>=200&&a<300){var s,u;if(n.loading.end=Math.max(self.performance.now(),n.loading.first),u="arraybuffer"===e.responseType?(s=t.response).byteLength:(s=t.responseText).length,n.loaded=n.total=u,!this.callbacks)return;var l=this.callbacks.onProgress;if(l&&l(n,e,s,t),!this.callbacks)return;var c={url:t.responseURL,data:s};this.callbacks.onSuccess(c,n,e,t)}else n.retry>=o.maxRetry||a>=400&&a<499?(r.logger.error(a+" while loading "+e.url),this.callbacks.onError({code:a,text:t.statusText},e,t)):(r.logger.warn(a+" while loading "+e.url+", retrying in "+this.retryDelay+"..."),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay),this.retryDelay=Math.min(2*this.retryDelay,o.maxRetryDelay),n.retry++)}else self.clearTimeout(this.requestTimeout),this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),o.timeout)}},t.loadtimeout=function(){r.logger.warn("timeout while loading "+this.context.url);var e=this.callbacks;e&&(this.abortInternal(),e.onTimeout(this.stats,this.context,this.loader))},t.loadprogress=function(e){var t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)},t.getCacheAge=function(){var e=null;if(this.loader&&o.test(this.loader.getAllResponseHeaders())){var t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e},e}();t.default=a}}).default},e.exports=t())},4038:function(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,l=u>>1,c=-7,f=n?i-1:0,d=n?-1:1,h=e[t+f];for(f+=d,o=h&(1<<-c)-1,h>>=-c,c+=s;c>0;o=256*o+e[t+f],f+=d,c-=8);for(a=o&(1<<-c)-1,o>>=-c,c+=r;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),o-=l}return(h?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,u,l=8*o-i-1,c=(1<<l)-1,f=c>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:o-1,p=r?1:-1,v=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+f>=1?d/u:d*Math.pow(2,1-f))*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,i),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,i),a=0));i>=8;e[n+h]=255&s,h+=p,s/=256,i-=8);for(a=a<<i|s,l+=i;l>0;e[n+h]=255&a,h+=p,a/=256,l-=8);e[n+h-p]|=128*v}},132:function(){!function(){"use strict";if("object"===typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=function(e){for(var t=window.document,n=i(t);n;)n=i(t=n.ownerDocument);return t}(),t=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(e,n){r=e&&n?d(e,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},t.forEach((function(e){e._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},a.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},a.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},a.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,o=null,a=null;this.POLL_INTERVAL?o=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(o&&e.clearInterval(o),u(e,"resize",r,!0)),u(t,"scroll",r,!0),a&&a.disconnect()}));var l=this.root&&(this.root.ownerDocument||this.root)||e;if(t!=l){var c=i(t);c&&this._monitorIntersections(c.ownerDocument)}}},a.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||e,o=this._observationTargets.some((function(e){var n=e.element.ownerDocument;if(n==t)return!0;for(;n&&n!=r;){var o=i(n);if((n=o&&o.ownerDocument)==t)return!0}return!1}));if(!o){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),t!=r){var s=i(t);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var e=this._rootIsInDom(),t=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=c(i),s=this._rootContainsTarget(i),u=r.entry,l=e&&s&&this._computeTargetAndRootIntersection(i,a,t),f=null;this._rootContainsTarget(i)?n&&!this.root||(f=t):f={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=r.entry=new o({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:f,intersectionRect:l});u?e&&s?this._hasCrossedThreshold(u,d)&&this._queuedEntries.push(d):u&&u.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(t,i,o){if("none"!=window.getComputedStyle(t).display){for(var a=i,s=p(t),u=!1;!u&&s;){var f=null,h=1==s.nodeType?window.getComputedStyle(s):{};if("none"==h.display)return null;if(s==this.root||9==s.nodeType)if(u=!0,s==this.root||s==e)n&&!this.root?!r||0==r.width&&0==r.height?(s=null,f=null,a=null):f=r:f=o;else{var v=p(s),g=v&&c(v),m=v&&this._computeTargetAndRootIntersection(v,g,o);g&&m?(s=v,f=d(g,m)):(s=null,a=null)}else{var y=s.ownerDocument;s!=y.body&&s!=y.documentElement&&"visible"!=h.overflow&&(f=c(s))}if(f&&(a=l(f,a)),!a)break;s=s&&p(s)}return a}},a.prototype._getRootRect=function(){var t;if(this.root&&!v(this.root))t=c(this.root);else{var n=v(this.root)?this.root:e,r=n.documentElement,i=n.body;t={top:0,left:0,right:r.clientWidth||i.clientWidth,width:r.clientWidth||i.clientWidth,bottom:r.clientHeight||i.clientHeight,height:r.clientHeight||i.clientHeight}}return this._expandRectByRootMargin(t)},a.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!==o<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||h(e,this.root)},a.prototype._rootContainsTarget=function(t){var n=this.root&&(this.root.ownerDocument||this.root)||e;return h(n,t)&&(!this.root||n==t.ownerDocument)},a.prototype._registerInstance=function(){t.indexOf(this)<0&&t.push(this)},a.prototype._unregisterInstance=function(){var e=t.indexOf(this);-1!=e&&t.splice(e,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=o}function i(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(t){return null}}function o(e){this.time=e.time,this.target=e.target,this.rootBounds=f(e.rootBounds),this.boundingClientRect=f(e.boundingClientRect),this.intersectionRect=f(e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function a(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=function(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function u(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detachEvent&&e.detachEvent("on"+t,n)}function l(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function c(e){var t;try{t=e.getBoundingClientRect()}catch(n){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function f(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function d(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function h(e,t){for(var n=t;n;){if(n==e)return!0;n=p(n)}return!1}function p(t){var n=t.parentNode;return 9==t.nodeType&&t!=e?i(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function v(e){return e&&9===e.nodeType}}()},1571:function(e){var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},2558:function(e,t,n){e.exports=self.fetch||(self.fetch=n(4175).default||n(4175))},3143:function(e,t,n){var r,i;!function(o){if(void 0===(i="function"===typeof(r=o)?r.call(t,n,t,e):r)||(e.exports=i),!0,e.exports=o(),!!0){var a=window.Cookies,s=window.Cookies=o();s.noConflict=function(){return window.Cookies=a,s}}}((function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(r){function i(){}function o(t,n,o){if("undefined"!==typeof document){"number"===typeof(o=e({path:"/"},i.defaults,o)).expires&&(o.expires=new Date(1*new Date+864e5*o.expires)),o.expires=o.expires?o.expires.toUTCString():"";try{var a=JSON.stringify(n);/^[\{\[]/.test(a)&&(n=a)}catch(l){}n=r.write?r.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var s="";for(var u in o)o[u]&&(s+="; "+u,!0!==o[u]&&(s+="="+o[u].split(";")[0]));return document.cookie=t+"="+n+s}}function a(e,n){if("undefined"!==typeof document){for(var i={},o=document.cookie?document.cookie.split("; "):[],a=0;a<o.length;a++){var s=o[a].split("="),u=s.slice(1).join("=");n||'"'!==u.charAt(0)||(u=u.slice(1,-1));try{var l=t(s[0]);if(u=(r.read||r)(u,l)||t(u),n)try{u=JSON.parse(u)}catch(c){}if(i[l]=u,e===l)break}catch(c){}}return e?i[e]:i}}return i.set=o,i.get=function(e){return a(e,!1)},i.getJSON=function(e){return a(e,!0)},i.remove=function(t,n){o(t,"",e(n,{expires:-1}))},i.defaults={},i.withConverter=n,i}((function(){}))}))},908:function(e,t,n){var r=n(8136)(n(7009),"DataView");e.exports=r},9676:function(e,t,n){var r=n(5403),i=n(2747),o=n(6037),a=n(4154),s=n(7728);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8384:function(e,t,n){var r=n(3894),i=n(8699),o=n(4957),a=n(7184),s=n(7109);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},5797:function(e,t,n){var r=n(8136)(n(7009),"Map");e.exports=r},8059:function(e,t,n){var r=n(4086),i=n(9255),o=n(9186),a=n(3423),s=n(3739);function u(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}u.prototype.clear=r,u.prototype.delete=i,u.prototype.get=o,u.prototype.has=a,u.prototype.set=s,e.exports=u},8319:function(e,t,n){var r=n(8136)(n(7009),"Promise");e.exports=r},3924:function(e,t,n){var r=n(8136)(n(7009),"Set");e.exports=r},692:function(e,t,n){var r=n(8059),i=n(5774),o=n(1596);function a(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}a.prototype.add=a.prototype.push=i,a.prototype.has=o,e.exports=a},2854:function(e,t,n){var r=n(8384),i=n(511),o=n(835),a=n(707),s=n(8832),u=n(5077);function l(e){var t=this.__data__=new r(e);this.size=t.size}l.prototype.clear=i,l.prototype.delete=o,l.prototype.get=a,l.prototype.has=s,l.prototype.set=u,e.exports=l},7197:function(e,t,n){var r=n(7009).Symbol;e.exports=r},6219:function(e,t,n){var r=n(7009).Uint8Array;e.exports=r},7091:function(e,t,n){var r=n(8136)(n(7009),"WeakMap");e.exports=r},4903:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}},7538:function(e,t,n){var r=n(6478),i=n(4963),o=n(3629),a=n(5174),s=n(6800),u=n(9102),l=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),c=!n&&i(e),f=!n&&!c&&a(e),d=!n&&!c&&!f&&u(e),h=n||c||f||d,p=h?r(e.length,String):[],v=p.length;for(var g in e)!t&&!l.call(e,g)||h&&("length"==g||f&&("offset"==g||"parent"==g)||d&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||s(g,v))||p.push(g);return p}},1705:function(e){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},7897:function(e){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}},7112:function(e,t,n){var r=n(9231);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},1986:function(e,t,n){var r=n(1705),i=n(3629);e.exports=function(e,t,n){var o=t(e);return i(e)?o:r(o,n(e))}},9066:function(e,t,n){var r=n(7197),i=n(1587),o=n(3581),a=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?i(e):o(e)}},4906:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return i(e)&&"[object Arguments]"==r(e)}},1848:function(e,t,n){var r=n(3355),i=n(3141);e.exports=function e(t,n,o,a,s){return t===n||(null==t||null==n||!i(t)&&!i(n)?t!==t&&n!==n:r(t,n,o,a,e,s))}},3355:function(e,t,n){var r=n(2854),i=n(5305),o=n(2206),a=n(8078),s=n(8383),u=n(3629),l=n(5174),c=n(9102),f="[object Arguments]",d="[object Array]",h="[object Object]",p=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,v,g,m){var y=u(e),b=u(t),w=y?d:s(e),E=b?d:s(t),S=(w=w==f?h:w)==h,x=(E=E==f?h:E)==h,T=w==E;if(T&&l(e)){if(!l(t))return!1;y=!0,S=!1}if(T&&!S)return m||(m=new r),y||c(e)?i(e,t,n,v,g,m):o(e,t,w,n,v,g,m);if(!(1&n)){var _=S&&p.call(e,"__wrapped__"),k=x&&p.call(t,"__wrapped__");if(_||k){var A=_?e.value():e,C=k?t.value():t;return m||(m=new r),g(A,C,n,v,m)}}return!!T&&(m||(m=new r),a(e,t,n,v,g,m))}},6703:function(e,t,n){var r=n(4786),i=n(257),o=n(8092),a=n(7907),s=/^\[object .+?Constructor\]$/,u=Function.prototype,l=Object.prototype,c=u.toString,f=l.hasOwnProperty,d=RegExp("^"+c.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||i(e))&&(r(e)?d:s).test(a(e))}},8150:function(e,t,n){var r=n(9066),i=n(4635),o=n(3141),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&i(e.length)&&!!a[r(e)]}},3654:function(e,t,n){var r=n(2936),i=n(8836),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return i(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},6478:function(e){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},552:function(e,t,n){var r=n(6050),i=/^\s+/;e.exports=function(e){return e?e.slice(0,r(e)+1).replace(i,""):e}},6194:function(e){e.exports=function(e){return function(t){return e(t)}}},75:function(e){e.exports=function(e,t){return e.has(t)}},5525:function(e,t,n){var r=n(7009)["__core-js_shared__"];e.exports=r},5305:function(e,t,n){var r=n(692),i=n(7897),o=n(75);e.exports=function(e,t,n,a,s,u){var l=1&n,c=e.length,f=t.length;if(c!=f&&!(l&&f>c))return!1;var d=u.get(e),h=u.get(t);if(d&&h)return d==t&&h==e;var p=-1,v=!0,g=2&n?new r:void 0;for(u.set(e,t),u.set(t,e);++p<c;){var m=e[p],y=t[p];if(a)var b=l?a(y,m,p,t,e,u):a(m,y,p,e,t,u);if(void 0!==b){if(b)continue;v=!1;break}if(g){if(!i(t,(function(e,t){if(!o(g,t)&&(m===e||s(m,e,n,a,u)))return g.push(t)}))){v=!1;break}}else if(m!==y&&!s(m,y,n,a,u)){v=!1;break}}return u.delete(e),u.delete(t),v}},2206:function(e,t,n){var r=n(7197),i=n(6219),o=n(9231),a=n(5305),s=n(234),u=n(2230),l=r?r.prototype:void 0,c=l?l.valueOf:void 0;e.exports=function(e,t,n,r,l,f,d){switch(n){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!f(new i(e),new i(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return o(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var h=s;case"[object Set]":var p=1&r;if(h||(h=u),e.size!=t.size&&!p)return!1;var v=d.get(e);if(v)return v==t;r|=2,d.set(e,t);var g=a(h(e),h(t),r,l,f,d);return d.delete(e),g;case"[object Symbol]":if(c)return c.call(e)==c.call(t)}return!1}},8078:function(e,t,n){var r=n(8248),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,o,a,s){var u=1&n,l=r(e),c=l.length;if(c!=r(t).length&&!u)return!1;for(var f=c;f--;){var d=l[f];if(!(u?d in t:i.call(t,d)))return!1}var h=s.get(e),p=s.get(t);if(h&&p)return h==t&&p==e;var v=!0;s.set(e,t),s.set(t,e);for(var g=u;++f<c;){var m=e[d=l[f]],y=t[d];if(o)var b=u?o(y,m,d,t,e,s):o(m,y,d,e,t,s);if(!(void 0===b?m===y||a(m,y,n,o,s):b)){v=!1;break}g||(g="constructor"==d)}if(v&&!g){var w=e.constructor,E=t.constructor;w==E||!("constructor"in e)||!("constructor"in t)||"function"==typeof w&&w instanceof w&&"function"==typeof E&&E instanceof E||(v=!1)}return s.delete(e),s.delete(t),v}},1032:function(e,t,n){var r="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=r},8248:function(e,t,n){var r=n(1986),i=n(5918),o=n(2742);e.exports=function(e){return r(e,o,i)}},2799:function(e,t,n){var r=n(5964);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},8136:function(e,t,n){var r=n(6703),i=n(40);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},1587:function(e,t,n){var r=n(7197),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(u){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i}},5918:function(e,t,n){var r=n(4903),i=n(8174),o=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),r(a(e),(function(t){return o.call(e,t)})))}:i;e.exports=s},8383:function(e,t,n){var r=n(908),i=n(5797),o=n(8319),a=n(3924),s=n(7091),u=n(9066),l=n(7907),c="[object Map]",f="[object Promise]",d="[object Set]",h="[object WeakMap]",p="[object DataView]",v=l(r),g=l(i),m=l(o),y=l(a),b=l(s),w=u;(r&&w(new r(new ArrayBuffer(1)))!=p||i&&w(new i)!=c||o&&w(o.resolve())!=f||a&&w(new a)!=d||s&&w(new s)!=h)&&(w=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?l(n):"";if(r)switch(r){case v:return p;case g:return c;case m:return f;case y:return d;case b:return h}return t}),e.exports=w},40:function(e){e.exports=function(e,t){return null==e?void 0:e[t]}},5403:function(e,t,n){var r=n(9620);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},2747:function(e){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},6037:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return i.call(t,e)?t[e]:void 0}},4154:function(e,t,n){var r=n(9620),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},7728:function(e,t,n){var r=n(9620);e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?"__lodash_hash_undefined__":t,this}},6800:function(e){var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,n){var r=typeof e;return!!(n=null==n?9007199254740991:n)&&("number"==r||"symbol"!=r&&t.test(e))&&e>-1&&e%1==0&&e<n}},5964:function(e){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},257:function(e,t,n){var r=n(5525),i=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!i&&i in e}},2936:function(e){var t=Object.prototype;e.exports=function(e){var n=e&&e.constructor;return e===("function"==typeof n&&n.prototype||t)}},3894:function(e){e.exports=function(){this.__data__=[],this.size=0}},8699:function(e,t,n){var r=n(7112),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0)&&(n==t.length-1?t.pop():i.call(t,n,1),--this.size,!0)}},4957:function(e,t,n){var r=n(7112);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},7184:function(e,t,n){var r=n(7112);e.exports=function(e){return r(this.__data__,e)>-1}},7109:function(e,t,n){var r=n(7112);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},4086:function(e,t,n){var r=n(9676),i=n(8384),o=n(5797);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(o||i),string:new r}}},9255:function(e,t,n){var r=n(2799);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},9186:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).get(e)}},3423:function(e,t,n){var r=n(2799);e.exports=function(e){return r(this,e).has(e)}},3739:function(e,t,n){var r=n(2799);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},234:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}},9620:function(e,t,n){var r=n(8136)(Object,"create");e.exports=r},8836:function(e,t,n){var r=n(2709)(Object.keys,Object);e.exports=r},9494:function(e,t,n){e=n.nmd(e);var r=n(1032),i=t&&!t.nodeType&&t,o=i&&e&&!e.nodeType&&e,a=o&&o.exports===i&&r.process,s=function(){try{var e=o&&o.require&&o.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(t){}}();e.exports=s},3581:function(e){var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},2709:function(e){e.exports=function(e,t){return function(n){return e(t(n))}}},7009:function(e,t,n){var r=n(1032),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},5774:function(e){e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},1596:function(e){e.exports=function(e){return this.__data__.has(e)}},2230:function(e){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}},511:function(e,t,n){var r=n(8384);e.exports=function(){this.__data__=new r,this.size=0}},835:function(e){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},707:function(e){e.exports=function(e){return this.__data__.get(e)}},8832:function(e){e.exports=function(e){return this.__data__.has(e)}},5077:function(e,t,n){var r=n(8384),i=n(5797),o=n(8059);e.exports=function(e,t){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!i||a.length<199)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},7907:function(e){var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(n){}try{return e+""}catch(n){}}return""}},6050:function(e){var t=/\s/;e.exports=function(e){for(var n=e.length;n--&&t.test(e.charAt(n)););return n}},8573:function(e,t,n){var r=n(8092),i=n(72),o=n(2582),a=Math.max,s=Math.min;e.exports=function(e,t,n){var u,l,c,f,d,h,p=0,v=!1,g=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=u,r=l;return u=l=void 0,p=t,f=e.apply(r,n)}function b(e){return p=e,d=setTimeout(E,t),v?y(e):f}function w(e){var n=e-h;return void 0===h||n>=t||n<0||g&&e-p>=c}function E(){var e=i();if(w(e))return S(e);d=setTimeout(E,function(e){var n=t-(e-h);return g?s(n,c-(e-p)):n}(e))}function S(e){return d=void 0,m&&u?y(e):(u=l=void 0,f)}function x(){var e=i(),n=w(e);if(u=arguments,l=this,h=e,n){if(void 0===d)return b(h);if(g)return clearTimeout(d),d=setTimeout(E,t),y(h)}return void 0===d&&(d=setTimeout(E,t)),f}return t=o(t)||0,r(n)&&(v=!!n.leading,c=(g="maxWait"in n)?a(o(n.maxWait)||0,t):c,m="trailing"in n?!!n.trailing:m),x.cancel=function(){void 0!==d&&clearTimeout(d),p=0,u=h=l=d=void 0},x.flush=function(){return void 0===d?f:S(i())},x}},9231:function(e){e.exports=function(e,t){return e===t||e!==e&&t!==t}},4963:function(e,t,n){var r=n(4906),i=n(3141),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},3629:function(e){var t=Array.isArray;e.exports=t},1473:function(e,t,n){var r=n(4786),i=n(4635);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},5174:function(e,t,n){e=n.nmd(e);var r=n(7009),i=n(9488),o=t&&!t.nodeType&&t,a=o&&e&&!e.nodeType&&e,s=a&&a.exports===o?r.Buffer:void 0,u=(s?s.isBuffer:void 0)||i;e.exports=u},8111:function(e,t,n){var r=n(1848);e.exports=function(e,t){return r(e,t)}},4786:function(e,t,n){var r=n(9066),i=n(8092);e.exports=function(e){if(!i(e))return!1;var t=r(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},4635:function(e){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},8092:function(e){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},3141:function(e){e.exports=function(e){return null!=e&&"object"==typeof e}},152:function(e,t,n){var r=n(9066),i=n(3141);e.exports=function(e){return"symbol"==typeof e||i(e)&&"[object Symbol]"==r(e)}},9102:function(e,t,n){var r=n(8150),i=n(6194),o=n(9494),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},2742:function(e,t,n){var r=n(7538),i=n(3654),o=n(1473);e.exports=function(e){return o(e)?r(e):i(e)}},72:function(e,t,n){var r=n(7009);e.exports=function(){return r.Date.now()}},8174:function(e){e.exports=function(){return[]}},9488:function(e){e.exports=function(){return!1}},2582:function(e,t,n){var r=n(552),i=n(8092),o=n(152),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,u=/^0o[0-7]+$/i,l=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(o(e))return NaN;if(i(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=r(e);var n=s.test(e);return n||u.test(e)?l(e.slice(2),n?2:8):a.test(e)?NaN:+e}},888:function(e,t,n){"use strict";var r=n(9047);function i(){}function o(){}o.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,o,a){if(a!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:i};return n.PropTypes=n,n}},2007:function(e,t,n){e.exports=n(888)()},9047:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},7059:function(e){"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var o={};if("string"!==typeof e||0===e.length)return o;var a=/\+/g;e=e.split(n);var s=1e3;i&&"number"===typeof i.maxKeys&&(s=i.maxKeys);var u=e.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var c,f,d,h,p=e[l].replace(a,"%20"),v=p.indexOf(r);v>=0?(c=p.substr(0,v),f=p.substr(v+1)):(c=p,f=""),d=decodeURIComponent(c),h=decodeURIComponent(f),t(o,d)?Array.isArray(o[d])?o[d].push(h):o[d]=[o[d],h]:o[d]=h}return o}},4297:function(e){"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"===typeof e?Object.keys(e).map((function(i){var o=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return o+encodeURIComponent(t(e))})).join(n):o+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},863:function(e,t,n){"use strict";t.decode=t.parse=n(7059),t.encode=t.stringify=n(4297)},4463:function(e,t,n){"use strict";var r=n(2791),i=n(5296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function u(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(s[e]=t,e=0;e<t.length;e++)a.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},p={};function v(e,t,n,r,i,o,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(h,e)&&(d.test(e)?p[e]=!0:(h[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,E=Symbol.for("react.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),A=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var D=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function N(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var M,j=Object.assign;function F(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function B(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var r=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){r=l}e.call(t.prototype)}else{try{throw Error()}catch(l){r=l}e()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s]){var u="\n"+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=a&&0<=s);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?F(e):""}function H(e){switch(e.tag){case 5:return F(e.type);case 16:return F("Lazy");case 13:return F("Suspense");case 19:return F("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case x:return"Fragment";case S:return"Portal";case _:return"Profiler";case T:return"StrictMode";case O:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case A:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case R:return null!==(t=e.displayName||null)?t:G(e.type)||"Memo";case L:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function V(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(t);case 8:return t===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function z(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Y(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function X(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=z(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Q(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function J(e,t){Q(e,t);var n=z(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,z(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Y(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+z(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(te(n)){if(1<n.length)throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:z(n)}}function oe(e,t){var n=z(t.value),r=z(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function se(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ue(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?se(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ce,fe=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(he).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function Ee(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,xe=null,Te=null;function _e(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(o(280));var t=e.stateNode;t&&(t=Ei(t),Se(e.stateNode,e.type,t))}}function ke(e){xe?Te?Te.push(e):Te=[e]:xe=e}function Ae(){if(xe){var e=xe,t=Te;if(Te=xe=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Oe(){}var Ie=!1;function Re(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==xe||null!==Te)&&(Oe(),Ae())}}function Le(e,t){var n=e.stateNode;if(null===n)return null;var r=Ei(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var De=!1;if(c)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){De=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ce){De=!1}function Ne(e,t,n,r,i,o,a,s,u){var l=Array.prototype.slice.call(arguments,3);try{t.apply(n,l)}catch(c){this.onError(c)}}var Me=!1,je=null,Fe=!1,Ue=null,Be={onError:function(e){Me=!0,je=e}};function He(e,t,n,r,i,o,a,s,u){Me=!1,je=null,Ne.apply(Be,arguments)}function Ge(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ve(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function ze(e){if(Ge(e)!==e)throw Error(o(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ge(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return ze(i),e;if(a===r)return ze(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var qe=i.unstable_scheduleCallback,Ye=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Xe=i.unstable_requestPaint,Qe=i.unstable_now,Je=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,ot=null;var at=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(st(e)/ut|0)|0},st=Math.log,ut=Math.LN2;var lt=64,ct=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,a=268435455&n;if(0!==a){var s=a&~i;0!==s?r=ft(s):0!==(o&=a)&&(r=ft(o))}else 0!==(a=n&~i)?r=ft(a):0!==o&&(r=ft(o));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function mt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Et,St,xt,Tt,_t,kt=!1,At=[],Ct=null,Ot=null,It=null,Rt=new Map,Lt=new Map,Dt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Ot=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Rt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Lt.delete(t.pointerId)}}function Mt(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=Ge(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ve(n)))return e.blockedOn=t,void _t(e.priority,(function(){xt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ft(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){Ft(e)&&n.delete(t)}function Bt(){kt=!1,null!==Ct&&Ft(Ct)&&(Ct=null),null!==Ot&&Ft(Ot)&&(Ot=null),null!==It&&Ft(It)&&(It=null),Rt.forEach(Ut),Lt.forEach(Ut)}function Ht(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function Gt(e){function t(t){return Ht(t,e)}if(0<At.length){Ht(At[0],e);for(var n=1;n<At.length;n++){var r=At[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Ht(Ct,e),null!==Ot&&Ht(Ot,e),null!==It&&Ht(It,e),Rt.forEach(t),Lt.forEach(t),n=0;n<Dt.length;n++)(r=Dt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Dt.length&&null===(n=Dt[0]).blockedOn;)jt(n),null===n.blockedOn&&Dt.shift()}var Vt=w.ReactCurrentBatchConfig,zt=!0;function Wt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function Kt(e,t,n,r){var i=bt,o=Vt.transition;Vt.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=i,Vt.transition=o}}function qt(e,t,n,r){if(zt){var i=$t(e,t,n,r);if(null===i)zr(e,t,r,Yt,n),Nt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Ot=Mt(Ot,e,t,n,r,i),!0;case"mouseover":return It=Mt(It,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return Rt.set(o,Mt(Rt.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Lt.set(o,Mt(Lt.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Nt(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var o=bi(i);if(null!==o&&Et(o),null===(o=$t(e,t,n,r))&&zr(e,t,r,Yt,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else zr(e,t,r,null,n)}}var Yt=null;function $t(e,t,n,r){if(Yt=null,null!==(e=yi(e=Ee(r))))if(null===(t=Ge(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Ve(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Yt=e,null}function Xt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Qt=null,Jt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Jt,r=n.length,i="value"in Qt?Qt.value:Qt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,sn,un,ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(ln),fn=j({},ln,{view:0,detail:0}),dn=on(fn),hn=j({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==un&&(un&&"mousemove"===e.type?(an=e.screenX-un.screenX,sn=e.screenY-un.screenY):sn=an=0,un=e),an)},movementY:function(e){return"movementY"in e?e.movementY:sn}}),pn=on(hn),vn=on(j({},hn,{dataTransfer:0})),gn=on(j({},fn,{relatedTarget:0})),mn=on(j({},ln,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(yn),wn=on(j({},ln,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=xn[e])&&!!t[e]}function _n(){return Tn}var kn=j({},fn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),An=on(kn),Cn=on(j({},hn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=on(j({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=on(j({},ln,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=j({},hn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ln=on(Rn),Dn=[9,13,27,32],Pn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Nn,jn=c&&(!Pn||Nn&&8<Nn&&11>=Nn),Fn=String.fromCharCode(32),Un=!1;function Bn(e,t){switch(e){case"keyup":return-1!==Dn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Gn=!1;var Vn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Vn[e.type]:"textarea"===t}function Wn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,qn=null;function Yn(e){Fr(e,0)}function $n(e){if(q(wi(e)))return e}function Xn(e,t){if("change"===e)return t}var Qn=!1;if(c){var Jn;if(c){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Jn=Zn}else Jn=!1;Qn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),qn=Kn=null)}function nr(e){if("value"===e.propertyName&&$n(qn)){var t=[];Wn(t,qn,e,Ee(e)),Re(Yn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(qn)}function or(e,t){if("click"===e)return $n(t)}function ar(e,t){if("input"===e||"change"===e)return $n(t)}var sr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function ur(e,t){if(sr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!sr(e[i],t[i]))return!1}return!0}function lr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=lr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Y();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Y((e=t.contentWindow).document)}return t}function hr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&hr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=void 0===r.end?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cr(n,o);var a=cr(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,mr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Y(r)||("selectionStart"in(r=gr)&&hr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&ur(yr,r)||(yr=r,0<(r=Kr(mr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function Er(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionend:Er("Transition","TransitionEnd")},xr={},Tr={};function _r(e){if(xr[e])return xr[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tr)return xr[e]=n[t];return e}c&&(Tr=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var kr=_r("animationend"),Ar=_r("animationiteration"),Cr=_r("animationstart"),Or=_r("transitionend"),Ir=new Map,Rr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(e,t){Ir.set(e,t),u(t,[e])}for(var Dr=0;Dr<Rr.length;Dr++){var Pr=Rr[Dr];Lr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Lr(kr,"onAnimationEnd"),Lr(Ar,"onAnimationIteration"),Lr(Cr,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Or,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,l){if(He.apply(this,arguments),Me){if(!Me)throw Error(o(198));var c=je;Me=!1,je=null,Fe||(Fe=!0,Ue=c)}}(r,t,void 0,e),e.currentTarget=null}function Fr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],u=s.instance,l=s.currentTarget;if(s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=u}else for(a=0;a<r.length;a++){if(u=(s=r[a]).instance,l=s.currentTarget,s=s.listener,u!==o&&i.isPropagationStopped())break e;jr(i,s,l),o=u}}}if(Fe)throw e=Ue,Fe=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(Vr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),Vr(n,e,r,t)}var Hr="_reactListening"+Math.random().toString(36).slice(2);function Gr(e){if(!e[Hr]){e[Hr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hr]||(t[Hr]=!0,Br("selectionchange",!1,t))}}function Vr(e,t,n,r){switch(Xt(t)){case 1:var i=Wt;break;case 4:i=Kt;break;default:i=qt}n=i.bind(null,t,n,e),i=void 0,!De||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function zr(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var u=a.tag;if((3===u||4===u)&&((u=a.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=yi(s)))return;if(5===(u=a.tag)||6===u){r=o=a;continue e}s=s.parentNode}}r=r.return}Re((function(){var r=o,i=Ee(n),a=[];e:{var s=Ir.get(e);if(void 0!==s){var u=cn,l=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=gn;break;case"focusout":l="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case kr:case Ar:case Cr:u=mn;break;case Or:u=In;break;case"scroll":u=dn;break;case"wheel":u=Ln;break;case"copy":case"cut":case"paste":u=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Cn}var c=0!==(4&t),f=!c&&"scroll"===e,d=c?null!==s?s+"Capture":null:s;c=[];for(var h,p=r;null!==p;){var v=(h=p).stateNode;if(5===h.tag&&null!==v&&(h=v,null!==d&&(null!=(v=Le(p,d))&&c.push(Wr(p,v,h)))),f)break;p=p.return}0<c.length&&(s=new u(s,l,null,n,i),a.push({event:s,listeners:c}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===we||!(l=n.relatedTarget||n.fromElement)||!yi(l)&&!l[pi])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?yi(l):null)&&(l!==(f=Ge(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=pn,v="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(c=Cn,v="onPointerLeave",d="onPointerEnter",p="pointer"),f=null==u?s:wi(u),h=null==l?s:wi(l),(s=new c(v,p+"leave",u,n,i)).target=f,s.relatedTarget=h,v=null,yi(i)===r&&((c=new c(d,p+"enter",l,n,i)).target=h,c.relatedTarget=f,v=c),f=v,u&&l)e:{for(d=l,p=0,h=c=u;h;h=qr(h))p++;for(h=0,v=d;v;v=qr(v))h++;for(;0<p-h;)c=qr(c),p--;for(;0<h-p;)d=qr(d),h--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=qr(c),d=qr(d)}c=null}else c=null;null!==u&&Yr(a,s,u,c,!1),null!==l&&null!==f&&Yr(a,f,l,c,!0)}if("select"===(u=(s=r?wi(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var g=Xn;else if(zn(s))if(Qn)g=ar;else{g=ir;var m=rr}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(g=or);switch(g&&(g=g(e,r))?Wn(a,g,n,i):(m&&m(e,s,r),"focusout"===e&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&ee(s,"number",s.value)),m=r?wi(r):window,e){case"focusin":(zn(m)||"true"===m.contentEditable)&&(gr=m,mr=r,yr=null);break;case"focusout":yr=mr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(Gn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Gn&&(y=en()):(Jt="value"in(Qt=i)?Qt.value:Qt.textContent,Gn=!0)),0<(m=Kr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:m}),y?b.data=y:null!==(y=Hn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Hn(t);case"keypress":return 32!==t.which?null:(Un=!0,Fn);case"textInput":return(e=t.data)===Fn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Gn)return"compositionend"===e||!Pn&&Bn(e,t)?(e=en(),Zt=Jt=Qt=null,Gn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Fr(a,t)}))}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Le(e,n))&&r.unshift(Wr(e,o,i)),null!=(o=Le(e,t))&&r.push(Wr(e,o,i))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Yr(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,u=s.alternate,l=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==l&&(s=l,i?null!=(u=Le(n,o))&&a.unshift(Wr(n,u,s)):i||null!=(u=Le(n,o))&&a.push(Wr(n,u,s))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $r=/\r\n?/g,Xr=/\u0000|\uFFFD/g;function Qr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Xr,"")}function Jr(e,t,n){if(t=Qr(t),Qr(e)!==t&&n)throw Error(o(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(si)}:ri;function si(e){setTimeout((function(){throw e}))}function ui(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Gt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Gt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ci(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),di="__reactFiber$"+fi,hi="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,gi="__reactListeners$"+fi,mi="__reactHandles$"+fi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ci(e);null!==e;){if(n=e[di])return n;e=ci(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function Ei(e){return e[hi]||null}var Si=[],xi=-1;function Ti(e){return{current:e}}function _i(e){0>xi||(e.current=Si[xi],Si[xi]=null,xi--)}function ki(e,t){xi++,Si[xi]=e.current,e.current=t}var Ai={},Ci=Ti(Ai),Oi=Ti(!1),Ii=Ai;function Ri(e,t){var n=e.type.contextTypes;if(!n)return Ai;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Li(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Di(){_i(Oi),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Ai)throw Error(o(168));ki(Ci,t),ki(Oi,n)}function Ni(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(o(108,V(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ai,Ii=Ci.current,ki(Ci,e),ki(Oi,Oi.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=Ni(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Oi),_i(Ci),ki(Ci,e)):_i(Oi),ki(Oi,n)}var Fi=null,Ui=!1,Bi=!1;function Hi(e){null===Fi?Fi=[e]:Fi.push(e)}function Gi(){if(!Bi&&null!==Fi){Bi=!0;var e=0,t=bt;try{var n=Fi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fi=null,Ui=!1}catch(i){throw null!==Fi&&(Fi=Fi.slice(e+1)),qe(Ze,Gi),i}finally{bt=t,Bi=!1}}return null}var Vi=[],zi=0,Wi=null,Ki=0,qi=[],Yi=0,$i=null,Xi=1,Qi="";function Ji(e,t){Vi[zi++]=Ki,Vi[zi++]=Wi,Wi=e,Ki=t}function Zi(e,t,n){qi[Yi++]=Xi,qi[Yi++]=Qi,qi[Yi++]=$i,$i=e;var r=Xi;e=Qi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var o=32-at(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Xi=1<<32-at(t)+i|n<<i|r,Qi=o+e}else Xi=1<<o|n<<i|r,Qi=e}function eo(e){null!==e.return&&(Ji(e,1),Zi(e,1,0))}function to(e){for(;e===Wi;)Wi=Vi[--zi],Vi[zi]=null,Ki=Vi[--zi],Vi[zi]=null;for(;e===$i;)$i=qi[--Yi],qi[Yi]=null,Qi=qi[--Yi],qi[Yi]=null,Xi=qi[--Yi],qi[Yi]=null}var no=null,ro=null,io=!1,oo=null;function ao(e,t){var n=Rl(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function so(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,no=e,ro=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,no=e,ro=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==$i?{id:Xi,overflow:Qi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rl(18,null,null,0)).stateNode=t,n.return=e,e.child=n,no=e,ro=null,!0);default:return!1}}function uo(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=ro;if(t){var n=t;if(!so(e,t)){if(uo(e))throw Error(o(418));t=li(n.nextSibling);var r=no;t&&so(e,t)?ao(r,n):(e.flags=-4097&e.flags|2,io=!1,no=e)}}else{if(uo(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,no=e}}}function co(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;no=e}function fo(e){if(e!==no)return!1;if(!io)return co(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=ro)){if(uo(e))throw ho(),Error(o(418));for(;t;)ao(e,t),t=li(t.nextSibling)}if(co(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ro=li(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ro=null}}else ro=no?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=ro;e;)e=li(e.nextSibling)}function po(){ro=no=null,io=!1}function vo(e){null===oo?oo=[e]:oo.push(e)}var go=w.ReactCurrentBatchConfig;function mo(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var yo=Ti(null),bo=null,wo=null,Eo=null;function So(){Eo=wo=bo=null}function xo(e){var t=yo.current;_i(yo),e._currentValue=t}function To(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function _o(e,t){bo=e,Eo=wo=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ws=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===wo){if(null===bo)throw Error(o(308));wo=e,bo.dependencies={lanes:0,firstContext:e}}else wo=wo.next=e;return t}var Ao=null;function Co(e){null===Ao?Ao=[e]:Ao.push(e)}function Oo(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Co(t)):(n.next=i.next,i.next=n),t.interleaved=n,Io(e,r)}function Io(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ro=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Do(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Po(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function No(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Cu)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Io(e,n)}return null===(i=r.interleaved)?(t.next=t,Co(r)):(t.next=i.next,i.next=t),r.interleaved=t,Io(e,n)}function Mo(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function jo(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,r){var i=e.updateQueue;Ro=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var u=s,l=u.next;u.next=null,null===a?o=l:a.next=l,a=u;var c=e.alternate;null!==c&&((s=(c=c.updateQueue).lastBaseUpdate)!==a&&(null===s?c.firstBaseUpdate=l:s.next=l,c.lastBaseUpdate=u))}if(null!==o){var f=i.baseState;for(a=0,c=l=u=null,s=o;;){var d=s.lane,h=s.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:h,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var p=e,v=s;switch(d=t,h=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(h,f,d);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=v.payload)?p.call(h,f,d):p)||void 0===d)break e;f=j({},f,d);break e;case 2:Ro=!0}}null!==s.callback&&0!==s.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[s]:d.push(s))}else h={eventTime:h,lane:d,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===c?(l=c=h,u=f):c=c.next=h,a|=d;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(d=s).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(u=f),i.baseState=u,i.firstBaseUpdate=l,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);Mu|=a,e.lanes=a,e.memoizedState=f}}function Uo(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var Bo=(new r.Component).refs;function Ho(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Go={isMounted:function(e){return!!(e=e._reactInternals)&&Ge(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Po(r,i);o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,i))&&(nl(t,e,i,r),Mo(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=el(),i=tl(e),o=Po(r,i);o.tag=1,o.payload=t,void 0!==n&&null!==n&&(o.callback=n),null!==(t=No(e,o,i))&&(nl(t,e,i,r),Mo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=el(),r=tl(e),i=Po(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=No(e,i,r))&&(nl(t,e,r,n),Mo(t,e,r))}};function Vo(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function zo(e,t,n){var r=!1,i=Ai,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Li(t)?Ii:Ci.current,o=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ri(e,i):Ai),t=new t(n,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Go,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Go.enqueueReplaceState(t,t.state,null)}function Ko(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Bo,Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Li(t)?Ii:Ci.current,i.context=Ri(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(Ho(e,t,o,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Go.enqueueReplaceState(i,i.state,null),Fo(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function qo(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Bo&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function $o(e){return(0,e._init)(e._payload)}function Xo(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Dl(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=jl(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var o=n.type;return o===x?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===L&&$o(o)===t.type)?((r=i(t,n.props)).ref=qo(e,t,n),r.return=e,r):((r=Pl(n.type,n.key,n.props,null,e.mode,r)).ref=qo(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fl(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,o){return null===t||7!==t.tag?((t=Nl(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jl(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case E:return(n=Pl(t.type,t.key,t.props,null,e.mode,n)).ref=qo(e,null,t),n.return=e,n;case S:return(t=Fl(t,e.mode,n)).return=e,t;case L:return d(e,(0,t._init)(t._payload),n)}if(te(t)||N(t))return(t=Nl(t,e.mode,n,null)).return=e,t;Yo(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case E:return n.key===i?l(e,t,n,r):null;case S:return n.key===i?c(e,t,n,r):null;case L:return h(e,t,(i=n._init)(n._payload),r)}if(te(n)||N(n))return null!==i?null:f(e,t,n,r,null);Yo(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case L:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||N(r))return f(t,e=e.get(n)||null,r,i,null);Yo(t,r)}return null}function v(i,o,s,u){for(var l=null,c=null,f=o,v=o=0,g=null;null!==f&&v<s.length;v++){f.index>v?(g=f,f=null):g=f.sibling;var m=h(i,f,s[v],u);if(null===m){null===f&&(f=g);break}e&&f&&null===m.alternate&&t(i,f),o=a(m,o,v),null===c?l=m:c.sibling=m,c=m,f=g}if(v===s.length)return n(i,f),io&&Ji(i,v),l;if(null===f){for(;v<s.length;v++)null!==(f=d(i,s[v],u))&&(o=a(f,o,v),null===c?l=f:c.sibling=f,c=f);return io&&Ji(i,v),l}for(f=r(i,f);v<s.length;v++)null!==(g=p(f,i,v,s[v],u))&&(e&&null!==g.alternate&&f.delete(null===g.key?v:g.key),o=a(g,o,v),null===c?l=g:c.sibling=g,c=g);return e&&f.forEach((function(e){return t(i,e)})),io&&Ji(i,v),l}function g(i,s,u,l){var c=N(u);if("function"!==typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var f=c=null,v=s,g=s=0,m=null,y=u.next();null!==v&&!y.done;g++,y=u.next()){v.index>g?(m=v,v=null):m=v.sibling;var b=h(i,v,y.value,l);if(null===b){null===v&&(v=m);break}e&&v&&null===b.alternate&&t(i,v),s=a(b,s,g),null===f?c=b:f.sibling=b,f=b,v=m}if(y.done)return n(i,v),io&&Ji(i,g),c;if(null===v){for(;!y.done;g++,y=u.next())null!==(y=d(i,y.value,l))&&(s=a(y,s,g),null===f?c=y:f.sibling=y,f=y);return io&&Ji(i,g),c}for(v=r(i,v);!y.done;g++,y=u.next())null!==(y=p(v,i,g,y.value,l))&&(e&&null!==y.alternate&&v.delete(null===y.key?g:y.key),s=a(y,s,g),null===f?c=y:f.sibling=y,f=y);return e&&v.forEach((function(e){return t(i,e)})),io&&Ji(i,g),c}return function e(r,o,a,u){if("object"===typeof a&&null!==a&&a.type===x&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case E:e:{for(var l=a.key,c=o;null!==c;){if(c.key===l){if((l=a.type)===x){if(7===c.tag){n(r,c.sibling),(o=i(c,a.props.children)).return=r,r=o;break e}}else if(c.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===L&&$o(l)===c.type){n(r,c.sibling),(o=i(c,a.props)).ref=qo(r,c,a),o.return=r,r=o;break e}n(r,c);break}t(r,c),c=c.sibling}a.type===x?((o=Nl(a.props.children,r.mode,u,a.key)).return=r,r=o):((u=Pl(a.type,a.key,a.props,null,r.mode,u)).ref=qo(r,o,a),u.return=r,r=u)}return s(r);case S:e:{for(c=a.key;null!==o;){if(o.key===c){if(4===o.tag&&o.stateNode.containerInfo===a.containerInfo&&o.stateNode.implementation===a.implementation){n(r,o.sibling),(o=i(o,a.children||[])).return=r,r=o;break e}n(r,o);break}t(r,o),o=o.sibling}(o=Fl(a,r.mode,u)).return=r,r=o}return s(r);case L:return e(r,o,(c=a._init)(a._payload),u)}if(te(a))return v(r,o,a,u);if(N(a))return g(r,o,a,u);Yo(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==o&&6===o.tag?(n(r,o.sibling),(o=i(o,a)).return=r,r=o):(n(r,o),(o=jl(a,r.mode,u)).return=r,r=o),s(r)):n(r,o)}}var Qo=Xo(!0),Jo=Xo(!1),Zo={},ea=Ti(Zo),ta=Ti(Zo),na=Ti(Zo);function ra(e){if(e===Zo)throw Error(o(174));return e}function ia(e,t){switch(ki(na,t),ki(ta,e),ki(ea,Zo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ue(null,"");break;default:t=ue(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(ea),ki(ea,t)}function oa(){_i(ea),_i(ta),_i(na)}function aa(e){ra(na.current);var t=ra(ea.current),n=ue(t,e.type);t!==n&&(ki(ta,e),ki(ea,n))}function sa(e){ta.current===e&&(_i(ea),_i(ta))}var ua=Ti(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function fa(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=w.ReactCurrentDispatcher,ha=w.ReactCurrentBatchConfig,pa=0,va=null,ga=null,ma=null,ya=!1,ba=!1,wa=0,Ea=0;function Sa(){throw Error(o(321))}function xa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!sr(e[n],t[n]))return!1;return!0}function Ta(e,t,n,r,i,a){if(pa=a,va=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?ss:us,e=n(r,i),ba){a=0;do{if(ba=!1,wa=0,25<=a)throw Error(o(301));a+=1,ma=ga=null,t.updateQueue=null,da.current=ls,e=n(r,i)}while(ba)}if(da.current=as,t=null!==ga&&null!==ga.next,pa=0,ma=ga=va=null,ya=!1,t)throw Error(o(300));return e}function _a(){var e=0!==wa;return wa=0,e}function ka(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ma?va.memoizedState=ma=e:ma=ma.next=e,ma}function Aa(){if(null===ga){var e=va.alternate;e=null!==e?e.memoizedState:null}else e=ga.next;var t=null===ma?va.memoizedState:ma.next;if(null!==t)ma=t,ga=e;else{if(null===e)throw Error(o(310));e={memoizedState:(ga=e).memoizedState,baseState:ga.baseState,baseQueue:ga.baseQueue,queue:ga.queue,next:null},null===ma?va.memoizedState=ma=e:ma=ma.next=e}return ma}function Ca(e,t){return"function"===typeof t?t(e):t}function Oa(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=ga,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var u=s=null,l=null,c=a;do{var f=c.lane;if((pa&f)===f)null!==l&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===l?(u=l=d,s=r):l=l.next=d,va.lanes|=f,Mu|=f}c=c.next}while(null!==c&&c!==a);null===l?s=r:l.next=u,sr(r,t.memoizedState)||(ws=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,va.lanes|=a,Mu|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Aa(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);sr(a,t.memoizedState)||(ws=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Ra(){}function La(e,t){var n=va,r=Aa(),i=t(),a=!sr(r.memoizedState,i);if(a&&(r.memoizedState=i,ws=!0),r=r.queue,za(Na.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ma&&1&ma.memoizedState.tag){if(n.flags|=2048,Ua(9,Pa.bind(null,n,r,i,t),void 0,null),null===Ou)throw Error(o(349));0!==(30&pa)||Da(n,t,i)}return i}function Da(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,Ma(t)&&ja(e)}function Na(e,t,n){return n((function(){Ma(t)&&ja(e)}))}function Ma(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!sr(e,n)}catch(r){return!0}}function ja(e){var t=Io(e,1);null!==t&&nl(t,e,1,-1)}function Fa(e){var t=ka();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=ns.bind(null,va,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=va.updateQueue)?(t={lastEffect:null,stores:null},va.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ba(){return Aa().memoizedState}function Ha(e,t,n,r){var i=ka();va.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ga(e,t,n,r){var i=Aa();r=void 0===r?null:r;var o=void 0;if(null!==ga){var a=ga.memoizedState;if(o=a.destroy,null!==r&&xa(r,a.deps))return void(i.memoizedState=Ua(t,n,o,r))}va.flags|=e,i.memoizedState=Ua(1|t,n,o,r)}function Va(e,t){return Ha(8390656,8,e,t)}function za(e,t){return Ga(2048,8,e,t)}function Wa(e,t){return Ga(4,2,e,t)}function Ka(e,t){return Ga(4,4,e,t)}function qa(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ya(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ga(4,4,qa.bind(null,t,e),n)}function $a(){}function Xa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Qa(e,t){var n=Aa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&xa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ja(e,t,n){return 0===(21&pa)?(e.baseState&&(e.baseState=!1,ws=!0),e.memoizedState=n):(sr(n,t)||(n=vt(),va.lanes|=n,Mu|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function es(){return Aa().memoizedState}function ts(e,t,n){var r=tl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},rs(e))is(t,n);else if(null!==(n=Oo(e,t,n,r))){nl(n,e,r,el()),os(n,t,r)}}function ns(e,t,n){var r=tl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(rs(e))is(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,sr(s,a)){var u=t.interleaved;return null===u?(i.next=i,Co(t)):(i.next=u.next,u.next=i),void(t.interleaved=i)}}catch(l){}null!==(n=Oo(e,t,i,r))&&(nl(n,e,r,i=el()),os(n,t,r))}}function rs(e){var t=e.alternate;return e===va||null!==t&&t===va}function is(e,t){ba=ya=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function os(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var as={readContext:ko,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useInsertionEffect:Sa,useLayoutEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useMutableSource:Sa,useSyncExternalStore:Sa,useId:Sa,unstable_isNewReconciler:!1},ss={readContext:ko,useCallback:function(e,t){return ka().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:Va,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ha(4194308,4,qa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ha(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ha(4,2,e,t)},useMemo:function(e,t){var n=ka();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ka();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ts.bind(null,va,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ka().memoizedState=e},useState:Fa,useDebugValue:$a,useDeferredValue:function(e){return ka().memoizedState=e},useTransition:function(){var e=Fa(!1),t=e[0];return e=Za.bind(null,e[1]),ka().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=va,i=ka();if(io){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===Ou)throw Error(o(349));0!==(30&pa)||Da(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Va(Na.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=ka(),t=Ou.identifierPrefix;if(io){var n=Qi;t=":"+t+"R"+(n=(Xi&~(1<<32-at(Xi)-1)).toString(32)+n),0<(n=wa++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=Ea++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},us={readContext:ko,useCallback:Xa,useContext:ko,useEffect:za,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Qa,useReducer:Oa,useRef:Ba,useState:function(){return Oa(Ca)},useDebugValue:$a,useDeferredValue:function(e){return Ja(Aa(),ga.memoizedState,e)},useTransition:function(){return[Oa(Ca)[0],Aa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1},ls={readContext:ko,useCallback:Xa,useContext:ko,useEffect:za,useImperativeHandle:Ya,useInsertionEffect:Wa,useLayoutEffect:Ka,useMemo:Qa,useReducer:Ia,useRef:Ba,useState:function(){return Ia(Ca)},useDebugValue:$a,useDeferredValue:function(e){var t=Aa();return null===ga?t.memoizedState=e:Ja(t,ga.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Aa().memoizedState]},useMutableSource:Ra,useSyncExternalStore:La,useId:es,unstable_isNewReconciler:!1};function cs(e,t){try{var n="",r=t;do{n+=H(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function fs(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ds(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var hs="function"===typeof WeakMap?WeakMap:Map;function ps(e,t,n){(n=Po(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zu||(zu=!0,Wu=r),ds(0,t)},n}function vs(e,t,n){(n=Po(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ds(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){ds(0,t),"function"!==typeof r&&(null===Ku?Ku=new Set([this]):Ku.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function gs(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new hs;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=_l.bind(null,e,t,n),t.then(e,e))}function ms(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ys(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Po(-1,1)).tag=2,No(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bs=w.ReactCurrentOwner,ws=!1;function Es(e,t,n,r){t.child=null===e?Jo(t,null,n,r):Qo(t,e.child,n,r)}function Ss(e,t,n,r,i){n=n.render;var o=t.ref;return _o(t,i),r=Ta(e,t,n,r,o,i),n=_a(),null===e||ws?(io&&n&&eo(t),t.flags|=1,Es(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function xs(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Ll(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Pl(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Ts(e,t,o,r,i))}if(o=e.child,0===(e.lanes&i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:ur)(a,r)&&e.ref===t.ref)return zs(e,t,i)}return t.flags|=1,(e=Dl(o,r)).ref=t.ref,e.return=t,t.child=e}function Ts(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(ur(o,r)&&e.ref===t.ref){if(ws=!1,t.pendingProps=r=o,0===(e.lanes&i))return t.lanes=e.lanes,zs(e,t,i);0!==(131072&e.flags)&&(ws=!0)}}return As(e,t,n,r,i)}function _s(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Du,Lu),Lu|=n;else{if(0===(1073741824&n))return e=null!==o?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Du,Lu),Lu|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==o?o.baseLanes:n,ki(Du,Lu),Lu|=r}else null!==o?(r=o.baseLanes|n,t.memoizedState=null):r=n,ki(Du,Lu),Lu|=r;return Es(e,t,i,n),t.child}function ks(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function As(e,t,n,r,i){var o=Li(n)?Ii:Ci.current;return o=Ri(t,o),_o(t,i),n=Ta(e,t,n,r,o,i),r=_a(),null===e||ws?(io&&r&&eo(t),t.flags|=1,Es(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,zs(e,t,i))}function Cs(e,t,n,r,i){if(Li(n)){var o=!0;Mi(t)}else o=!1;if(_o(t,i),null===t.stateNode)Vs(e,t),zo(t,n,r),Ko(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,s=t.memoizedProps;a.props=s;var u=a.context,l=n.contextType;"object"===typeof l&&null!==l?l=ko(l):l=Ri(t,l=Li(n)?Ii:Ci.current);var c=n.getDerivedStateFromProps,f="function"===typeof c||"function"===typeof a.getSnapshotBeforeUpdate;f||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==l)&&Wo(t,a,r,l),Ro=!1;var d=t.memoizedState;a.state=d,Fo(t,r,a,i),u=t.memoizedState,s!==r||d!==u||Oi.current||Ro?("function"===typeof c&&(Ho(t,n,c,r),u=t.memoizedState),(s=Ro||Vo(t,n,s,r,d,u,l))?(f||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=l,r=s):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Do(e,t),s=t.memoizedProps,l=t.type===t.elementType?s:mo(t.type,s),a.props=l,f=t.pendingProps,d=a.context,"object"===typeof(u=n.contextType)&&null!==u?u=ko(u):u=Ri(t,u=Li(n)?Ii:Ci.current);var h=n.getDerivedStateFromProps;(c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==f||d!==u)&&Wo(t,a,r,u),Ro=!1,d=t.memoizedState,a.state=d,Fo(t,r,a,i);var p=t.memoizedState;s!==f||d!==p||Oi.current||Ro?("function"===typeof h&&(Ho(t,n,h,r),p=t.memoizedState),(l=Ro||Vo(t,n,l,r,d,p,u)||!1)?(c||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,u),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=u,r=l):("function"!==typeof a.componentDidUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Os(e,t,n,r,o,i)}function Os(e,t,n,r,i,o){ks(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&ji(t,n,!1),zs(e,t,o);r=t.stateNode,bs.current=t;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Qo(t,e.child,null,o),t.child=Qo(t,null,s,o)):Es(e,t,s,o),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function Is(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ia(e,t.containerInfo)}function Rs(e,t,n,r,i){return po(),vo(i),t.flags|=256,Es(e,t,n,r),t.child}var Ls,Ds,Ps,Ns={dehydrated:null,treeContext:null,retryLane:0};function Ms(e){return{baseLanes:e,cachePool:null,transitions:null}}function js(e,t,n){var r,i=t.pendingProps,a=ua.current,s=!1,u=0!==(128&t.flags);if((r=u)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(s=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),ki(ua,1&a),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(u=i.children,e=i.fallback,s?(i=t.mode,s=t.child,u={mode:"hidden",children:u},0===(1&i)&&null!==s?(s.childLanes=0,s.pendingProps=u):s=Ml(u,i,0,null),e=Nl(e,i,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Ms(n),t.memoizedState=Ns,e):Fs(t,u));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,s){if(n)return 256&t.flags?(t.flags&=-257,Us(e,t,s,r=fs(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Ml({mode:"visible",children:r.children},i,0,null),(a=Nl(a,i,s,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Qo(t,e.child,null,s),t.child.memoizedState=Ms(s),t.memoizedState=Ns,a);if(0===(1&t.mode))return Us(e,t,s,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var u=r.dgst;return r=u,Us(e,t,s,r=fs(a=Error(o(419)),r,void 0))}if(u=0!==(s&e.childLanes),ws||u){if(null!==(r=Ou)){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|s))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Io(e,i),nl(r,e,i,-1))}return vl(),Us(e,t,s,r=fs(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Al.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,ro=li(i.nextSibling),no=t,io=!0,oo=null,null!==e&&(qi[Yi++]=Xi,qi[Yi++]=Qi,qi[Yi++]=$i,Xi=e.id,Qi=e.overflow,$i=t),(t=Fs(t,r.children)).flags|=4096,t)}(e,t,u,i,r,a,n);if(s){s=i.fallback,u=t.mode,r=(a=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&u)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Dl(a,l)).subtreeFlags=14680064&a.subtreeFlags,null!==r?s=Dl(r,s):(s=Nl(s,u,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,u=null===(u=e.child.memoizedState)?Ms(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=e.childLanes&~n,t.memoizedState=Ns,i}return e=(s=e.child).sibling,i=Dl(s,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fs(e,t){return(t=Ml({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Us(e,t,n,r){return null!==r&&vo(r),Qo(t,e.child,null,n),(e=Fs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bs(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),To(e.return,t,n)}function Hs(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Gs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Es(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bs(e,n,t);else if(19===e.tag)Bs(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ua,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Hs(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Hs(t,!0,n,null,o);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vs(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function zs(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Mu|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Dl(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Dl(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ws(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ks(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qs(e,t,n){var r=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(t),null;case 1:case 17:return Li(t.type)&&Di(),Ks(t),null;case 3:return r=t.stateNode,oa(),_i(Oi),_i(Ci),fa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fo(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(al(oo),oo=null))),Ks(t),null;case 5:sa(t);var i=ra(na.current);if(n=t.type,null!==e&&null!=t.stateNode)Ds(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(o(166));return Ks(t),null}if(e=ra(ea.current),fo(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[hi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":X(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var u in ye(n,a),i=null,a)if(a.hasOwnProperty(u)){var l=a[u];"children"===u?"string"===typeof l?r.textContent!==l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",l]):"number"===typeof l&&r.textContent!==""+l&&(!0!==a.suppressHydrationWarning&&Jr(r.textContent,l,e),i=["children",""+l]):s.hasOwnProperty(u)&&null!=l&&"onScroll"===u&&Ur("scroll",r)}switch(n){case"input":K(r),Z(r,a,!0);break;case"textarea":K(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{u=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=se(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=u.createElement(n,{is:r.is}):(e=u.createElement(n),"select"===n&&(u=e,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):e=u.createElementNS(e,n),e[di]=t,e[hi]=r,Ls(e,t),t.stateNode=e;e:{switch(u=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Nr.length;i++)Ur(Nr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":X(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),l=i)if(l.hasOwnProperty(a)){var c=l[a];"style"===a?ge(e,c):"dangerouslySetInnerHTML"===a?null!=(c=c?c.__html:void 0)&&fe(e,c):"children"===a?"string"===typeof c?("textarea"!==n||""!==c)&&de(e,c):"number"===typeof c&&de(e,""+c):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(s.hasOwnProperty(a)?null!=c&&"onScroll"===a&&Ur("scroll",e):null!=c&&b(e,a,c,u))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+z(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ks(t),null;case 6:if(e&&null!=t.stateNode)Ps(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(n=ra(na.current),ra(ea.current),fo(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=no))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ks(t),null;case 13:if(_i(ua),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==ro&&0!==(1&t.mode)&&0===(128&t.flags))ho(),po(),t.flags|=98560,a=!1;else if(a=fo(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(o(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(o(317));a[di]=t}else po(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ks(t),a=!1}else null!==oo&&(al(oo),oo=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ua.current)?0===Pu&&(Pu=3):vl())),null!==t.updateQueue&&(t.flags|=4),Ks(t),null);case 4:return oa(),null===e&&Gr(t.stateNode.containerInfo),Ks(t),null;case 10:return xo(t.type._context),Ks(t),null;case 19:if(_i(ua),null===(a=t.memoizedState))return Ks(t),null;if(r=0!==(128&t.flags),null===(u=a.rendering))if(r)Ws(a,!1);else{if(0!==Pu||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(u=la(e))){for(t.flags|=128,Ws(a,!1),null!==(r=u.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ua,1&ua.current|2),t.child}e=e.sibling}null!==a.tail&&Qe()>Gu&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(u))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ws(a,!0),null===a.tail&&"hidden"===a.tailMode&&!u.alternate&&!io)return Ks(t),null}else 2*Qe()-a.renderingStartTime>Gu&&1073741824!==n&&(t.flags|=128,r=!0,Ws(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=a.last)?n.sibling=u:t.child=u,a.last=u)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Qe(),t.sibling=null,n=ua.current,ki(ua,r?1&n|2:1&n),t):(Ks(t),null);case 22:case 23:return fl(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Lu)&&(Ks(t),6&t.subtreeFlags&&(t.flags|=8192)):Ks(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function Ys(e,t){switch(to(t),t.tag){case 1:return Li(t.type)&&Di(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return oa(),_i(Oi),_i(Ci),fa(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return sa(t),null;case 13:if(_i(ua),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));po()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(ua),null;case 4:return oa(),null;case 10:return xo(t.type._context),null;case 22:case 23:return fl(),null;default:return null}}Ls=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ds=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,ra(ea.current);var o,a=null;switch(n){case"input":i=$(e,i),r=$(e,r),a=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(c in ye(n,r),n=null,i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&null!=i[c])if("style"===c){var u=i[c];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(s.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var l=r[c];if(u=null!=i?i[c]:void 0,r.hasOwnProperty(c)&&l!==u&&(null!=l||null!=u))if("style"===c)if(u){for(o in u)!u.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&u[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(c,n)),n=l;else"dangerouslySetInnerHTML"===c?(l=l?l.__html:void 0,u=u?u.__html:void 0,null!=l&&u!==l&&(a=a||[]).push(c,l)):"children"===c?"string"!==typeof l&&"number"!==typeof l||(a=a||[]).push(c,""+l):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(s.hasOwnProperty(c)?(null!=l&&"onScroll"===c&&Ur("scroll",e),a||u===l||(a=[])):(a=a||[]).push(c,l))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}},Ps=function(e,t,n,r){n!==r&&(t.flags|=4)};var $s=!1,Xs=!1,Qs="function"===typeof WeakSet?WeakSet:Set,Js=null;function Zs(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Tl(e,t,r)}else n.current=null}function eu(e,t,n){try{n()}catch(r){Tl(e,t,r)}}var tu=!1;function nu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&eu(t,n,o)}i=i.next}while(i!==r)}}function ru(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function iu(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ou(e){var t=e.alternate;null!==t&&(e.alternate=null,ou(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[vi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function au(e){return 5===e.tag||3===e.tag||4===e.tag}function su(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||au(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function uu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(uu(e,t,n),e=e.sibling;null!==e;)uu(e,t,n),e=e.sibling}function lu(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(lu(e,t,n),e=e.sibling;null!==e;)lu(e,t,n),e=e.sibling}var cu=null,fu=!1;function du(e,t,n){for(n=n.child;null!==n;)hu(e,t,n),n=n.sibling}function hu(e,t,n){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,n)}catch(s){}switch(n.tag){case 5:Xs||Zs(n,t);case 6:var r=cu,i=fu;cu=null,du(e,t,n),fu=i,null!==(cu=r)&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cu.removeChild(n.stateNode));break;case 18:null!==cu&&(fu?(e=cu,n=n.stateNode,8===e.nodeType?ui(e.parentNode,n):1===e.nodeType&&ui(e,n),Gt(e)):ui(cu,n.stateNode));break;case 4:r=cu,i=fu,cu=n.stateNode.containerInfo,fu=!0,du(e,t,n),cu=r,fu=i;break;case 0:case 11:case 14:case 15:if(!Xs&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var o=i,a=o.destroy;o=o.tag,void 0!==a&&(0!==(2&o)||0!==(4&o))&&eu(n,t,a),i=i.next}while(i!==r)}du(e,t,n);break;case 1:if(!Xs&&(Zs(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Tl(n,t,s)}du(e,t,n);break;case 21:du(e,t,n);break;case 22:1&n.mode?(Xs=(r=Xs)||null!==n.memoizedState,du(e,t,n),Xs=r):du(e,t,n);break;default:du(e,t,n)}}function pu(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qs),t.forEach((function(t){var r=Cl.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vu(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,u=s;e:for(;null!==u;){switch(u.tag){case 5:cu=u.stateNode,fu=!1;break e;case 3:case 4:cu=u.stateNode.containerInfo,fu=!0;break e}u=u.return}if(null===cu)throw Error(o(160));hu(a,s,i),cu=null,fu=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(c){Tl(i,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gu(t,e),t=t.sibling}function gu(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vu(t,e),mu(e),4&r){try{nu(3,e,e.return),ru(3,e)}catch(g){Tl(e,e.return,g)}try{nu(5,e,e.return)}catch(g){Tl(e,e.return,g)}}break;case 1:vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return);break;case 5:if(vu(t,e),mu(e),512&r&&null!==n&&Zs(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Tl(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,s=null!==n?n.memoizedProps:a,u=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===u&&"radio"===a.type&&null!=a.name&&Q(i,a),be(u,s);var c=be(u,a);for(s=0;s<l.length;s+=2){var f=l[s],d=l[s+1];"style"===f?ge(i,d):"dangerouslySetInnerHTML"===f?fe(i,d):"children"===f?de(i,d):b(i,f,d,c)}switch(u){case"input":J(i,a);break;case"textarea":oe(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var p=a.value;null!=p?ne(i,!!a.multiple,p,!1):h!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[hi]=a}catch(g){Tl(e,e.return,g)}}break;case 6:if(vu(t,e),mu(e),4&r){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Tl(e,e.return,g)}}break;case 3:if(vu(t,e),mu(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Gt(t.containerInfo)}catch(g){Tl(e,e.return,g)}break;case 4:default:vu(t,e),mu(e);break;case 13:vu(t,e),mu(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Hu=Qe())),4&r&&pu(e);break;case 22:if(f=null!==n&&null!==n.memoizedState,1&e.mode?(Xs=(c=Xs)||f,vu(t,e),Xs=c):vu(t,e),mu(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!f&&0!==(1&e.mode))for(Js=e,f=e.child;null!==f;){for(d=Js=f;null!==Js;){switch(p=(h=Js).child,h.tag){case 0:case 11:case 14:case 15:nu(4,h,h.return);break;case 1:Zs(h,h.return);var v=h.stateNode;if("function"===typeof v.componentWillUnmount){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){Tl(r,n,g)}}break;case 5:Zs(h,h.return);break;case 22:if(null!==h.memoizedState){Eu(d);continue}}null!==p?(p.return=h,Js=p):Eu(d)}f=f.sibling}e:for(f=null,d=e;;){if(5===d.tag){if(null===f){f=d;try{i=d.stateNode,c?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(u=d.stateNode,s=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,u.style.display=ve("display",s))}catch(g){Tl(e,e.return,g)}}}else if(6===d.tag){if(null===f)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){Tl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:vu(t,e),mu(e),4&r&&pu(e);case 21:}}function mu(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(au(n)){var r=n;break e}n=n.return}throw Error(o(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),lu(e,su(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;uu(e,su(e),a);break;default:throw Error(o(161))}}catch(s){Tl(e,e.return,s)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yu(e,t,n){Js=e,bu(e,t,n)}function bu(e,t,n){for(var r=0!==(1&e.mode);null!==Js;){var i=Js,o=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||$s;if(!a){var s=i.alternate,u=null!==s&&null!==s.memoizedState||Xs;s=$s;var l=Xs;if($s=a,(Xs=u)&&!l)for(Js=i;null!==Js;)u=(a=Js).child,22===a.tag&&null!==a.memoizedState?Su(i):null!==u?(u.return=a,Js=u):Su(i);for(;null!==o;)Js=o,bu(o,t,n),o=o.sibling;Js=i,$s=s,Xs=l}wu(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Js=o):wu(e)}}function wu(e){for(;null!==Js;){var t=Js;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xs||ru(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xs)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:mo(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Uo(t,a,r);break;case 3:var s=t.updateQueue;if(null!==s){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Uo(t,s,n)}break;case 5:var u=t.stateNode;if(null===n&&4&t.flags){n=u;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var f=c.memoizedState;if(null!==f){var d=f.dehydrated;null!==d&&Gt(d)}}}break;default:throw Error(o(163))}Xs||512&t.flags&&iu(t)}catch(h){Tl(t,t.return,h)}}if(t===e){Js=null;break}if(null!==(n=t.sibling)){n.return=t.return,Js=n;break}Js=t.return}}function Eu(e){for(;null!==Js;){var t=Js;if(t===e){Js=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Js=n;break}Js=t.return}}function Su(e){for(;null!==Js;){var t=Js;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ru(4,t)}catch(u){Tl(t,n,u)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(u){Tl(t,i,u)}}var o=t.return;try{iu(t)}catch(u){Tl(t,o,u)}break;case 5:var a=t.return;try{iu(t)}catch(u){Tl(t,a,u)}}}catch(u){Tl(t,t.return,u)}if(t===e){Js=null;break}var s=t.sibling;if(null!==s){s.return=t.return,Js=s;break}Js=t.return}}var xu,Tu=Math.ceil,_u=w.ReactCurrentDispatcher,ku=w.ReactCurrentOwner,Au=w.ReactCurrentBatchConfig,Cu=0,Ou=null,Iu=null,Ru=0,Lu=0,Du=Ti(0),Pu=0,Nu=null,Mu=0,ju=0,Fu=0,Uu=null,Bu=null,Hu=0,Gu=1/0,Vu=null,zu=!1,Wu=null,Ku=null,qu=!1,Yu=null,$u=0,Xu=0,Qu=null,Ju=-1,Zu=0;function el(){return 0!==(6&Cu)?Qe():-1!==Ju?Ju:Ju=Qe()}function tl(e){return 0===(1&e.mode)?1:0!==(2&Cu)&&0!==Ru?Ru&-Ru:null!==go.transition?(0===Zu&&(Zu=vt()),Zu):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Xt(e.type)}function nl(e,t,n,r){if(50<Xu)throw Xu=0,Qu=null,Error(o(185));mt(e,n,r),0!==(2&Cu)&&e===Ou||(e===Ou&&(0===(2&Cu)&&(ju|=n),4===Pu&&sl(e,Ru)),rl(e,r),1===n&&0===Cu&&0===(1&t.mode)&&(Gu=Qe()+500,Ui&&Gi()))}function rl(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var a=31-at(o),s=1<<a,u=i[a];-1===u?0!==(s&n)&&0===(s&r)||(i[a]=ht(s,t)):u<=t&&(e.expiredLanes|=s),o&=~s}}(e,t);var r=dt(e,e===Ou?Ru:0);if(0===r)null!==n&&Ye(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ye(n),1===t)0===e.tag?function(e){Ui=!0,Hi(e)}(ul.bind(null,e)):Hi(ul.bind(null,e)),ai((function(){0===(6&Cu)&&Gi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ol(n,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function il(e,t){if(Ju=-1,Zu=0,0!==(6&Cu))throw Error(o(327));var n=e.callbackNode;if(Sl()&&e.callbackNode!==n)return null;var r=dt(e,e===Ou?Ru:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gl(e,r);else{t=r;var i=Cu;Cu|=2;var a=pl();for(Ou===e&&Ru===t||(Vu=null,Gu=Qe()+500,dl(e,t));;)try{yl();break}catch(u){hl(e,u)}So(),_u.current=a,Cu=i,null!==Iu?t=0:(Ou=null,Ru=0,t=Pu)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ol(e,i))),1===t)throw n=Nu,dl(e,0),sl(e,r),rl(e,Qe()),n;if(6===t)sl(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!sr(o(),i))return!1}catch(s){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,r))&&(0!==(a=pt(e))&&(r=a,t=ol(e,a))),1===t))throw n=Nu,dl(e,0),sl(e,r),rl(e,Qe()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(o(345));case 2:case 5:El(e,Bu,Vu);break;case 3:if(sl(e,r),(130023424&r)===r&&10<(t=Hu+500-Qe())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(El.bind(null,e,Bu,Vu),t);break}El(e,Bu,Vu);break;case 4:if(sl(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-at(r);a=1<<s,(s=t[s])>i&&(i=s),r&=~a}if(r=i,10<(r=(120>(r=Qe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Tu(r/1960))-r)){e.timeoutHandle=ri(El.bind(null,e,Bu,Vu),r);break}El(e,Bu,Vu);break;default:throw Error(o(329))}}}return rl(e,Qe()),e.callbackNode===n?il.bind(null,e):null}function ol(e,t){var n=Uu;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Bu,Bu=n,null!==t&&al(t)),e}function al(e){null===Bu?Bu=e:Bu.push.apply(Bu,e)}function sl(e,t){for(t&=~Fu,t&=~ju,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function ul(e){if(0!==(6&Cu))throw Error(o(327));Sl();var t=dt(e,0);if(0===(1&t))return rl(e,Qe()),null;var n=gl(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ol(e,r))}if(1===n)throw n=Nu,dl(e,0),sl(e,t),rl(e,Qe()),n;if(6===n)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,El(e,Bu,Vu),rl(e,Qe()),null}function ll(e,t){var n=Cu;Cu|=1;try{return e(t)}finally{0===(Cu=n)&&(Gu=Qe()+500,Ui&&Gi())}}function cl(e){null!==Yu&&0===Yu.tag&&0===(6&Cu)&&Sl();var t=Cu;Cu|=1;var n=Au.transition,r=bt;try{if(Au.transition=null,bt=1,e)return e()}finally{bt=r,Au.transition=n,0===(6&(Cu=t))&&Gi()}}function fl(){Lu=Du.current,_i(Du)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Iu)for(n=Iu.return;null!==n;){var r=n;switch(to(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Di();break;case 3:oa(),_i(Oi),_i(Ci),fa();break;case 5:sa(r);break;case 4:oa();break;case 13:case 19:_i(ua);break;case 10:xo(r.type._context);break;case 22:case 23:fl()}n=n.return}if(Ou=e,Iu=e=Dl(e.current,null),Ru=Lu=t,Pu=0,Nu=null,Fu=ju=Mu=0,Bu=Uu=null,null!==Ao){for(t=0;t<Ao.length;t++)if(null!==(r=(n=Ao[t]).interleaved)){n.interleaved=null;var i=r.next,o=n.pending;if(null!==o){var a=o.next;o.next=i,r.next=a}n.pending=r}Ao=null}return e}function hl(e,t){for(;;){var n=Iu;try{if(So(),da.current=as,ya){for(var r=va.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ya=!1}if(pa=0,ma=ga=va=null,ba=!1,wa=0,ku.current=null,null===n||null===n.return){Pu=1,Nu=t,Iu=null;break}e:{var a=e,s=n.return,u=n,l=t;if(t=Ru,u.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var c=l,f=u,d=f.tag;if(0===(1&f.mode)&&(0===d||11===d||15===d)){var h=f.alternate;h?(f.updateQueue=h.updateQueue,f.memoizedState=h.memoizedState,f.lanes=h.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=ms(s);if(null!==p){p.flags&=-257,ys(p,s,u,0,t),1&p.mode&&gs(a,c,t),l=c;var v=(t=p).updateQueue;if(null===v){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}if(0===(1&t)){gs(a,c,t),vl();break e}l=Error(o(426))}else if(io&&1&u.mode){var m=ms(s);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ys(m,s,u,0,t),vo(cs(l,u));break e}}a=l=cs(l,u),4!==Pu&&(Pu=2),null===Uu?Uu=[a]:Uu.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,jo(a,ps(0,l,t));break e;case 1:u=l;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Ku||!Ku.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,jo(a,vs(a,u,t));break e}}a=a.return}while(null!==a)}wl(n)}catch(w){t=w,Iu===n&&null!==n&&(Iu=n=n.return);continue}break}}function pl(){var e=_u.current;return _u.current=as,null===e?as:e}function vl(){0!==Pu&&3!==Pu&&2!==Pu||(Pu=4),null===Ou||0===(268435455&Mu)&&0===(268435455&ju)||sl(Ou,Ru)}function gl(e,t){var n=Cu;Cu|=2;var r=pl();for(Ou===e&&Ru===t||(Vu=null,dl(e,t));;)try{ml();break}catch(i){hl(e,i)}if(So(),Cu=n,_u.current=r,null!==Iu)throw Error(o(261));return Ou=null,Ru=0,Pu}function ml(){for(;null!==Iu;)bl(Iu)}function yl(){for(;null!==Iu&&!$e();)bl(Iu)}function bl(e){var t=xu(e.alternate,e,Lu);e.memoizedProps=e.pendingProps,null===t?wl(e):Iu=t,ku.current=null}function wl(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qs(n,t,Lu)))return void(Iu=n)}else{if(null!==(n=Ys(n,t)))return n.flags&=32767,void(Iu=n);if(null===e)return Pu=6,void(Iu=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Iu=t);Iu=t=e}while(null!==t);0===Pu&&(Pu=5)}function El(e,t,n){var r=bt,i=Au.transition;try{Au.transition=null,bt=1,function(e,t,n,r){do{Sl()}while(null!==Yu);if(0!==(6&Cu))throw Error(o(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}(e,a),e===Ou&&(Iu=Ou=null,Ru=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||qu||(qu=!0,Ol(tt,(function(){return Sl(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Au.transition,Au.transition=null;var s=bt;bt=1;var u=Cu;Cu|=4,ku.current=null,function(e,t){if(ei=zt,hr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(E){n=null;break e}var s=0,u=-1,l=-1,c=0,f=0,d=e,h=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(u=s+i),d!==a||0!==r&&3!==d.nodeType||(l=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(p=d.firstChild);)h=d,d=p;for(;;){if(d===e)break t;if(h===n&&++c===i&&(u=s),h===a&&++f===r&&(l=s),null!==(p=d.nextSibling))break;h=(d=h).parentNode}d=p}n=-1===u||-1===l?null:{start:u,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},zt=!1,Js=t;null!==Js;)if(e=(t=Js).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Js=e;else for(;null!==Js;){t=Js;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var g=v.memoizedProps,m=v.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:mo(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(o(163))}}catch(E){Tl(t,t.return,E)}if(null!==(e=t.sibling)){e.return=t.return,Js=e;break}Js=t.return}v=tu,tu=!1}(e,n),gu(n,e),pr(ti),zt=!!ei,ti=ei=null,e.current=n,yu(n,e,i),Xe(),Cu=u,bt=s,Au.transition=a}else e.current=n;if(qu&&(qu=!1,Yu=e,$u=i),0===(a=e.pendingLanes)&&(Ku=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rl(e,Qe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(zu)throw zu=!1,e=Wu,Wu=null,e;0!==(1&$u)&&0!==e.tag&&Sl(),0!==(1&(a=e.pendingLanes))?e===Qu?Xu++:(Xu=0,Qu=e):Xu=0,Gi()}(e,t,n,r)}finally{Au.transition=i,bt=r}return null}function Sl(){if(null!==Yu){var e=wt($u),t=Au.transition,n=bt;try{if(Au.transition=null,bt=16>e?16:e,null===Yu)var r=!1;else{if(e=Yu,Yu=null,$u=0,0!==(6&Cu))throw Error(o(331));var i=Cu;for(Cu|=4,Js=e.current;null!==Js;){var a=Js,s=a.child;if(0!==(16&Js.flags)){var u=a.deletions;if(null!==u){for(var l=0;l<u.length;l++){var c=u[l];for(Js=c;null!==Js;){var f=Js;switch(f.tag){case 0:case 11:case 15:nu(8,f,a)}var d=f.child;if(null!==d)d.return=f,Js=d;else for(;null!==Js;){var h=(f=Js).sibling,p=f.return;if(ou(f),f===c){Js=null;break}if(null!==h){h.return=p,Js=h;break}Js=p}}}var v=a.alternate;if(null!==v){var g=v.child;if(null!==g){v.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Js=a}}if(0!==(2064&a.subtreeFlags)&&null!==s)s.return=a,Js=s;else e:for(;null!==Js;){if(0!==(2048&(a=Js).flags))switch(a.tag){case 0:case 11:case 15:nu(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Js=y;break e}Js=a.return}}var b=e.current;for(Js=b;null!==Js;){var w=(s=Js).child;if(0!==(2064&s.subtreeFlags)&&null!==w)w.return=s,Js=w;else e:for(s=b;null!==Js;){if(0!==(2048&(u=Js).flags))try{switch(u.tag){case 0:case 11:case 15:ru(9,u)}}catch(S){Tl(u,u.return,S)}if(u===s){Js=null;break e}var E=u.sibling;if(null!==E){E.return=u.return,Js=E;break e}Js=u.return}}if(Cu=i,Gi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Au.transition=t}}return!1}function xl(e,t,n){e=No(e,t=ps(0,t=cs(n,t),1),1),t=el(),null!==e&&(mt(e,1,t),rl(e,t))}function Tl(e,t,n){if(3===e.tag)xl(e,e,n);else for(;null!==t;){if(3===t.tag){xl(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ku||!Ku.has(r))){t=No(t,e=vs(t,e=cs(n,e),1),1),e=el(),null!==t&&(mt(t,1,e),rl(t,e));break}}t=t.return}}function _l(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&n,Ou===e&&(Ru&n)===n&&(4===Pu||3===Pu&&(130023424&Ru)===Ru&&500>Qe()-Hu?dl(e,0):Fu|=n),rl(e,t)}function kl(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=el();null!==(e=Io(e,t))&&(mt(e,t,n),rl(e,n))}function Al(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),kl(e,n)}function Cl(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(o(314))}null!==r&&r.delete(t),kl(e,n)}function Ol(e,t){return qe(e,t)}function Il(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rl(e,t,n,r){return new Il(e,t,n,r)}function Ll(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Dl(e,t){var n=e.alternate;return null===n?((n=Rl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Pl(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ll(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case x:return Nl(n.children,i,a,t);case T:s=8,i|=8;break;case _:return(e=Rl(12,n,t,2|i)).elementType=_,e.lanes=a,e;case O:return(e=Rl(13,n,t,i)).elementType=O,e.lanes=a,e;case I:return(e=Rl(19,n,t,i)).elementType=I,e.lanes=a,e;case D:return Ml(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:s=10;break e;case A:s=9;break e;case C:s=11;break e;case R:s=14;break e;case L:s=16,r=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Rl(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Nl(e,t,n,r){return(e=Rl(7,e,r,t)).lanes=n,e}function Ml(e,t,n,r){return(e=Rl(22,e,r,t)).elementType=D,e.lanes=n,e.stateNode={isHidden:!1},e}function jl(e,t,n){return(e=Rl(6,e,null,t)).lanes=n,e}function Fl(e,t,n){return(t=Rl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ul(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,n,r,i,o,a,s,u){return e=new Ul(e,t,n,s,u),1===t?(t=1,!0===o&&(t|=8)):t=0,o=Rl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Hl(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function Gl(e){if(!e)return Ai;e:{if(Ge(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Li(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var n=e.type;if(Li(n))return Ni(e,n,t)}return t}function Vl(e,t,n,r,i,o,a,s,u){return(e=Bl(n,r,!0,e,0,o,0,s,u)).context=Gl(null),n=e.current,(o=Po(r=el(),i=tl(n))).callback=void 0!==t&&null!==t?t:null,No(n,o,i),e.current.lanes=i,mt(e,i,r),rl(e,r),e}function zl(e,t,n,r){var i=t.current,o=el(),a=tl(i);return n=Gl(n),null===t.context?t.context=n:t.pendingContext=n,(t=Po(o,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=No(i,t,a))&&(nl(e,i,a,o),Mo(e,i,a)),a}function Wl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ql(e,t){Kl(e,t),(e=e.alternate)&&Kl(e,t)}xu=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Oi.current)ws=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ws=!1,function(e,t,n){switch(t.tag){case 3:Is(t),po();break;case 5:aa(t);break;case 1:Li(t.type)&&Mi(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(yo,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ua,1&ua.current),t.flags|=128,null):0!==(n&t.child.childLanes)?js(e,t,n):(ki(ua,1&ua.current),null!==(e=zs(e,t,n))?e.sibling:null);ki(ua,1&ua.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Gs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,_s(e,t,n)}return zs(e,t,n)}(e,t,n);ws=0!==(131072&e.flags)}else ws=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vs(e,t),e=t.pendingProps;var i=Ri(t,Ci.current);_o(t,n),i=Ta(null,t,r,e,i,n);var a=_a();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Li(r)?(a=!0,Mi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=Go,t.stateNode=i,i._reactInternals=t,Ko(t,r,e,n),t=Os(null,t,r,!0,a,n)):(t.tag=0,io&&a&&eo(t),Es(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vs(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Ll(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===R)return 14}return 2}(r),e=mo(r,e),i){case 0:t=As(null,t,r,e,n);break e;case 1:t=Cs(null,t,r,e,n);break e;case 11:t=Ss(null,t,r,e,n);break e;case 14:t=xs(null,t,r,mo(r.type,e),n);break e}throw Error(o(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,As(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 1:return r=t.type,i=t.pendingProps,Cs(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 3:e:{if(Is(t),null===e)throw Error(o(387));r=t.pendingProps,i=(a=t.memoizedState).element,Do(e,t),Fo(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Rs(e,t,r,n,i=cs(Error(o(423)),t));break e}if(r!==i){t=Rs(e,t,r,n,i=cs(Error(o(424)),t));break e}for(ro=li(t.stateNode.containerInfo.firstChild),no=t,io=!0,oo=null,n=Jo(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(po(),r===i){t=zs(e,t,n);break e}Es(e,t,r,n)}t=t.child}return t;case 5:return aa(t),null===e&&lo(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,ni(r,i)?s=null:null!==a&&ni(r,a)&&(t.flags|=32),ks(e,t),Es(e,t,s,n),t.child;case 6:return null===e&&lo(t),null;case 13:return js(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Qo(t,null,r,n):Es(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ss(e,t,r,i=t.elementType===r?i:mo(r,i),n);case 7:return Es(e,t,t.pendingProps,n),t.child;case 8:case 12:return Es(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,ki(yo,r._currentValue),r._currentValue=s,null!==a)if(sr(a.value,s)){if(a.children===i.children&&!Oi.current){t=zs(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var u=a.dependencies;if(null!==u){s=a.child;for(var l=u.firstContext;null!==l;){if(l.context===r){if(1===a.tag){(l=Po(-1,n&-n)).tag=2;var c=a.updateQueue;if(null!==c){var f=(c=c.shared).pending;null===f?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),To(a.return,n,t),u.lanes|=n;break}l=l.next}}else if(10===a.tag)s=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(s=a.return))throw Error(o(341));s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),To(s,n,t),s=a.sibling}else s=a.child;if(null!==s)s.return=a;else for(s=a;null!==s;){if(s===t){s=null;break}if(null!==(a=s.sibling)){a.return=s.return,s=a;break}s=s.return}a=s}Es(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,_o(t,n),r=r(i=ko(i)),t.flags|=1,Es(e,t,r,n),t.child;case 14:return i=mo(r=t.type,t.pendingProps),xs(e,t,r,i=mo(r.type,i),n);case 15:return Ts(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:mo(r,i),Vs(e,t),t.tag=1,Li(r)?(e=!0,Mi(t)):e=!1,_o(t,n),zo(t,r,i),Ko(t,r,i,n),Os(null,t,r,!0,e,n);case 19:return Gs(e,t,n);case 22:return _s(e,t,n)}throw Error(o(156,t.tag))};var Yl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Xl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zl(){}function ec(e,t,n,r,i){var o=n._reactRootContainer;if(o){var a=o;if("function"===typeof i){var s=i;i=function(){var e=Wl(a);s.call(e)}}zl(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var o=r;r=function(){var e=Wl(a);o.call(e)}}var a=Vl(t,r,e,0,null,!1,0,"",Zl);return e._reactRootContainer=a,e[pi]=a.current,Gr(8===e.nodeType?e.parentNode:e),cl(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var s=r;r=function(){var e=Wl(u);s.call(e)}}var u=Bl(e,0,!1,null,0,!1,0,"",Zl);return e._reactRootContainer=u,e[pi]=u.current,Gr(8===e.nodeType?e.parentNode:e),cl((function(){zl(t,u,n,r)})),u}(n,t,e,i,r);return Wl(a)}Xl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));zl(e,t,null,null)},Xl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cl((function(){zl(null,e,null,null)})),t[pi]=null}},Xl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Tt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Dt.length&&0!==t&&t<Dt[n].priority;n++);Dt.splice(n,0,e),0===n&&jt(e)}},Et=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(yt(t,1|n),rl(t,Qe()),0===(6&Cu)&&(Gu=Qe()+500,Gi()))}break;case 13:cl((function(){var t=Io(e,1);if(null!==t){var n=el();nl(t,e,1,n)}})),ql(e,1)}},St=function(e){if(13===e.tag){var t=Io(e,134217728);if(null!==t)nl(t,e,134217728,el());ql(e,134217728)}},xt=function(e){if(13===e.tag){var t=tl(e),n=Io(e,t);if(null!==n)nl(n,e,t,el());ql(e,t)}},Tt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Ei(r);if(!i)throw Error(o(90));q(r),J(r,i)}}}break;case"textarea":oe(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=ll,Oe=cl;var tc={usingClientEntryPoint:!1,Events:[bi,wi,Ei,ke,Ae,ll]},nc={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},rc={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ic.isDisabled&&ic.supportsFiber)try{it=ic.inject(rc),ot=ic}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tc,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return Hl(e,t,null,n)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var n=!1,r="",i=Yl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Gr(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return cl(e)},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Ql(e))throw Error(o(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",s=Yl;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(s=n.onRecoverableError)),t=Vl(t,null,e,1,null!=n?n:null,i,0,a,s),e[pi]=t.current,Gr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Xl(t)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return ec(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(cl((function(){ec(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ec(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},1250:function(e,t,n){"use strict";var r=n(4164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4463)},6374:function(e,t,n){"use strict";var r=n(2791),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,o={},l=null,c=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!u.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:i,type:e,key:l,ref:c,props:o,_owner:s.current}}t.Fragment=o,t.jsx=l,t.jsxs=l},9117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,g={};function m(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var w=b.prototype=new y;w.constructor=b,v(w,m.prototype),w.isPureReactComponent=!0;var E=Array.isArray,S=Object.prototype.hasOwnProperty,x={current:null},T={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,o={},a=null,s=null;if(null!=t)for(i in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!T.hasOwnProperty(i)&&(o[i]=t[i]);var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}if(e&&e.defaultProps)for(i in u=e.defaultProps)void 0===o[i]&&(o[i]=u[i]);return{$$typeof:n,type:e,key:a,ref:s,props:o,_owner:x.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var A=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0}}if(u)return a=a(u=e),e=""===o?"."+C(u,0):o,E(a)?(i="",null!=e&&(i=e.replace(A,"$&/")+"/"),O(a,t,i,"",(function(e){return e}))):null!=a&&(k(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||u&&u.key===a.key?"":(""+a.key).replace(A,"$&/")+"/")+e)),t.push(a)),1;if(u=0,o=""===o?".":o+":",E(e))for(var l=0;l<e.length;l++){var c=o+C(s=e[l],l);u+=O(s,t,i,c,a)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),l=0;!(s=e.next()).done;)u+=O(s=s.value,t,i,c=o+C(s,l++),a);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return O(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var L={current:null},D={transition:null},P={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:D,ReactCurrentOwner:x};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=o,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),o=e.key,a=e.ref,s=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,s=x.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(l in t)S.call(t,l)&&!T.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==u?u[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){u=Array(l);for(var c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}return{$$typeof:n,type:e.type,key:o,ref:a,props:i,_owner:s}},t.createContext=function(e){return(e={$$typeof:u,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:s,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=D.transition;D.transition={};try{e()}finally{D.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return L.current.useCallback(e,t)},t.useContext=function(e){return L.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return L.current.useDeferredValue(e)},t.useEffect=function(e,t){return L.current.useEffect(e,t)},t.useId=function(){return L.current.useId()},t.useImperativeHandle=function(e,t,n){return L.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return L.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return L.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return L.current.useMemo(e,t)},t.useReducer=function(e,t,n){return L.current.useReducer(e,t,n)},t.useRef=function(e){return L.current.useRef(e)},t.useState=function(e){return L.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return L.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return L.current.useTransition()},t.version="18.2.0"},2791:function(e,t,n){"use strict";e.exports=n(9117)},184:function(e,t,n){"use strict";e.exports=n(6374)},6813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,u=e[s],l=s+1,c=e[l];if(0>o(u,n))l<i&&0>o(c,u)?(e[r]=c,e[l]=n,r=l):(e[r]=u,e[s]=n,r=s);else{if(!(l<i&&0>o(c,n)))break e;e[r]=c,e[l]=n,r=l}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}var l=[],c=[],f=1,d=null,h=3,p=!1,v=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)i(c);else{if(!(t.startTime<=e))break;i(c),t.sortIndex=t.expirationTime,n(l,t)}t=r(c)}}function E(e){if(g=!1,w(e),!v)if(null!==r(l))v=!0,D(S);else{var t=r(c);null!==t&&P(E,t.startTime-e)}}function S(e,n){v=!1,g&&(g=!1,y(k),k=-1),p=!0;var o=h;try{for(w(n),d=r(l);null!==d&&(!(d.expirationTime>n)||e&&!O());){var a=d.callback;if("function"===typeof a){d.callback=null,h=d.priorityLevel;var s=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?d.callback=s:d===r(l)&&i(l),w(n)}else i(l);d=r(l)}if(null!==d)var u=!0;else{var f=r(c);null!==f&&P(E,f.startTime-n),u=!1}return u}finally{d=null,h=o,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var x,T=!1,_=null,k=-1,A=5,C=-1;function O(){return!(t.unstable_now()-C<A)}function I(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?x():(T=!1,_=null)}}else T=!1}if("function"===typeof b)x=function(){b(I)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,L=R.port2;R.port1.onmessage=I,x=function(){L.postMessage(null)}}else x=function(){m(I,0)};function D(e){_=e,T||(T=!0,x())}function P(e,n){k=m((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,D(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var n=h;h=t;try{return e()}finally{h=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=h;h=e;try{return t()}finally{h=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(c,e),null===r(l)&&e===r(c)&&(g?(y(k),k=-1):g=!0,P(E,o-a))):(e.sortIndex=s,n(l,e),v||p||(v=!0,D(S))),e},t.unstable_shouldYield=O,t.unstable_wrapCallback=function(e){var t=h;return function(){var n=h;h=t;try{return e.apply(this,arguments)}finally{h=n}}}},5296:function(e,t,n){"use strict";e.exports=n(6813)},9388:function(e,t,n){"use strict";n.r(t),n.d(t,{__assign:function(){return o},__asyncDelegator:function(){return w},__asyncGenerator:function(){return b},__asyncValues:function(){return E},__await:function(){return y},__awaiter:function(){return c},__classPrivateFieldGet:function(){return _},__classPrivateFieldSet:function(){return k},__createBinding:function(){return d},__decorate:function(){return s},__exportStar:function(){return h},__extends:function(){return i},__generator:function(){return f},__importDefault:function(){return T},__importStar:function(){return x},__makeTemplateObject:function(){return S},__metadata:function(){return l},__param:function(){return u},__read:function(){return v},__rest:function(){return a},__spread:function(){return g},__spreadArrays:function(){return m},__values:function(){return p}});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},o.apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function s(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a}function u(e,t){return function(n,r){t(n,r,e)}}function l(e,t){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(e,t)}function c(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(t){o(t)}}function s(e){try{u(r.throw(e))}catch(t){o(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function f(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}function d(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}function h(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||(t[n]=e[n])}function p(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function v(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function g(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(v(arguments[t]));return e}function m(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r}function y(e){return this instanceof y?(this.v=e,this):new y(e)}function b(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=n.apply(e,t||[]),o=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){i[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{(n=i[e](t)).value instanceof y?Promise.resolve(n.value.v).then(u,l):c(o[0][2],n)}catch(r){c(o[0][3],r)}var n}function u(e){s("next",e)}function l(e){s("throw",e)}function c(e,t){e(t),o.shift(),o.length&&s(o[0][0],o[0][1])}}function w(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,i){t[r]=e[r]?function(t){return(n=!n)?{value:y(e[r](t)),done:"return"===r}:i?i(t):t}:i}}function E(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,i,(t=e[n](t)).done,t.value)}))}}}function S(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function x(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function T(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function k(e,t,n){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,n),n}},4175:function(e,t,n){"use strict";function r(e,t){return t=t||{},new Promise((function(n,r){var i=new XMLHttpRequest,o=[],a=[],s={},u=function e(){return{ok:2==(i.status/100|0),statusText:i.statusText,status:i.status,url:i.responseURL,text:function(){return Promise.resolve(i.responseText)},json:function(){return Promise.resolve(i.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([i.response]))},clone:e,headers:{keys:function(){return o},entries:function(){return a},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in i.open(t.method||"get",e,!0),i.onload=function(){i.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(e,t,n){o.push(t=t.toLowerCase()),a.push([t,n]),s[t]=s[t]?s[t]+","+n:n})),n(u())},i.onerror=r,i.withCredentials="include"==t.credentials,t.headers)i.setRequestHeader(l,t.headers[l]);i.send(t.body||null)}))}n.r(t),n.d(t,{default:function(){return r}})},4940:function(e,t){"use strict";t.Q=function(e,t){if("string"!==typeof e)throw new TypeError("argument str must be a string");for(var r={},i=t||{},a=e.split(";"),s=i.decode||n,u=0;u<a.length;u++){var l=a[u],c=l.indexOf("=");if(!(c<0)){var f=l.substring(0,c).trim();if(void 0==r[f]){var d=l.substring(c+1,l.length).trim();'"'===d[0]&&(d=d.slice(1,-1)),r[f]=o(d,s)}}}return r},t.q=function(e,t,n){var o=n||{},a=o.encode||r;if("function"!==typeof a)throw new TypeError("option encode is invalid");if(!i.test(e))throw new TypeError("argument name is invalid");var s=a(t);if(s&&!i.test(s))throw new TypeError("argument val is invalid");var u=e+"="+s;if(null!=o.maxAge){var l=o.maxAge-0;if(isNaN(l)||!isFinite(l))throw new TypeError("option maxAge is invalid");u+="; Max-Age="+Math.floor(l)}if(o.domain){if(!i.test(o.domain))throw new TypeError("option domain is invalid");u+="; Domain="+o.domain}if(o.path){if(!i.test(o.path))throw new TypeError("option path is invalid");u+="; Path="+o.path}if(o.expires){if("function"!==typeof o.expires.toUTCString)throw new TypeError("option expires is invalid");u+="; Expires="+o.expires.toUTCString()}o.httpOnly&&(u+="; HttpOnly");o.secure&&(u+="; Secure");if(o.sameSite){switch("string"===typeof o.sameSite?o.sameSite.toLowerCase():o.sameSite){case!0:u+="; SameSite=Strict";break;case"lax":u+="; SameSite=Lax";break;case"strict":u+="; SameSite=Strict";break;case"none":u+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return u};var n=decodeURIComponent,r=encodeURIComponent,i=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function o(e,t){try{return t(e)}catch(n){return e}}},6369:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof n.g&&n.g;o.global!==o&&o.window!==o&&o.self;var a,s=2147483647,u=36,l=/^xn--/,c=/[^\x20-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,p=String.fromCharCode;function v(e){throw RangeError(d[e])}function g(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+g((e=e.replace(f,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function b(e){return g(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function E(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=u)e=h(e/35);return h(r+36*e/(e+38))}function S(e){var t,n,r,i,o,a,l,c,f,d,p,g=[],m=e.length,y=0,w=128,S=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&v("not-basic"),g.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<m;){for(o=y,a=1,l=u;i>=m&&v("invalid-input"),((c=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:u)>=u||c>h((s-y)/a))&&v("overflow"),y+=c*a,!(c<(f=l<=S?1:l>=S+26?26:l-S));l+=u)a>h(s/(d=u-f))&&v("overflow"),a*=d;S=E(y-o,t=g.length+1,0==o),h(y/t)>s-w&&v("overflow"),w+=h(y/t),y%=t,g.splice(y++,0,w)}return b(g)}function x(e){var t,n,r,i,o,a,l,c,f,d,g,m,b,S,x,T=[];for(m=(e=y(e)).length,t=128,n=0,o=72,a=0;a<m;++a)(g=e[a])<128&&T.push(p(g));for(r=i=T.length,i&&T.push("-");r<m;){for(l=s,a=0;a<m;++a)(g=e[a])>=t&&g<l&&(l=g);for(l-t>h((s-n)/(b=r+1))&&v("overflow"),n+=(l-t)*b,t=l,a=0;a<m;++a)if((g=e[a])<t&&++n>s&&v("overflow"),g==t){for(c=n,f=u;!(c<(d=f<=o?1:f>=o+26?26:f-o));f+=u)x=c-d,S=u-d,T.push(p(w(d+x%S,0))),c=h(x/S);T.push(p(w(c,0))),o=E(n,b,r==i),n=0,++r}++n,++t}return T.join("")}a={version:"1.3.2",ucs2:{decode:y,encode:b},decode:S,encode:x,toASCII:function(e){return m(e,(function(e){return c.test(e)?"xn--"+x(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?S(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()},2114:function(e,t,n){var r=n(6369);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.Qc=m;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(s),l=["%","/","?",";","#"].concat(u),c=["/","?","#"],f=/^[a-z0-9A-Z_-]{0,63}$/,d=/^([a-z0-9A-Z_-]{0,63})(.*)$/,h={javascript:!0,"javascript:":!0},p={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},g=n(863);function m(e,t,n){if(e&&b(e)&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}function y(e){return"string"===typeof e}function b(e){return"object"===typeof e&&null!==e}function w(e){return null===e}i.prototype.parse=function(e,t,n){if(!y(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e;i=i.trim();var a=o.exec(i);if(a){var s=(a=a[0]).toLowerCase();this.protocol=s,i=i.substr(a.length)}if(n||a||i.match(/^\/\/[^@\/]+@[^@\/]+/)){var m="//"===i.substr(0,2);!m||a&&p[a]||(i=i.substr(2),this.slashes=!0)}if(!p[a]&&(m||a&&!v[a])){for(var b,w,E=-1,S=0;S<c.length;S++){-1!==(x=i.indexOf(c[S]))&&(-1===E||x<E)&&(E=x)}-1!==(w=-1===E?i.lastIndexOf("@"):i.lastIndexOf("@",E))&&(b=i.slice(0,w),i=i.slice(w+1),this.auth=decodeURIComponent(b)),E=-1;for(S=0;S<l.length;S++){var x;-1!==(x=i.indexOf(l[S]))&&(-1===E||x<E)&&(E=x)}-1===E&&(E=i.length),this.host=i.slice(0,E),i=i.slice(E),this.parseHost(),this.hostname=this.hostname||"";var T="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!T)for(var _=this.hostname.split(/\./),k=(S=0,_.length);S<k;S++){var A=_[S];if(A&&!A.match(f)){for(var C="",O=0,I=A.length;O<I;O++)A.charCodeAt(O)>127?C+="x":C+=A[O];if(!C.match(f)){var R=_.slice(0,S),L=_.slice(S+1),D=A.match(d);D&&(R.push(D[1]),L.unshift(D[2])),L.length&&(i="/"+L.join(".")+i),this.hostname=R.join(".");break}}}if(this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),!T){var P=this.hostname.split("."),N=[];for(S=0;S<P.length;++S){var M=P[S];N.push(M.match(/[^A-Za-z0-9_-]/)?"xn--"+r.encode(M):M)}this.hostname=N.join(".")}var j=this.port?":"+this.port:"",F=this.hostname||"";this.host=F+j,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==i[0]&&(i="/"+i))}if(!h[s])for(S=0,k=u.length;S<k;S++){var U=u[S],B=encodeURIComponent(U);B===U&&(B=escape(U)),i=i.split(U).join(B)}var H=i.indexOf("#");-1!==H&&(this.hash=i.substr(H),i=i.slice(0,H));var G=i.indexOf("?");if(-1!==G?(this.search=i.substr(G),this.query=i.substr(G+1),t&&(this.query=g.parse(this.query)),i=i.slice(0,G)):t&&(this.search="",this.query={}),i&&(this.pathname=i),v[s]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"",M=this.search||"";this.path=j+M}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&b(this.query)&&Object.keys(this.query).length&&(o=g.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(m(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if(y(e)){var t=new i;t.parse(e,!1,!0),e=t}var n=new i;if(Object.keys(this).forEach((function(e){n[e]=this[e]}),this),n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol)return Object.keys(e).forEach((function(t){"protocol"!==t&&(n[t]=e[t])})),v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n;if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol])return Object.keys(e).forEach((function(t){n[t]=e[t]})),n.href=n.format(),n;if(n.protocol=e.protocol,e.host||p[e.protocol])n.pathname=e.pathname;else{for(var r=(e.pathname||"").split("/");r.length&&!(e.host=r.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==r[0]&&r.unshift(""),r.length<2&&r.unshift(""),n.pathname=r.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var o=n.pathname||"",a=n.search||"";n.path=o+a}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var s=n.pathname&&"/"===n.pathname.charAt(0),u=e.host||e.pathname&&"/"===e.pathname.charAt(0),l=u||s||n.host&&e.pathname,c=l,f=n.pathname&&n.pathname.split("/")||[],d=(r=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(d&&(n.hostname="",n.port=null,n.host&&(""===f[0]?f[0]=n.host:f.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===r[0]?r[0]=e.host:r.unshift(e.host)),e.host=null),l=l&&(""===r[0]||""===f[0])),u)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,f=r;else if(r.length)f||(f=[]),f.pop(),f=f.concat(r),n.search=e.search,n.query=e.query;else if(null!=e.search){if(d)n.hostname=n.host=f.shift(),(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift());return n.search=e.search,n.query=e.query,w(n.pathname)&&w(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!f.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var h=f.slice(-1)[0],g=(n.host||e.host)&&("."===h||".."===h)||""===h,m=0,b=f.length;b>=0;b--)"."==(h=f[b])?f.splice(b,1):".."===h?(f.splice(b,1),m++):m&&(f.splice(b,1),m--);if(!l&&!c)for(;m--;m)f.unshift("..");!l||""===f[0]||f[0]&&"/"===f[0].charAt(0)||f.unshift(""),g&&"/"!==f.join("/").substr(-1)&&f.push("");var E,S=""===f[0]||f[0]&&"/"===f[0].charAt(0);d&&(n.hostname=n.host=S?"":f.length?f.shift():"",(E=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=E.shift(),n.host=n.hostname=E.shift()));return(l=l||n.host&&f.length)&&!S&&f.unshift(""),f.length?n.pathname=f.join("/"):(n.pathname=null,n.path=null),w(n.pathname)&&w(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},2480:function(){},3897:function(e){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},5372:function(e){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},6115:function(e){e.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},6690:function(e){e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},3515:function(e,t,n){var r=n(6015),i=n(9617);function o(t,n,a){return i()?(e.exports=o=Reflect.construct.bind(),e.exports.__esModule=!0,e.exports.default=e.exports):(e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},e.exports.__esModule=!0,e.exports.default=e.exports),o.apply(null,arguments)}e.exports=o,e.exports.__esModule=!0,e.exports.default=e.exports},9728:function(e){function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},6389:function(e,t,n){var r=n(3808),i=n(9617),o=n(4993);e.exports=function(e){var t=i();return function(){var n,i=r(e);if(t){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}},e.exports.__esModule=!0,e.exports.default=e.exports},8416:function(e){e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},3808:function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},1655:function(e,t,n){var r=n(6015);e.exports=function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},6035:function(e){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")},e.exports.__esModule=!0,e.exports.default=e.exports},9617:function(e){e.exports=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}},e.exports.__esModule=!0,e.exports.default=e.exports},8872:function(e){e.exports=function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},2218:function(e){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},2122:function(e,t,n){var r=n(8416);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}e.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e},e.exports.__esModule=!0,e.exports.default=e.exports},4993:function(e,t,n){var r=n(8698).default,i=n(6115);e.exports=function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return i(e)},e.exports.__esModule=!0,e.exports.default=e.exports},6015:function(e){function t(n,r){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n,r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},7424:function(e,t,n){var r=n(5372),i=n(8872),o=n(6116),a=n(2218);e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},8698:function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},6116:function(e,t,n){var r=n(3897);e.exports=function(e,t){if(e){if("string"===typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},3496:function(e,t,n){var r=n(3808),i=n(6015),o=n(6035),a=n(3515);function s(t){var n="function"===typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},e.exports.__esModule=!0,e.exports.default=e.exports,s(t)}e.exports=s,e.exports.__esModule=!0,e.exports.default=e.exports}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e},function(){"use strict";var e={};n.r(e),n.d(e,{addTrackers:function(){return Ve},default:function(){return nt},event:function(){return Qe},exception:function(){return Je},ga:function(){return We},initialize:function(){return ze},modalview:function(){return $e},outboundLink:function(){return et},pageview:function(){return Ye},plugin:function(){return Ze},send:function(){return qe},set:function(){return Ke},testModeAPI:function(){return tt},timing:function(){return Xe}});var t,r=n(2791),i=n(1250),o=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function a(e,t){console.log("4. serviceWorker registering"),navigator.serviceWorker.register(e).then((function(e){console.log("5. serviceWorker registered"),e.onupdatefound=function(){console.log("6. serviceWorker update found");var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(console.log("7. serviceWorker installed"),navigator.serviceWorker.controller?(e&&e.waiting&&e.waiting.postMessage({type:"SKIP_WAITING"}),window.location.reload(),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})},e.update(),setTimeout((function(){return e.update()}),36e5)})).catch((function(e){console.error("Error during service worker registration:",e)}))}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function u(e,t){if(e){if("string"===typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function l(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(u){s=!0,i=u}finally{try{a||null==n.return||n.return()}finally{if(s)throw i}}return o}}(e,t)||u(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(){f=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},i=r.iterator||"@@iterator",o=r.asyncIterator||"@@asyncIterator",a=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(C){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof h?t:h,o=Object.create(i.prototype),a=new _(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return A()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var s=S(a,n);if(s){if(s===d)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(C){return{type:"throw",arg:C}}}e.wrap=u;var d={};function h(){}function p(){}function v(){}var g={};s(g,i,(function(){return this}));var m=Object.getPrototypeOf,y=m&&m(m(k([])));y&&y!==t&&n.call(y,i)&&(g=y);var b=v.prototype=h.prototype=Object.create(g);function w(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function r(i,o,a,s){var u=l(e[i],e,o);if("throw"!==u.type){var f=u.arg,d=f.value;return d&&"object"==c(d)&&n.call(d,"__await")?t.resolve(d.__await).then((function(e){r("next",e,a,s)}),(function(e){r("throw",e,a,s)})):t.resolve(d).then((function(e){f.value=e,a(f)}),(function(e){return r("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,n){function o(){return new t((function(t,i){r(e,n,t,i)}))}return i=i?i.then(o,o):o()}}function S(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,S(e,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:A}}function A(){return{value:void 0,done:!0}}return p.prototype=v,s(b,"constructor",v),s(v,"constructor",p),p.displayName=s(v,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,s(e,a,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(E.prototype),s(E.prototype,o,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,r,i,o){void 0===o&&(o=Promise);var a=new E(u(t,n,r,i),o);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},w(b),s(b,a,"Generator"),s(b,i,(function(){return this})),s(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return r("end");if(o.tryLoc<=this.prev){var s=n.call(o,"catchLoc"),u=n.call(o,"finallyLoc");if(s&&u){if(this.prev<o.catchLoc)return r(o.catchLoc,!0);if(this.prev<o.finallyLoc)return r(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return r(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return r(o.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),d}},e}function d(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function h(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))}}function p(){return p=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));var v=function(e){return e};var g="beforeunload",m="popstate";function y(e){e.preventDefault(),e.returnValue=""}function b(){var e=[];return{get length(){return e.length},push:function(t){return e.push(t),function(){e=e.filter((function(e){return e!==t}))}},call:function(t){e.forEach((function(e){return e&&e(t)}))}}}function w(){return Math.random().toString(36).substr(2,8)}function E(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,o=e.hash,a=void 0===o?"":o;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),a&&"#"!==a&&(n+="#"===a.charAt(0)?a:"#"+a),n}function S(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var x=(0,r.createContext)(null);var T=(0,r.createContext)(null);var _=(0,r.createContext)({outlet:null,matches:[]});function k(e,t){if(!e)throw new Error(t)}function A(e,t){return void 0===t&&(t={}),e.replace(/:(\w+)/g,(function(e,n){return null==t[n]&&k(!1),t[n]})).replace(/\/*\*$/,(function(e){return null==t["*"]?"":t["*"].replace(/^\/*/,"/")}))}function C(e,t,n){void 0===n&&(n="/");var r=M(("string"===typeof t?S(t):t).pathname||"/",n);if(null==r)return null;var i=O(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var o=null,a=0;null==o&&a<i.length;++a)o=D(i[a],r);return o}function O(e,t,n,r){return void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r=""),e.forEach((function(e,i){var o={relativePath:e.path||"",caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(o.relativePath.startsWith(r)||k(!1),o.relativePath=o.relativePath.slice(r.length));var a=j([r,o.relativePath]),s=n.concat(o);e.children&&e.children.length>0&&(!0===e.index&&k(!1),O(e.children,t,s,a)),(null!=e.path||e.index)&&t.push({path:a,score:L(a,e.index),routesMeta:s})})),t}var I=/^:\w+$/,R=function(e){return"*"===e};function L(e,t){var n=e.split("/"),r=n.length;return n.some(R)&&(r+=-2),t&&(r+=2),n.filter((function(e){return!R(e)})).reduce((function(e,t){return e+(I.test(t)?3:""===t?1:10)}),r)}function D(e,t){for(var n=e.routesMeta,r={},i="/",o=[],a=0;a<n.length;++a){var s=n[a],u=a===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=P({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},l);if(!c)return null;Object.assign(r,c.params);var f=s.route;o.push({params:r,pathname:j([i,c.pathname]),pathnameBase:F(j([i,c.pathnameBase])),route:f}),"/"!==c.pathnameBase&&(i=j([i,c.pathnameBase]))}return o}function P(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/:(\w+)/g,(function(e,t){return r.push(t),"([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):i+=n?"\\/*$":"(?:(?=[.~-]|%[0-9A-F]{2})|\\b|\\/|$)";return[new RegExp(i,t?void 0:"i"),r]}(e.path,e.caseSensitive,e.end),r=l(n,2),i=r[0],o=r[1],a=t.match(i);if(!a)return null;var s=a[0],u=s.replace(/(.)\/+$/,"$1"),c=a.slice(1),f=o.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return e}}(c[n]||""),e}),{});return{params:f,pathname:s,pathnameBase:u,pattern:e}}function N(e,t,n){var r,i="string"===typeof e?S(e):e,o=""===e||""===i.pathname?"/":i.pathname;if(null==o)r=n;else{var a=t.length-1;if(o.startsWith("..")){for(var s=o.split("/");".."===s[0];)s.shift(),a-=1;i.pathname=s.join("/")}r=a>=0?t[a]:"/"}var u=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?S(e):e,r=n.pathname,i=n.search,o=void 0===i?"":i,a=n.hash,s=void 0===a?"":a,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:U(o),hash:B(s)}}(i,r);return o&&"/"!==o&&o.endsWith("/")&&!u.pathname.endsWith("/")&&(u.pathname+="/"),u}function M(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=e.charAt(t.length);return n&&"/"!==n?null:e.slice(t.length)||"/"}var j=function(e){return e.join("/").replace(/\/\/+/g,"/")},F=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},U=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},B=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""};function H(e){G()||k(!1);var t=(0,r.useContext)(x),n=t.basename,i=t.navigator,o=q(e),a=o.hash,s=o.pathname,u=o.search,l=s;if("/"!==n){var c=function(e){return""===e||""===e.pathname?"/":"string"===typeof e?S(e).pathname:e.pathname}(e),f=null!=c&&c.endsWith("/");l="/"===s?n+(f?"/":""):j([n,s])}return i.createHref({pathname:l,search:u,hash:a})}function G(){return null!=(0,r.useContext)(T)}function V(){return G()||k(!1),(0,r.useContext)(T).location}function z(e){G()||k(!1);var t=V().pathname;return(0,r.useMemo)((function(){return P(e,t)}),[t,e])}function W(){G()||k(!1);var e=(0,r.useContext)(x),t=e.basename,n=e.navigator,i=(0,r.useContext)(_).matches,o=V().pathname,a=JSON.stringify(i.map((function(e){return e.pathnameBase}))),s=(0,r.useRef)(!1);(0,r.useEffect)((function(){s.current=!0}));var u=(0,r.useCallback)((function(e,r){if(void 0===r&&(r={}),s.current)if("number"!==typeof e){var i=N(e,JSON.parse(a),o);"/"!==t&&(i.pathname=j([t,i.pathname])),(r.replace?n.replace:n.push)(i,r.state)}else n.go(e)}),[t,n,a,o]);return u}function K(){var e=(0,r.useContext)(_).matches,t=e[e.length-1];return t?t.params:{}}function q(e){var t=(0,r.useContext)(_).matches,n=V().pathname,i=JSON.stringify(t.map((function(e){return e.pathnameBase})));return(0,r.useMemo)((function(){return N(e,JSON.parse(i),n)}),[e,i,n])}function Y(e,t){return void 0===t&&(t=[]),null==e?null:e.reduceRight((function(n,i,o){return(0,r.createElement)(_.Provider,{children:void 0!==i.route.element?i.route.element:n,value:{outlet:n,matches:t.concat(e.slice(0,o+1))}})}),null)}function $(e){var t=e.to,n=e.replace,i=e.state;G()||k(!1);var o=W();return(0,r.useEffect)((function(){o(t,{replace:n,state:i})})),null}function X(e){k(!1)}function Q(e){var n=e.basename,i=void 0===n?"/":n,o=e.children,a=void 0===o?null:o,s=e.location,u=e.navigationType,l=void 0===u?t.Pop:u,c=e.navigator,f=e.static,d=void 0!==f&&f;G()&&k(!1);var h=F(i),p=(0,r.useMemo)((function(){return{basename:h,navigator:c,static:d}}),[h,c,d]);"string"===typeof s&&(s=S(s));var v=s,g=v.pathname,m=void 0===g?"/":g,y=v.search,b=void 0===y?"":y,w=v.hash,E=void 0===w?"":w,_=v.state,A=void 0===_?null:_,C=v.key,O=void 0===C?"default":C,I=(0,r.useMemo)((function(){var e=M(m,h);return null==e?null:{pathname:e,search:b,hash:E,state:A,key:O}}),[h,m,b,E,A,O]);return null==I?null:(0,r.createElement)(x.Provider,{value:p},(0,r.createElement)(T.Provider,{children:a,value:{location:I,navigationType:l}}))}function J(e){var t=e.children,n=e.location;return function(e,t){G()||k(!1);var n,i=(0,r.useContext)(_).matches,o=i[i.length-1],a=o?o.params:{},s=(o&&o.pathname,o?o.pathnameBase:"/"),u=(o&&o.route,V());if(t){var l,c="string"===typeof t?S(t):t;"/"===s||(null==(l=c.pathname)?void 0:l.startsWith(s))||k(!1),n=c}else n=u;var f=n.pathname||"/",d=C(e,{pathname:"/"===s?f:f.slice(s.length)||"/"});return Y(d&&d.map((function(e){return Object.assign({},e,{params:Object.assign({},a,e.params),pathname:j([s,e.pathname]),pathnameBase:"/"===e.pathnameBase?s:j([s,e.pathnameBase])})})),i)}(Z(t),n)}function Z(e){var t=[];return r.Children.forEach(e,(function(e){if((0,r.isValidElement)(e))if(e.type!==r.Fragment){e.type!==X&&k(!1);var n={caseSensitive:e.props.caseSensitive,element:e.props.element,index:e.props.index,path:e.props.path};e.props.children&&(n.children=Z(e.props.children)),t.push(n)}else t.push.apply(t,Z(e.props.children))})),t}var ee=n(2007),te=n.n(ee);function ne(e){console.warn("[react-ga]",e)}function re(e){return re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},re(e)}var ie=["to","target"];function oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function se(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ue(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function fe(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bc){return!1}}();return function(){var n,r=pe(e);if(t){var i=pe(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return de(this,n)}}function de(e,t){if(t&&("object"===re(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return he(e)}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge="_blank",me=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(a,e);var t,n,i,o=fe(a);function a(){var e;ue(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ve(he(e=o.call.apply(o,[this].concat(n))),"handleClick",(function(t){var n=e.props,r=n.target,i=n.eventLabel,o=n.to,s=n.onClick,u=n.trackerNames,l={label:i},c=r!==ge,f=!(t.ctrlKey||t.shiftKey||t.metaKey||1===t.button);c&&f?(t.preventDefault(),a.trackLink(l,(function(){window.location.href=o}),u)):a.trackLink(l,(function(){}),u),s&&s(t)})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.to,n=e.target,i=ae(ae({},se(e,ie)),{},{target:n,href:t,onClick:this.handleClick});return n===ge&&(i.rel="".concat(i.rel?i.rel:""," noopener noreferrer").trim()),delete i.eventLabel,delete i.trackerNames,r.createElement("a",i)}}])&&le(t.prototype,n),i&&le(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.Component);ve(me,"trackLink",(function(){ne("ga tracking not enabled")})),me.propTypes={eventLabel:te().string.isRequired,target:te().string,to:te().string,onClick:te().func,trackerNames:te().arrayOf(te().string)},me.defaultProps={target:null,to:null,onClick:null,trackerNames:null};function ye(e){return function(e){return"string"===typeof e&&-1!==e.indexOf("@")}(e)?(ne("This arg looks like an email address, redacting."),"REDACTED (Potential Email Address)"):e}function be(e){return e&&e.toString().replace(/^\s+|\s+$/g,"")}var we=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function Ee(e){return be(e).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,(function(e,t,n){return t>0&&t+e.length!==n.length&&e.search(we)>-1&&":"!==n.charAt(t-2)&&("-"!==n.charAt(t+e.length)||"-"===n.charAt(t-1))&&n.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():e.substr(1).search(/[A-Z]|\../)>-1?e:e.charAt(0).toUpperCase()+e.substr(1)}))}var Se=!1;function xe(e){console.info("[react-ga]",e)}var Te=[],_e={calls:Te,ga:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Te.push([].concat(t))},resetCalls:function(){Te.length=0}},ke=["category","action","label","value","nonInteraction","transport"];function Ae(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Ce(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ie(e){return Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ie(e)}function Re(e){return function(e){if(Array.isArray(e))return Le(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return Le(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Le(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var De="undefined"===typeof window||"undefined"===typeof document,Pe=!1,Ne=!0,Me=!1,je=!0,Fe=!0,Ue=function(){var e;return Me?_e.ga.apply(_e,arguments):!De&&(window.ga?(e=window).ga.apply(e,arguments):ne("ReactGA.initialize must be called first or GoogleAnalytics should be loaded manually"))};function Be(e){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=e||"";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]&&(n=Ee(e)),t&&(n=ye(n)),n}(e,Ne,Fe)}function He(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n[0];"string"===typeof i?(!je&&Array.isArray(e)||Ue.apply(void 0,n),Array.isArray(e)&&e.forEach((function(e){Ue.apply(void 0,Re(["".concat(e,".").concat(i)].concat(n.slice(1))))}))):ne("ga command must be a string")}function Ge(e,t){e?t&&(t.debug&&!0===t.debug&&(Pe=!0),!1===t.titleCase&&(Ne=!1),!1===t.redactEmail&&(Fe=!1),t.useExistingGa)||(t&&t.gaOptions?Ue("create",e,t.gaOptions):Ue("create",e,"auto")):ne("gaTrackingID is required in initialize()")}function Ve(e,t){return Array.isArray(e)?e.forEach((function(e){"object"===Ie(e)?Ge(e.trackingId,e):ne("All configs must be an object")})):Ge(e,t),!0}function ze(e,t){if(t&&!0===t.testMode)Me=!0;else{if(De)return;t&&!0===t.standardImplementation||function(e){if(!Se){Se=!0;var t="https://www.google-analytics.com/analytics.js";e&&e.gaAddress?t=e.gaAddress:e&&e.debug&&(t="https://www.google-analytics.com/analytics_debug.js");var n=e&&e.onerror;!function(e,t,r,i,o,a,s){e.GoogleAnalyticsObject=o,e.ga=e.ga||function(){(e.ga.q=e.ga.q||[]).push(arguments)},e.ga.l=1*new Date,a=t.createElement(r),s=t.getElementsByTagName(r)[0],a.async=1,a.src=i,a.onerror=n,s.parentNode.insertBefore(a,s)}(window,document,"script",t,"ga")}}(t)}je=!t||"boolean"!==typeof t.alwaysSendToDefaultTracker||t.alwaysSendToDefaultTracker,Ve(e,t)}function We(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>0&&(Ue.apply(void 0,t),Pe&&(xe("called ga('arguments');"),xe("with arguments: ".concat(JSON.stringify(t))))),window.ga}function Ke(e,t){e?"object"===Ie(e)?(0===Object.keys(e).length&&ne("empty `fieldsObject` given to .set()"),He(t,"set",e),Pe&&(xe("called ga('set', fieldsObject);"),xe("with fieldsObject: ".concat(JSON.stringify(e))))):ne("Expected `fieldsObject` arg to be an Object"):ne("`fieldsObject` is required in .set()")}function qe(e,t){He(t,"send",e),Pe&&(xe("called ga('send', fieldObject);"),xe("with fieldObject: ".concat(JSON.stringify(e))),xe("with trackers: ".concat(JSON.stringify(t))))}function Ye(e,t,n){if(e){var r=be(e);if(""!==r){var i={};if(n&&(i.title=n),He(t,"send",function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(n),!0).forEach((function(t){Oe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ce(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({hitType:"pageview",page:r},i)),Pe){xe("called ga('send', 'pageview', path);");var o="";n&&(o=" and title: ".concat(n)),xe("with path: ".concat(r).concat(o))}}else ne("path cannot be an empty string in .pageview()")}else ne("path is required in .pageview()")}function $e(e,t){if(e){var n,r="/"===(n=be(e)).substring(0,1)?n.substring(1):n;if(""!==r){var i="/modal/".concat(r);He(t,"send","pageview",i),Pe&&(xe("called ga('send', 'pageview', path);"),xe("with path: ".concat(i)))}else ne("modalName cannot be an empty string or a single / in .modalview()")}else ne("modalName is required in .modalview(modalName)")}function Xe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.variable,r=e.value,i=e.label,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&n&&"number"===typeof r){var a={hitType:"timing",timingCategory:Be(t),timingVar:Be(n),timingValue:r};i&&(a.timingLabel=Be(i)),qe(a,o)}else ne("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number")}function Qe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.category,n=e.action,r=e.label,i=e.value,o=e.nonInteraction,a=e.transport,s=Ae(e,ke),u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(t&&n){var l={hitType:"event",eventCategory:Be(t),eventAction:Be(n)};r&&(l.eventLabel=Be(r)),"undefined"!==typeof i&&("number"!==typeof i?ne("Expected `args.value` arg to be a Number."):l.eventValue=i),"undefined"!==typeof o&&("boolean"!==typeof o?ne("`args.nonInteraction` must be a boolean."):l.nonInteraction=o),"undefined"!==typeof a&&("string"!==typeof a?ne("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(a)&&ne("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),l.transport=a)),Object.keys(s).filter((function(e){return"dimension"===e.substr(0,"dimension".length)})).forEach((function(e){l[e]=s[e]})),Object.keys(s).filter((function(e){return"metric"===e.substr(0,"metric".length)})).forEach((function(e){l[e]=s[e]})),qe(l,u)}else ne("args.category AND args.action are required in event()")}function Je(e,t){var n=e.description,r=e.fatal,i={hitType:"exception"};n&&(i.exDescription=Be(n)),"undefined"!==typeof r&&("boolean"!==typeof r?ne("`args.fatal` must be a boolean."):i.exFatal=r),qe(i,t)}var Ze={require:function(e,t,n){if(e){var r=be(e);if(""!==r){var i=n?"".concat(n,".require"):"require";if(t){if("object"!==Ie(t))return void ne("Expected `options` arg to be an Object");0===Object.keys(t).length&&ne("Empty `options` given to .require()"),We(i,r,t),Pe&&xe("called ga('require', '".concat(r,"', ").concat(JSON.stringify(t)))}else We(i,r),Pe&&xe("called ga('require', '".concat(r,"');"))}else ne("`name` cannot be an empty string in .require()")}else ne("`name` is required in .require()")},execute:function(e,t){for(var n,r,i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];if(1===o.length?n=o[0]:(r=o[0],n=o[1]),"string"!==typeof e)ne("Expected `pluginName` arg to be a String.");else if("string"!==typeof t)ne("Expected `action` arg to be a String.");else{var s="".concat(e,":").concat(t);n=n||null,r&&n?(We(s,r,n),Pe&&(xe("called ga('".concat(s,"');")),xe('actionType: "'.concat(r,'" with payload: ').concat(JSON.stringify(n))))):n?(We(s,n),Pe&&(xe("called ga('".concat(s,"');")),xe("with payload: ".concat(JSON.stringify(n))))):(We(s),Pe&&xe("called ga('".concat(s,"');")))}}};function et(e,t,n){if("function"===typeof t)if(e&&e.label){var r={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:Be(e.label)},i=!1,o=setTimeout((function(){i=!0,t()}),250);r.hitCallback=function(){clearTimeout(o),i||t()},qe(r,n)}else ne("args.label is required in outboundLink()");else ne("hitCallback function is required")}var tt=_e,nt={initialize:ze,ga:We,set:Ke,send:qe,pageview:Ye,modalview:$e,timing:Xe,event:Qe,exception:Je,plugin:Ze,outboundLink:et,testModeAPI:_e};function rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function it(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?rt(Object(n),!0).forEach((function(t){ot(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ot(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}me.origTrackLink=me.trackLink,me.trackLink=et;var at,st=me,ut=it(it({},e),{},{OutboundLink:st}),lt=n(1625);!function(e){e.LOCAL="local",e.DEV="dev",e.PROD="prod"}(at||(at={}));var ct,ft,dt,ht=lt.get("REACT_APP_STAGE").required().asString(),pt=ht===at.LOCAL,vt=ht===at.DEV,gt=ht===at.PROD,mt=pt||vt,yt=lt.get("REACT_APP_VERSION_COMMIT_SHA").default("undefined").asString(),bt=lt.get("REACT_APP_VERSION").default("undefined").asString(),wt=lt.get("REACT_APP_API_URL").required().asString(),Et=wt+"/authenticated",St=lt.get("REACT_APP_COGNITO_USER_POOL_ID").required().asString(),xt=lt.get("REACT_APP_COGNITO_USER_POOL_CLIENT_ID").required().asString(),Tt="UserAnonymousAuth",_t="https://t.ajrkm.link/198303/5527?source=sourcehere&aff_sub=sub1here&aff_sub2=sub2here&aff_sub5=cpjk",kt="https://t.acam.link/198303/3664/0?pyt=multi&source=fikfap.com",At="https://go.xlrdr.com?userId=066ed15cbc55c49af403df96ba91ea92a53bc34a740cf61adcd639c70f5a9866&targetDomain=fikfapcams.com&campaignId=standard",Ct="UserViewsId",Ot="PostViews",It="PostViewsCount",Rt="SessionId",Lt="modelExcludes",Dt="Sampling",Pt="/story-default.webp",Nt=["The Play() Request Was Interrupted by a Call to Pause().","The fetching process for the media resource was aborted by the user agent at the user's request.","The play() request was interrupted by a new load request.","The Request Is Not Allowed by the User Agent or the Platform in the Current Context, Possibly Because the User Denied Permission.","The Operation Was Aborted."];function Mt(e){return e&&!!["provider"].find((function(t){return e.hasOwnProperty(t)}))}function jt(e){return void 0!==e.redirectSignIn}!function(e){e.Cognito="COGNITO",e.Google="Google",e.Facebook="Facebook",e.Amazon="LoginWithAmazon",e.Apple="SignInWithApple"}(ct||(ct={})),function(e){e.NoConfig="noConfig",e.MissingAuthConfig="missingAuthConfig",e.EmptyUsername="emptyUsername",e.InvalidUsername="invalidUsername",e.EmptyPassword="emptyPassword",e.EmptyCode="emptyCode",e.SignUpError="signUpError",e.NoMFA="noMFA",e.InvalidMFA="invalidMFA",e.EmptyChallengeResponse="emptyChallengeResponse",e.NoUserSession="noUserSession",e.Default="default",e.DeviceConfig="deviceConfig",e.NetworkError="networkError"}(ft||(ft={})),function(e){e.API_KEY="API_KEY",e.AWS_IAM="AWS_IAM",e.OPENID_CONNECT="OPENID_CONNECT",e.AMAZON_COGNITO_USER_POOLS="AMAZON_COGNITO_USER_POOLS",e.AWS_LAMBDA="AWS_LAMBDA"}(dt||(dt={}));var Ft,Ut=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Bt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ht=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Bt(arguments[t]));return e},Gt={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5};!function(e){e.DEBUG="DEBUG",e.ERROR="ERROR",e.INFO="INFO",e.WARN="WARN",e.VERBOSE="VERBOSE"}(Ft||(Ft={}));var Vt=function(){function e(e,t){void 0===t&&(t=Ft.WARN),this.name=e,this.level=t,this._pluggables=[]}return e.prototype._padding=function(e){return e<10?"0"+e:""+e},e.prototype._ts=function(){var e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(":")+"."+e.getMilliseconds()},e.prototype.configure=function(e){return e?(this._config=e,this._config):this._config},e.prototype._log=function(t){for(var n,r,i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];var a=this.level;e.LOG_LEVEL&&(a=e.LOG_LEVEL),"undefined"!==typeof window&&window.LOG_LEVEL&&(a=window.LOG_LEVEL);var s=Gt[a],u=Gt[t];if(u>=s){var l=console.log.bind(console);t===Ft.ERROR&&console.error&&(l=console.error.bind(console)),t===Ft.WARN&&console.warn&&(l=console.warn.bind(console));var c="["+t+"] "+this._ts()+" "+this.name,f="";if(1===i.length&&"string"===typeof i[0])l(f=c+" - "+i[0]);else if(1===i.length)f=c+" "+i[0],l(c,i[0]);else if("string"===typeof i[0]){var d=i.slice(1);1===d.length&&(d=d[0]),f=c+" - "+i[0]+" "+d,l(c+" - "+i[0],d)}else f=c+" "+i,l(c,i);try{for(var h=Ut(this._pluggables),p=h.next();!p.done;p=h.next()){var v=p.value,g={message:f,timestamp:Date.now()};v.pushLogs([g])}}catch(m){n={error:m}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(n)throw n.error}}}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.INFO],e))},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.INFO],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.WARN],e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.ERROR],e))},e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.DEBUG],e))},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._log.apply(this,Ht([Ft.VERBOSE],e))},e.prototype.addPluggable=function(e){e&&"Logging"===e.getCategoryName()&&(this._pluggables.push(e),e.configure(this._config))},e.prototype.listPluggables=function(){return this._pluggables},e.LOG_LEVEL=null,e}(),zt=function(){return zt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},zt.apply(this,arguments)},Wt=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Kt=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(Wt(arguments[t]));return e},qt=new Vt("Hub"),Yt="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default";var $t=function(){function e(e){this.listeners=[],this.patterns=[],this.protectedChannels=["core","auth","api","analytics","interactions","pubsub","storage","ui","xr"],this.name=e}return e.prototype.remove=function(e,t){if(e instanceof RegExp){var n=this.patterns.find((function(t){return t.pattern.source===e.source}));if(!n)return void qt.warn("No listeners for "+e);this.patterns=Kt(this.patterns.filter((function(e){return e!==n})))}else{var r=this.listeners[e];if(!r)return void qt.warn("No listeners for "+e);this.listeners[e]=Kt(r.filter((function(e){return e.callback!==t})))}},e.prototype.dispatch=function(e,t,n,r){(void 0===n&&(n=""),this.protectedChannels.indexOf(e)>-1)&&(r===Yt||qt.warn("WARNING: "+e+" is protected and dispatching on it can have unintended consequences"));var i={channel:e,payload:zt({},t),source:n,patternInfo:[]};try{this._toListeners(i)}catch(bc){qt.error(bc)}},e.prototype.listen=function(e,t,n){var r,i=this;if(void 0===n&&(n="noname"),function(e){return void 0!==e.onHubCapsule}(t))qt.warn("WARNING onHubCapsule is Deprecated. Please pass in a callback."),r=t.onHubCapsule.bind(t);else{if("function"!==typeof t)throw new Error("No callback supplied to Hub");r=t}if(e instanceof RegExp)this.patterns.push({pattern:e,callback:r});else{var o=this.listeners[e];o||(o=[],this.listeners[e]=o),o.push({name:n,callback:r})}return function(){i.remove(e,r)}},e.prototype._toListeners=function(e){var t=e.channel,n=e.payload,r=this.listeners[t];if(r&&r.forEach((function(r){qt.debug("Dispatching to "+t+" with ",n);try{r.callback(e)}catch(bc){qt.error(bc)}})),this.patterns.length>0){if(!n.message)return void qt.warn("Cannot perform pattern matching without a message key");var i=n.message;this.patterns.forEach((function(t){var n=i.match(t.pattern);if(n){var r=Wt(n).slice(1),o=zt(zt({},e),{patternInfo:r});try{t.callback(o)}catch(bc){qt.error(bc)}}}))}},e}(),Xt=new $t("__default__"),Qt={},Jt=function(){function e(){}return e.setItem=function(e,t){return Qt[e]=t,Qt[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Qt,e)?Qt[e]:void 0},e.removeItem=function(e){return delete Qt[e]},e.clear=function(){return Qt={}},e}(),Zt=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.amplify.test-ls",1),this.storageWindow.removeItem("aws.amplify.test-ls")}catch(Je){this.storageWindow=Jt}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),en=[{type:"text/plain",ext:"txt"},{type:"text/html",ext:"html"},{type:"text/javascript",ext:"js"},{type:"text/css",ext:"css"},{type:"text/csv",ext:"csv"},{type:"text/yaml",ext:"yml"},{type:"text/yaml",ext:"yaml"},{type:"text/calendar",ext:"ics"},{type:"text/calendar",ext:"ical"},{type:"image/apng",ext:"apng"},{type:"image/bmp",ext:"bmp"},{type:"image/gif",ext:"gif"},{type:"image/x-icon",ext:"ico"},{type:"image/x-icon",ext:"cur"},{type:"image/jpeg",ext:"jpg"},{type:"image/jpeg",ext:"jpeg"},{type:"image/jpeg",ext:"jfif"},{type:"image/jpeg",ext:"pjp"},{type:"image/jpeg",ext:"pjpeg"},{type:"image/png",ext:"png"},{type:"image/svg+xml",ext:"svg"},{type:"image/tiff",ext:"tif"},{type:"image/tiff",ext:"tiff"},{type:"image/webp",ext:"webp"},{type:"application/json",ext:"json"},{type:"application/xml",ext:"xml"},{type:"application/x-sh",ext:"sh"},{type:"application/zip",ext:"zip"},{type:"application/x-rar-compressed",ext:"rar"},{type:"application/x-tar",ext:"tar"},{type:"application/x-bzip",ext:"bz"},{type:"application/x-bzip2",ext:"bz2"},{type:"application/pdf",ext:"pdf"},{type:"application/java-archive",ext:"jar"},{type:"application/msword",ext:"doc"},{type:"application/vnd.ms-excel",ext:"xls"},{type:"application/vnd.ms-excel",ext:"xlsx"},{type:"message/rfc822",ext:"eml"}],tn=function(e){return void 0===e&&(e={}),0===Object.keys(e).length},nn=function(e,t,n){if(!e||!e.sort)return!1;var r=n&&"desc"===n?-1:1;return e.sort((function(e,n){var i=e[t],o=n[t];return"undefined"===typeof o?"undefined"===typeof i?0:1*r:"undefined"===typeof i||i<o?-1*r:i>o?1*r:0})),!0},rn=function(e,t){var n=Object.assign({},e);return t&&("string"===typeof t?delete n[t]:t.forEach((function(e){delete n[e]}))),n},on=function(e,t){void 0===t&&(t="application/octet-stream");var n=e.toLowerCase(),r=en.filter((function(e){return n.endsWith("."+e.ext)}));return r.length>0?r[0].type:t},an=function(e){var t=e.toLowerCase();return!!t.startsWith("text/")||("application/json"===t||"application/xml"===t||"application/sh"===t)},sn=function(){for(var e="",t="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=32;n>0;n-=1)e+=t[Math.floor(Math.random()*t.length)];return e},un=function(e){if(e.isResolved)return e;var t=!0,n=!1,r=!1,i=e.then((function(e){return r=!0,t=!1,e}),(function(e){throw n=!0,t=!1,e}));return i.isFullfilled=function(){return r},i.isPending=function(){return t},i.isRejected=function(){return n},i},ln=function(){if("undefined"===typeof self)return!1;var e=self;return"undefined"!==typeof e.WorkerGlobalScope&&self instanceof e.WorkerGlobalScope},cn=function(){return{isBrowser:"undefined"!==typeof window&&"undefined"!==typeof window.document,isNode:"undefined"!==typeof process&&null!=process.versions&&null!=process.versions.node}},fn=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!hn(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toLowerCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},dn=function e(t,n,r){if(void 0===n&&(n=[]),void 0===r&&(r=[]),!hn(t))return t;var i={};for(var o in t){if(t.hasOwnProperty(o))i[n.includes(o)?o:o[0].toUpperCase()+o.slice(1)]=r.includes(o)?t[o]:e(t[o],n,r)}return i},hn=function(e){return e instanceof Object&&!(e instanceof Array)&&!(e instanceof Function)&&!(e instanceof Number)&&!(e instanceof String)&&!(e instanceof Boolean)},pn=(function(){function e(){}e.isEmpty=tn,e.sortByField=nn,e.objectLessAttributes=rn,e.filenameToContentType=on,e.isTextFile=an,e.generateRandomString=sn,e.makeQuerablePromise=un,e.isWebWorker=ln,e.browserOrNode=cn,e.transferKeyToLowerCase=fn,e.transferKeyToUpperCase=dn,e.isStrictObject=hn}(),function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}()),vn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},gn=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},mn=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},yn=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(mn(arguments[t]));return e},bn=new Vt("Util"),wn=function(e){function t(t){var n=e.call(this,t)||this;return n.nonRetryable=!0,n}return pn(t,e),t}(Error);function En(e,t,n,r){return void 0===r&&(r=1),vn(this,void 0,void 0,(function(){var i,o;return gn(this,(function(a){switch(a.label){case 0:if("function"!==typeof e)throw Error("functionToRetry must be a function");bn.debug(e.name+" attempt #"+r+" with this vars: "+JSON.stringify(t)),a.label=1;case 1:return a.trys.push([1,3,,8]),[4,e.apply(void 0,yn(t))];case 2:return[2,a.sent()];case 3:if(i=a.sent(),bn.debug("error on "+e.name,i),(s=i)&&s.nonRetryable)throw bn.debug(e.name+" non retryable error",i),i;return o=n(r,t,i),bn.debug(e.name+" retrying in "+o+" ms"),!1===o?[3,6]:[4,new Promise((function(e){return setTimeout(e,o)}))];case 4:return a.sent(),[4,En(e,t,n,r+1)];case 5:return[2,a.sent()];case 6:throw i;case 7:return[3,8];case 8:return[2]}var s}))}))}var Sn=3e5;var xn=function(e,t,n){return void 0===n&&(n=Sn),En(e,t,function(e){return void 0===e&&(e=Sn),function(t){var n=100*Math.pow(2,t)+100*Math.random();return!(n>e)&&n}}(n))},Tn=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},_n=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},kn=new Vt("CognitoCredentials"),An=new Promise((function(e,t){return cn().isBrowser?(window.gapi&&window.gapi.auth2?window.gapi.auth2:null)?(kn.debug("google api already loaded"),e()):void setTimeout((function(){return e()}),2e3):(kn.debug("not in the browser, directly resolved"),e())})),Cn=function(){function e(){this.initialized=!1,this.refreshGoogleToken=this.refreshGoogleToken.bind(this),this._refreshGoogleTokenImpl=this._refreshGoogleTokenImpl.bind(this)}return e.prototype.refreshGoogleToken=function(){return Tn(this,void 0,void 0,(function(){return _n(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(kn.debug("need to wait for the Google SDK loaded"),[4,An]);case 1:e.sent(),this.initialized=!0,kn.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshGoogleTokenImpl()]}}))}))},e.prototype._refreshGoogleTokenImpl=function(){var e=null;return cn().isBrowser&&(e=window.gapi&&window.gapi.auth2?window.gapi.auth2:null),e?new Promise((function(t,n){e.getAuthInstance().then((function(e){e||(kn.debug("google Auth undefined"),n(new wn("google Auth undefined")));var r=e.currentUser.get();r.isSignedIn()?(kn.debug("refreshing the google access token"),r.reloadAuthResponse().then((function(e){var n=e.id_token,r=e.expires_at;t({token:n,expires_at:r})})).catch((function(e){e&&"network_error"===e.error?n("Network error reloading google auth response"):n(new wn("Failed to reload google auth response"))}))):n(new wn("User is not signed in with Google"))})).catch((function(e){kn.debug("Failed to refresh google token",e),n(new wn("Failed to refresh google token"))}))})):(kn.debug("no gapi auth2 available"),Promise.reject("no gapi auth2 available"))},e}(),On=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},In=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Rn=new Vt("CognitoCredentials"),Ln=new Promise((function(e,t){return cn().isBrowser?window.FB?(Rn.debug("FB SDK already loaded"),e()):void setTimeout((function(){return e()}),2e3):(Rn.debug("not in the browser, directly resolved"),e())})),Dn=function(){function e(){this.initialized=!1,this.refreshFacebookToken=this.refreshFacebookToken.bind(this),this._refreshFacebookTokenImpl=this._refreshFacebookTokenImpl.bind(this)}return e.prototype.refreshFacebookToken=function(){return On(this,void 0,void 0,(function(){return In(this,(function(e){switch(e.label){case 0:return this.initialized?[3,2]:(Rn.debug("need to wait for the Facebook SDK loaded"),[4,Ln]);case 1:e.sent(),this.initialized=!0,Rn.debug("finish waiting"),e.label=2;case 2:return[2,this._refreshFacebookTokenImpl()]}}))}))},e.prototype._refreshFacebookTokenImpl=function(){var e=null;if(cn().isBrowser&&(e=window.FB),!e){var t="no fb sdk available";return Rn.debug(t),Promise.reject(new wn(t))}return new Promise((function(t,n){e.getLoginStatus((function(e){if(e&&e.authResponse){var r=e.authResponse,i=r.accessToken,o=1e3*r.expiresIn+(new Date).getTime();if(!i){a="the jwtToken is undefined";Rn.debug(a),n(new wn(a))}t({token:i,expires_at:o})}else{var a="no response from facebook when refreshing the jwt token";Rn.debug(a),n(new wn(a))}}),{scope:"public_profile,email"})}))},e}(),Pn=new Cn,Nn=new Dn,Mn="aws-amplify/4.5.9",jn={userAgent:Mn+" js",product:"",navigator:null,isReactNative:!1};if("undefined"!==typeof navigator&&navigator.product)if(jn.product=navigator.product||"",jn.navigator=navigator||null,"ReactNative"===navigator.product)jn.userAgent=Mn+" react-native",jn.isReactNative=!0;else jn.userAgent=Mn+" js",jn.isReactNative=!1;var Fn=function(e){return""+jn.userAgent+(e||"")},Un=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Bn=new Vt("Amplify"),Hn=function(){function e(){this._components=[],this._config={},this._modules={},this.Auth=null,this.Analytics=null,this.API=null,this.Credentials=null,this.Storage=null,this.I18n=null,this.Cache=null,this.PubSub=null,this.Interactions=null,this.Pushnotification=null,this.UI=null,this.XR=null,this.Predictions=null,this.DataStore=null,this.Geo=null,this.Logger=Vt,this.ServiceWorker=null}return e.prototype.register=function(e){Bn.debug("component registered in amplify",e),this._components.push(e),"function"===typeof e.getModuleName?(this._modules[e.getModuleName()]=e,this[e.getModuleName()]=e):Bn.debug("no getModuleName method for component",e),e.configure(this._config)},e.prototype.configure=function(e){var t=this;return e?(this._config=Object.assign(this._config,e),Bn.debug("amplify config",this._config),Object.entries(this._modules).forEach((function(e){var n=Un(e,2),r=(n[0],n[1]);Object.keys(r).forEach((function(e){t._modules[e]&&(r[e]=t._modules[e])}))})),this._components.map((function(e){e.configure(t._config)})),this._config):this._config},e.prototype.addPluggable=function(e){e&&e.getCategory&&"function"===typeof e.getCategory&&this._components.map((function(t){t.addPluggable&&"function"===typeof t.addPluggable&&t.addPluggable(e)}))},e}(),Gn=new Hn,Vn=n(9388),zn=function(e,t){return zn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},zn(e,t)};function Wn(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}zn(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Kn=function(){return Kn=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Kn.apply(this,arguments)};function qn(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))}function Yn(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;function $n(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}var Xn,Qn,Jn,Zn,er,tr,nr,rr,ir,or,ar,sr,ur,lr,cr,fr,dr,hr,pr,vr,gr,mr,yr,br,wr,Er,Sr,xr,Tr,_r,kr,Ar,Cr,Or,Ir,Rr,Lr,Dr,Pr,Nr,Mr,jr,Fr,Ur,Br,Hr,Gr,Vr,zr,Wr,Kr,qr,Yr,$r,Xr,Qr,Jr;Object.create;!function(e){e.AUTHENTICATED_ROLE="AuthenticatedRole",e.DENY="Deny"}(Xn||(Xn={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Qn||(Qn={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Jn||(Jn={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Zn||(Zn={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(er||(er={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(tr||(tr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(nr||(nr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(rr||(rr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(ir||(ir={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(or||(or={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(ar||(ar={})),function(e){e.ACCESS_DENIED="AccessDenied",e.INTERNAL_SERVER_ERROR="InternalServerError"}(sr||(sr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(ur||(ur={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(lr||(lr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(cr||(cr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(fr||(fr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(dr||(dr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(hr||(hr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(pr||(pr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(vr||(vr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(gr||(gr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(mr||(mr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(yr||(yr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(br||(br={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(wr||(wr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Er||(Er={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Sr||(Sr={})),function(e){e.CONTAINS="Contains",e.EQUALS="Equals",e.NOT_EQUAL="NotEqual",e.STARTS_WITH="StartsWith"}(xr||(xr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Tr||(Tr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(_r||(_r={})),function(e){e.RULES="Rules",e.TOKEN="Token"}(kr||(kr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Ar||(Ar={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Cr||(Cr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Or||(Or={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Ir||(Ir={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Rr||(Rr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Lr||(Lr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Dr||(Dr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Pr||(Pr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Nr||(Nr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Mr||(Mr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(jr||(jr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Fr||(Fr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Ur||(Ur={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Br||(Br={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Hr||(Hr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Gr||(Gr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Vr||(Vr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(zr||(zr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Wr||(Wr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Kr||(Kr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(qr||(qr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Yr||(Yr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}($r||($r={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Xr||(Xr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Qr||(Qr={})),function(e){e.filterSensitiveLog=function(e){return Kn({},e)}}(Jr||(Jr={}));var Zr=function(){function e(e){this.statusCode=e.statusCode,this.headers=e.headers||{},this.body=e.body}return e.isInstance=function(e){if(!e)return!1;var t=e;return"number"===typeof t.statusCode&&"object"===typeof t.headers},e}(),ei=function(){function e(e){this.method=e.method||"GET",this.hostname=e.hostname||"localhost",this.port=e.port,this.query=e.query||{},this.headers=e.headers||{},this.body=e.body,this.protocol=e.protocol?":"!==e.protocol.substr(-1)?e.protocol+":":e.protocol:"https:",this.path=e.path?"/"!==e.path.charAt(0)?"/"+e.path:e.path:"/"}return e.isInstance=function(e){if(!e)return!1;var t=e;return"method"in t&&"protocol"in t&&"hostname"in t&&"path"in t&&"object"===typeof t.query&&"object"===typeof t.headers},e.prototype.clone=function(){var t,n=new e((0,Vn.__assign)((0,Vn.__assign)({},this),{headers:(0,Vn.__assign)({},this.headers)}));return n.query&&(n.query=(t=n.query,Object.keys(t).reduce((function(e,n){var r,i=t[n];return(0,Vn.__assign)((0,Vn.__assign)({},e),((r={})[n]=Array.isArray(i)?(0,Vn.__spread)(i):i,r))}),{}))),n},e}();var ti=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,f,d,h,p,v,g;return Yn(this,(function(m){switch(m.label){case 0:return r=[Kn({},e)],g={},[4,Ii(e.body,t)];case 1:switch(n=Kn.apply(void 0,r.concat([(g.body=m.sent(),g)])),o="UnknownError",o=Ri(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidIdentityPoolConfigurationException":case"com.amazonaws.cognitoidentity#InvalidIdentityPoolConfigurationException":return[3,6];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,ri(n,t)];case 3:return i=Kn.apply(void 0,[Kn.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 4:return s=[{}],[4,ii(n,t)];case 5:return i=Kn.apply(void 0,[Kn.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 6:return u=[{}],[4,oi(n,t)];case 7:return i=Kn.apply(void 0,[Kn.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 8:return l=[{}],[4,ai(n,t)];case 9:return i=Kn.apply(void 0,[Kn.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 10:return c=[{}],[4,ui(n,t)];case 11:return i=Kn.apply(void 0,[Kn.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 12:return f=[{}],[4,li(n,t)];case 13:return i=Kn.apply(void 0,[Kn.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 14:return d=[{}],[4,ci(n,t)];case 15:return i=Kn.apply(void 0,[Kn.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 16:return h=[{}],[4,fi(n,t)];case 17:return i=Kn.apply(void 0,[Kn.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Kn(Kn({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ai(e)}),m.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},ni=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,f,d,h,p,v,g;return Yn(this,(function(m){switch(m.label){case 0:return r=[Kn({},e)],g={},[4,Ii(e.body,t)];case 1:switch(n=Kn.apply(void 0,r.concat([(g.body=m.sent(),g)])),o="UnknownError",o=Ri(e,n.body),o){case"ExternalServiceException":case"com.amazonaws.cognitoidentity#ExternalServiceException":return[3,2];case"InternalErrorException":case"com.amazonaws.cognitoidentity#InternalErrorException":return[3,4];case"InvalidParameterException":case"com.amazonaws.cognitoidentity#InvalidParameterException":return[3,6];case"LimitExceededException":case"com.amazonaws.cognitoidentity#LimitExceededException":return[3,8];case"NotAuthorizedException":case"com.amazonaws.cognitoidentity#NotAuthorizedException":return[3,10];case"ResourceConflictException":case"com.amazonaws.cognitoidentity#ResourceConflictException":return[3,12];case"ResourceNotFoundException":case"com.amazonaws.cognitoidentity#ResourceNotFoundException":return[3,14];case"TooManyRequestsException":case"com.amazonaws.cognitoidentity#TooManyRequestsException":return[3,16]}return[3,18];case 2:return a=[{}],[4,ri(n,t)];case 3:return i=Kn.apply(void 0,[Kn.apply(void 0,a.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 4:return s=[{}],[4,ii(n,t)];case 5:return i=Kn.apply(void 0,[Kn.apply(void 0,s.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 6:return u=[{}],[4,ai(n,t)];case 7:return i=Kn.apply(void 0,[Kn.apply(void 0,u.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 8:return l=[{}],[4,si(n,t)];case 9:return i=Kn.apply(void 0,[Kn.apply(void 0,l.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 10:return c=[{}],[4,ui(n,t)];case 11:return i=Kn.apply(void 0,[Kn.apply(void 0,c.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 12:return f=[{}],[4,li(n,t)];case 13:return i=Kn.apply(void 0,[Kn.apply(void 0,f.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 14:return d=[{}],[4,ci(n,t)];case 15:return i=Kn.apply(void 0,[Kn.apply(void 0,d.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 16:return h=[{}],[4,fi(n,t)];case 17:return i=Kn.apply(void 0,[Kn.apply(void 0,h.concat([m.sent()])),{name:o,$metadata:Ai(e)}]),[3,19];case 18:p=n.body,o=p.code||p.Code||o,i=Kn(Kn({},p),{name:""+o,message:p.message||p.Message||o,$fault:"client",$metadata:Ai(e)}),m.label=19;case 19:return v=i.message||i.Message||o,i.message=v,delete i.Message,[2,Promise.reject(Object.assign(new Error(v),i))]}}))}))},ri=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=gi(n,t),[2,Kn({name:"ExternalServiceException",$fault:"client",$metadata:Ai(e)},r)]}))}))},ii=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=bi(n,t),[2,Kn({name:"InternalErrorException",$fault:"server",$metadata:Ai(e)},r)]}))}))},oi=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=wi(n,t),[2,Kn({name:"InvalidIdentityPoolConfigurationException",$fault:"client",$metadata:Ai(e)},r)]}))}))},ai=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=Ei(n,t),[2,Kn({name:"InvalidParameterException",$fault:"client",$metadata:Ai(e)},r)]}))}))},si=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=Si(n,t),[2,Kn({name:"LimitExceededException",$fault:"client",$metadata:Ai(e)},r)]}))}))},ui=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=xi(n,t),[2,Kn({name:"NotAuthorizedException",$fault:"client",$metadata:Ai(e)},r)]}))}))},li=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=Ti(n,t),[2,Kn({name:"ResourceConflictException",$fault:"client",$metadata:Ai(e)},r)]}))}))},ci=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=_i(n,t),[2,Kn({name:"ResourceNotFoundException",$fault:"client",$metadata:Ai(e)},r)]}))}))},fi=function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n=e.body,r=ki(n,t),[2,Kn({name:"TooManyRequestsException",$fault:"client",$metadata:Ai(e)},r)]}))}))},di=function(e,t){return Kn(Kn(Kn({},void 0!==e.CustomRoleArn&&null!==e.CustomRoleArn&&{CustomRoleArn:e.CustomRoleArn}),void 0!==e.IdentityId&&null!==e.IdentityId&&{IdentityId:e.IdentityId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:pi(e.Logins,t)})},hi=function(e,t){return Kn(Kn(Kn({},void 0!==e.AccountId&&null!==e.AccountId&&{AccountId:e.AccountId}),void 0!==e.IdentityPoolId&&null!==e.IdentityPoolId&&{IdentityPoolId:e.IdentityPoolId}),void 0!==e.Logins&&null!==e.Logins&&{Logins:pi(e.Logins,t)})},pi=function(e,t){return Object.entries(e).reduce((function(e,t){var n,r=$n(t,2),i=r[0],o=r[1];return null===o?e:Kn(Kn({},e),((n={})[i]=o,n))}),{})},vi=function(e,t){return{AccessKeyId:void 0!==e.AccessKeyId&&null!==e.AccessKeyId?e.AccessKeyId:void 0,Expiration:void 0!==e.Expiration&&null!==e.Expiration?new Date(Math.round(1e3*e.Expiration)):void 0,SecretKey:void 0!==e.SecretKey&&null!==e.SecretKey?e.SecretKey:void 0,SessionToken:void 0!==e.SessionToken&&null!==e.SessionToken?e.SessionToken:void 0}},gi=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},mi=function(e,t){return{Credentials:void 0!==e.Credentials&&null!==e.Credentials?vi(e.Credentials):void 0,IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},yi=function(e,t){return{IdentityId:void 0!==e.IdentityId&&null!==e.IdentityId?e.IdentityId:void 0}},bi=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},wi=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ei=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Si=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},xi=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ti=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},_i=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},ki=function(e,t){return{message:void 0!==e.message&&null!==e.message?e.message:void 0}},Ai=function(e){var t;return{httpStatusCode:e.statusCode,requestId:null!==(t=e.headers["x-amzn-requestid"])&&void 0!==t?t:e.headers["x-amzn-request-id"],extendedRequestId:e.headers["x-amz-id-2"],cfId:e.headers["x-amz-cf-id"]}},Ci=function(e,t){return void 0===e&&(e=new Uint8Array),e instanceof Uint8Array?Promise.resolve(e):t.streamCollector(e)||Promise.resolve(new Uint8Array)},Oi=function(e,t,n,r,i){return qn(void 0,void 0,void 0,(function(){var o,a,s,u,l,c;return Yn(this,(function(f){switch(f.label){case 0:return[4,e.endpoint()];case 1:return o=f.sent(),a=o.hostname,s=o.protocol,u=void 0===s?"https":s,l=o.port,c={protocol:u,hostname:a,port:l,method:"POST",path:n,headers:t},void 0!==r&&(c.hostname=r),void 0!==i&&(c.body=i),[2,new ei(c)]}}))}))},Ii=function(e,t){return function(e,t){return Ci(e,t).then((function(e){return t.utf8Encoder(e)}))}(e,t).then((function(e){return e.length?JSON.parse(e):{}}))},Ri=function(e,t){var n,r,i=function(e){var t=e;return t.indexOf(":")>=0&&(t=t.split(":")[0]),t.indexOf("#")>=0&&(t=t.split("#")[1]),t},o=(n=e.headers,r="x-amzn-errortype",Object.keys(n).find((function(e){return e.toLowerCase()===r.toLowerCase()})));return void 0!==o?i(e.headers[o]):void 0!==t.code?i(t.code):void 0!==t.__type?i(t.__type):""},Li={name:"deserializerMiddleware",step:"deserialize",tags:["DESERIALIZER"],override:!0},Di={name:"serializerMiddleware",step:"serialize",tags:["SERIALIZER"],override:!0};function Pi(e,t,n){return{applyToStack:function(r){r.add(function(e,t){return function(n,r){return function(r){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var i,o;return(0,Vn.__generator)(this,(function(a){switch(a.label){case 0:return[4,n(r)];case 1:return i=a.sent().response,[4,t(i,e)];case 2:return o=a.sent(),[2,{response:i,output:o}]}}))}))}}}(e,n),Li),r.add(function(e,t){return function(n,r){return function(r){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,Vn.__generator)(this,(function(o){switch(o.label){case 0:return[4,t(r.input,e)];case 1:return i=o.sent(),[2,n((0,Vn.__assign)((0,Vn.__assign)({},r),{request:i}))]}}))}))}}}(e,t),Di)}}}var Ni=function e(){var t=[],n=[],r=new Set,i=function(e){return t.forEach((function(t){e.add(t.middleware,(0,Vn.__assign)({},t))})),n.forEach((function(t){e.addRelativeTo(t.middleware,(0,Vn.__assign)({},t))})),e},o=function e(t){var n=[];return t.before.forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,Vn.__spread)(e(t)))})),n.push(t),t.after.reverse().forEach((function(t){0===t.before.length&&0===t.after.length?n.push(t):n.push.apply(n,(0,Vn.__spread)(e(t)))})),n},a=function(){var e=[],r=[],i={};t.forEach((function(t){var n=(0,Vn.__assign)((0,Vn.__assign)({},t),{before:[],after:[]});n.name&&(i[n.name]=n),e.push(n)})),n.forEach((function(e){var t=(0,Vn.__assign)((0,Vn.__assign)({},e),{before:[],after:[]});t.name&&(i[t.name]=t),r.push(t)})),r.forEach((function(e){if(e.toMiddleware){var t=i[e.toMiddleware];if(void 0===t)throw new Error(e.toMiddleware+" is not found when adding "+(e.name||"anonymous")+" middleware "+e.relation+" "+e.toMiddleware);"after"===e.relation&&t.after.push(e),"before"===e.relation&&t.before.push(e)}}));var a,s=(a=e,a.sort((function(e,t){return Mi[t.step]-Mi[e.step]||ji[t.priority||"normal"]-ji[e.priority||"normal"]}))).map(o).reduce((function(e,t){return e.push.apply(e,(0,Vn.__spread)(t)),e}),[]);return s.map((function(e){return e.middleware}))},s={add:function(e,n){void 0===n&&(n={});var i=n.name,o=n.override,a=(0,Vn.__assign)({step:"initialize",priority:"normal",middleware:e},n);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=t.findIndex((function(e){return e.name===i})),u=t[s];if(u.step!==a.step||u.priority!==a.priority)throw new Error('"'+i+'" middleware with '+u.priority+" priority in "+u.step+" step cannot be overridden by same-name middleware with "+a.priority+" priority in "+a.step+" step.");t.splice(s,1)}r.add(i)}t.push(a)},addRelativeTo:function(e,t){var i=t.name,o=t.override,a=(0,Vn.__assign)({middleware:e},t);if(i){if(r.has(i)){if(!o)throw new Error("Duplicate middleware name '"+i+"'");var s=n.findIndex((function(e){return e.name===i})),u=n[s];if(u.toMiddleware!==a.toMiddleware||u.relation!==a.relation)throw new Error('"'+i+'" middleware '+u.relation+' "'+u.toMiddleware+'" middleware cannot be overridden by same-name middleware '+a.relation+' "'+a.toMiddleware+'" middleware.');n.splice(s,1)}r.add(i)}n.push(a)},clone:function(){return i(e())},use:function(e){e.applyToStack(s)},remove:function(e){return"string"===typeof e?function(e){var i=!1,o=function(t){return!t.name||t.name!==e||(i=!0,r.delete(e),!1)};return t=t.filter(o),n=n.filter(o),i}(e):function(e){var i=!1,o=function(t){return t.middleware!==e||(i=!0,t.name&&r.delete(t.name),!1)};return t=t.filter(o),n=n.filter(o),i}(e)},removeByTag:function(e){var i=!1,o=function(t){var n=t.tags,o=t.name;return!n||!n.includes(e)||(o&&r.delete(o),i=!0,!1)};return t=t.filter(o),n=n.filter(o),i},concat:function(t){var n=i(e());return n.use(t),n},applyToStack:i,resolve:function(e,t){var n,r;try{for(var i=(0,Vn.__values)(a().reverse()),o=i.next();!o.done;o=i.next()){e=(0,o.value)(e,t)}}catch(s){n={error:s}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return e}};return s},Mi={initialize:5,serialize:4,build:3,finalizeRequest:2,deserialize:1},ji={high:3,normal:2,low:1},Fi=function(){function e(e){this.middlewareStack=Ni(),this.config=e}return e.prototype.send=function(e,t,n){var r="function"!==typeof t?t:void 0,i="function"===typeof t?t:n,o=e.resolveMiddleware(this.middlewareStack,this.config,r);if(!i)return o(e).then((function(e){return e.output}));o(e).then((function(e){return i(null,e.output)}),(function(e){return i(e)})).catch((function(){}))},e.prototype.destroy=function(){this.config.requestHandler.destroy&&this.config.requestHandler.destroy()},e}(),Ui=function(){this.middlewareStack=Ni()},Bi=function(){var e=Object.getPrototypeOf(this).constructor,t=Function.bind.apply(String,(0,Vn.__spread)([null],arguments)),n=new t;return Object.setPrototypeOf(n,e.prototype),n};Bi.prototype=Object.create(String.prototype,{constructor:{value:Bi,enumerable:!1,writable:!0,configurable:!0}}),Object.setPrototypeOf(Bi,String);!function(e){function t(){return null!==e&&e.apply(this,arguments)||this}(0,Vn.__extends)(t,e),t.prototype.deserializeJSON=function(){return JSON.parse(e.prototype.toString.call(this))},t.prototype.toJSON=function(){return e.prototype.toString.call(this)},t.fromObject=function(e){return e instanceof t?e:new t(e instanceof String||"string"===typeof e?e:JSON.stringify(e))}}(Bi);var Hi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Wn(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Pi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetCredentialsForIdentityCommand",inputFilterSensitiveLog:gr.filterSensitiveLog,outputFilterSensitiveLog:yr.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetCredentialsForIdentity"},r=JSON.stringify(di(e,t)),[2,Oi(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r,i;return Yn(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ti(e,t)]:[4,Ii(e.body,t)];case 1:return n=o.sent(),r=mi(n,t),i=Kn({$metadata:Ai(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Gi=function(e){function t(t,n){void 0===n&&(n=!0);var r=e.call(this,t)||this;return r.tryNextLink=n,r}return(0,Vn.__extends)(t,e),t}(Error);function Vi(e){return Promise.all(Object.keys(e).reduce((function(t,n){var r=e[n];return"string"===typeof r?t.push([n,r]):t.push(r().then((function(e){return[n,e]}))),t}),[])).then((function(e){return e.reduce((function(e,t){var n=(0,Vn.__read)(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})}))}function zi(e){var t=this;return function(){return(0,Vn.__awaiter)(t,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l,c,f,d,h;return(0,Vn.__generator)(this,(function(p){switch(p.label){case 0:return c=(l=e.client).send,f=Hi.bind,h={CustomRoleArn:e.customRoleArn,IdentityId:e.identityId},e.logins?[4,Vi(e.logins)]:[3,2];case 1:return d=p.sent(),[3,3];case 2:d=void 0,p.label=3;case 3:return[4,c.apply(l,[new(f.apply(Hi,[void 0,(h.Logins=d,h)]))])];case 4:return t=p.sent().Credentials,n=void 0===t?function(){throw new Gi("Response from Amazon Cognito contained no credentials")}():t,r=n.AccessKeyId,i=void 0===r?function(){throw new Gi("Response from Amazon Cognito contained no access key ID")}():r,o=n.Expiration,a=n.SecretKey,s=void 0===a?function(){throw new Gi("Response from Amazon Cognito contained no secret key")}():a,u=n.SessionToken,[2,{identityId:e.identityId,accessKeyId:i,secretAccessKey:s,sessionToken:u,expiration:o}]}}))}))}}var Wi=function(e){function t(t){var n=e.call(this)||this;return n.input=t,n}return Wn(t,e),t.prototype.resolveMiddleware=function(e,t,n){this.middlewareStack.use(Pi(t,this.serialize,this.deserialize));var r=e.concat(this.middlewareStack),i={logger:t.logger,clientName:"CognitoIdentityClient",commandName:"GetIdCommand",inputFilterSensitiveLog:wr.filterSensitiveLog,outputFilterSensitiveLog:Er.filterSensitiveLog},o=t.requestHandler;return r.resolve((function(e){return o.handle(e.request,n||{})}),i)},t.prototype.serialize=function(e,t){return function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r;return Yn(this,(function(i){return n={"content-type":"application/x-amz-json-1.1","x-amz-target":"AWSCognitoIdentityService.GetId"},r=JSON.stringify(hi(e,t)),[2,Oi(t,n,"/",void 0,r)]}))}))}(e,t)},t.prototype.deserialize=function(e,t){return function(e,t){return qn(void 0,void 0,void 0,(function(){var n,r,i;return Yn(this,(function(o){switch(o.label){case 0:return e.statusCode>=300?[2,ni(e,t)]:[4,Ii(e.body,t)];case 1:return n=o.sent(),r=yi(n,t),i=Kn({$metadata:Ai(e)},r),[2,Promise.resolve(i)]}}))}))}(e,t)},t}(Ui),Ki="IdentityIds",qi=function(){function e(e){void 0===e&&(e="aws:cognito-identity-ids"),this.dbName=e}return e.prototype.getItem=function(e){return this.withObjectStore("readonly",(function(t){var n=t.get(e);return new Promise((function(e){n.onerror=function(){return e(null)},n.onsuccess=function(){return e(n.result?n.result.value:null)}}))})).catch((function(){return null}))},e.prototype.removeItem=function(e){return this.withObjectStore("readwrite",(function(t){var n=t.delete(e);return new Promise((function(e,t){n.onerror=function(){return t(n.error)},n.onsuccess=function(){return e()}}))}))},e.prototype.setItem=function(e,t){return this.withObjectStore("readwrite",(function(n){var r=n.put({id:e,value:t});return new Promise((function(e,t){r.onerror=function(){return t(r.error)},r.onsuccess=function(){return e()}}))}))},e.prototype.getDb=function(){var e=self.indexedDB.open(this.dbName,1);return new Promise((function(t,n){e.onsuccess=function(){t(e.result)},e.onerror=function(){n(e.error)},e.onblocked=function(){n(new Error("Unable to access DB"))},e.onupgradeneeded=function(){var t=e.result;t.onerror=function(){n(new Error("Failed to create object store"))},t.createObjectStore(Ki,{keyPath:"id"})}}))},e.prototype.withObjectStore=function(e,t){return this.getDb().then((function(n){var r=n.transaction(Ki,e);return r.oncomplete=function(){return n.close()},new Promise((function(e,n){r.onerror=function(){return n(r.error)},e(t(r.objectStore(Ki)))})).catch((function(e){throw n.close(),e}))}))},e}(),Yi=new(function(){function e(e){void 0===e&&(e={}),this.store=e}return e.prototype.getItem=function(e){return e in this.store?this.store[e]:null},e.prototype.removeItem=function(e){delete this.store[e]},e.prototype.setItem=function(e,t){this.store[e]=t},e}());function $i(e){var t=this,n=e.accountId,r=e.cache,i=void 0===r?"object"===typeof self&&self.indexedDB?new qi:"object"===typeof window&&window.localStorage?window.localStorage:Yi:r,o=e.client,a=e.customRoleArn,s=e.identityPoolId,u=e.logins,l=e.userIdentifier,c=void 0===l?u&&0!==Object.keys(u).length?void 0:"ANONYMOUS":l,f=c?"aws:cognito-identity-credentials:"+s+":"+c:void 0,d=function(){return(0,Vn.__awaiter)(t,void 0,void 0,(function(){var e,t,r,l,c,h,p,v,g;return(0,Vn.__generator)(this,(function(m){switch(m.label){case 0:return(t=f)?[4,i.getItem(f)]:[3,2];case 1:t=m.sent(),m.label=2;case 2:return(e=t)?[3,7]:(h=(c=o).send,p=Wi.bind,g={AccountId:n,IdentityPoolId:s},u?[4,Vi(u)]:[3,4]);case 3:return v=m.sent(),[3,5];case 4:v=void 0,m.label=5;case 5:return[4,h.apply(c,[new(p.apply(Wi,[void 0,(g.Logins=v,g)]))])];case 6:r=m.sent().IdentityId,l=void 0===r?function(){throw new Gi("Response from Amazon Cognito contained no identity ID")}():r,e=l,f&&Promise.resolve(i.setItem(f,e)).catch((function(){})),m.label=7;case 7:return[2,(d=zi({client:o,customRoleArn:a,logins:u,identityId:e}))()]}}))}))};return function(){return d().catch((function(e){return(0,Vn.__awaiter)(t,void 0,void 0,(function(){return(0,Vn.__generator)(this,(function(t){throw f&&Promise.resolve(i.removeItem(f)).catch((function(){})),e}))}))}))}}var Xi=n(2843),Qi=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,Ji)},Ji=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};for(var Zi=function(){function e(e){var t=(void 0===e?{}:e).requestTimeout;this.requestTimeout=t}return e.prototype.destroy=function(){},e.prototype.handle=function(e,t){var n=(void 0===t?{}:t).abortSignal,r=this.requestTimeout;if(null===n||void 0===n?void 0:n.aborted){var i=new Error("Request aborted");return i.name="AbortError",Promise.reject(i)}var o=e.path;if(e.query){var a=function(e){var t,n,r=[];try{for(var i=(0,Vn.__values)(Object.keys(e).sort()),o=i.next();!o.done;o=i.next()){var a=o.value,s=e[a];if(a=Qi(a),Array.isArray(s))for(var u=0,l=s.length;u<l;u++)r.push(a+"="+Qi(s[u]));else{var c=a;(s||"string"===typeof s)&&(c+="="+Qi(s)),r.push(c)}}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r.join("&")}(e.query);a&&(o+="?"+a)}var s=e.port,u=e.method,l=e.protocol+"//"+e.hostname+(s?":"+s:"")+o,c={body:"GET"===u||"HEAD"===u?void 0:e.body,headers:new Headers(e.headers),method:u};"undefined"!==typeof AbortController&&(c.signal=n);var f,d=new Request(l,c),h=[fetch(d).then((function(e){var t,n,r=e.headers,i={};try{for(var o=(0,Vn.__values)(r.entries()),a=o.next();!a.done;a=o.next()){var s=a.value;i[s[0]]=s[1]}}catch(u){t={error:u}}finally{try{a&&!a.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}return void 0!==e.body?{response:new Zr({headers:i,statusCode:e.status,body:e.body})}:e.blob().then((function(t){return{response:new Zr({headers:i,statusCode:e.status,body:t})}}))})),(f=r,void 0===f&&(f=0),new Promise((function(e,t){f&&setTimeout((function(){var e=new Error("Request did not complete within "+f+" ms");e.name="TimeoutError",t(e)}),f)})))];return n&&h.push(new Promise((function(e,t){n.onabort=function(){var e=new Error("Request aborted");e.name="AbortError",t(e)}}))),Promise.race(h)},e}(),eo={},to=new Array(64),no=0,ro="A".charCodeAt(0),io="Z".charCodeAt(0);no+ro<=io;no++){var oo=String.fromCharCode(no+ro);eo[oo]=no,to[no]=oo}for(no=0,ro="a".charCodeAt(0),io="z".charCodeAt(0);no+ro<=io;no++){oo=String.fromCharCode(no+ro);var ao=no+26;eo[oo]=ao,to[ao]=oo}for(no=0;no<10;no++){eo[no.toString(10)]=no+52;oo=no.toString(10),ao=no+52;eo[oo]=ao,to[ao]=oo}eo["+"]=62,to[62]="+",eo["/"]=63,to[63]="/";function so(e){var t=e.length/4*3;"=="===e.substr(-2)?t-=2:"="===e.substr(-1)&&t--;for(var n=new ArrayBuffer(t),r=new DataView(n),i=0;i<e.length;i+=4){for(var o=0,a=0,s=i,u=i+3;s<=u;s++)"="!==e[s]?(o|=eo[e[s]]<<6*(u-s),a+=6):o>>=6;var l=i/4*3;o>>=a%8;for(var c=Math.floor(a/8),f=0;f<c;f++){var d=8*(c-f-1);r.setUint8(l+f,(o&255<<d)>>d)}}return new Uint8Array(n)}function uo(e){return new Promise((function(t,n){var r=new FileReader;r.onloadend=function(){var e;if(2!==r.readyState)return n(new Error("Reader aborted too early"));var i=null!==(e=r.result)&&void 0!==e?e:"",o=i.indexOf(","),a=o>-1?o+1:i.length;t(i.substring(a))},r.onabort=function(){return n(new Error("Read aborted"))},r.onerror=function(){return n(r.error)},r.readAsDataURL(e)}))}var lo={name:"retryMiddleware",tags:["RETRY"],step:"finalizeRequest",priority:"high",override:!0},co=function(e){return{applyToStack:function(t){t.add(function(e){return function(t,n){return function(r){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var i;return(0,Vn.__generator)(this,(function(o){return(null===(i=null===e||void 0===e?void 0:e.retryStrategy)||void 0===i?void 0:i.mode)&&(n.userAgent=(0,Vn.__spread)(n.userAgent||[],[["cfg/retry-mode",e.retryStrategy.mode]])),[2,e.retryStrategy.retry(t,r)]}))}))}}}(e),lo)}}},fo=["AuthFailure","InvalidSignatureException","RequestExpired","RequestInTheFuture","RequestTimeTooSkewed","SignatureDoesNotMatch"],ho=["BandwidthLimitExceeded","EC2ThrottledException","LimitExceededException","PriorRequestNotComplete","ProvisionedThroughputExceededException","RequestLimitExceeded","RequestThrottled","RequestThrottledException","SlowDown","ThrottledException","Throttling","ThrottlingException","TooManyRequestsException","TransactionInProgressException"],po=["AbortError","TimeoutError","RequestTimeout","RequestTimeoutException"],vo=[500,502,503,504],go=function(e){var t,n;return 429===(null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||ho.includes(e.name)||1==(null===(n=e.$retryable)||void 0===n?void 0:n.throttling)},mo=n(9700),yo=function(e,t){return Math.floor(Math.min(2e4,Math.random()*Math.pow(2,t)*e))},bo=function(e){return!!e&&(function(e){return void 0!==e.$retryable}(e)||function(e){return fo.includes(e.name)}(e)||go(e)||function(e){var t;return po.includes(e.name)||vo.includes((null===(t=e.$metadata)||void 0===t?void 0:t.httpStatusCode)||0)}(e))},wo="standard",Eo=function(){function e(e,t){var n,r,i;this.maxAttemptsProvider=e,this.mode=wo,this.retryDecider=null!==(n=null===t||void 0===t?void 0:t.retryDecider)&&void 0!==n?n:bo,this.delayDecider=null!==(r=null===t||void 0===t?void 0:t.delayDecider)&&void 0!==r?r:yo,this.retryQuota=null!==(i=null===t||void 0===t?void 0:t.retryQuota)&&void 0!==i?i:function(e){var t=e,n=e,r=function(e){return"TimeoutError"===e.name?10:5},i=function(e){return r(e)<=n};return Object.freeze({hasRetryTokens:i,retrieveRetryTokens:function(e){if(!i(e))throw new Error("No retry token available");var t=r(e);return n-=t,t},releaseRetryTokens:function(e){n+=null!==e&&void 0!==e?e:1,n=Math.min(n,t)}})}(500)}return e.prototype.shouldRetry=function(e,t,n){return t<n&&this.retryDecider(e)&&this.retryQuota.hasRetryTokens(e)},e.prototype.getMaxAttempts=function(){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var e;return(0,Vn.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,this.maxAttemptsProvider()];case 1:return e=t.sent(),[3,3];case 2:return t.sent(),e=3,[3,3];case 3:return[2,e]}}))}))},e.prototype.retry=function(e,t){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l;return(0,Vn.__generator)(this,(function(c){switch(c.label){case 0:return r=0,i=0,[4,this.getMaxAttempts()];case 1:o=c.sent(),a=t.request,ei.isInstance(a)&&(a.headers["amz-sdk-invocation-id"]=(0,mo.v4)()),s=function(){var s,l,c,f,d;return(0,Vn.__generator)(this,(function(h){switch(h.label){case 0:return h.trys.push([0,2,,5]),ei.isInstance(a)&&(a.headers["amz-sdk-request"]="attempt="+(r+1)+"; max="+o),[4,e(t)];case 1:return s=h.sent(),l=s.response,c=s.output,u.retryQuota.releaseRetryTokens(n),c.$metadata.attempts=r+1,c.$metadata.totalRetryDelay=i,[2,{value:{response:l,output:c}}];case 2:return f=h.sent(),r++,u.shouldRetry(f,r,o)?(n=u.retryQuota.retrieveRetryTokens(f),d=u.delayDecider(go(f)?500:100,r),i+=d,[4,new Promise((function(e){return setTimeout(e,d)}))]):[3,4];case 3:return h.sent(),[2,"continue"];case 4:throw f.$metadata||(f.$metadata={}),f.$metadata.attempts=r,f.$metadata.totalRetryDelay=i,f;case 5:return[2]}}))},u=this,c.label=2;case 2:return[5,s()];case 3:return"object"===typeof(l=c.sent())?[2,l.value]:[3,2];case 4:return[2]}}))}))},e}(),So=function(e){if(void 0===e&&(e=3),"number"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};var xo=n(5524),To=n.n(xo),_o=n(8071),ko="cognito-identity.{region}.amazonaws.com",Ao=new Set(["af-south-1","ap-east-1","ap-northeast-1","ap-northeast-2","ap-south-1","ap-southeast-1","ap-southeast-2","ca-central-1","eu-central-1","eu-north-1","eu-south-1","eu-west-1","eu-west-2","eu-west-3","me-south-1","sa-east-1","us-east-1","us-east-2","us-west-1","us-west-2"]),Co=new Set(["cn-north-1","cn-northwest-1"]),Oo=new Set(["us-iso-east-1"]),Io=new Set(["us-isob-east-1"]),Ro=new Set(["us-gov-east-1","us-gov-west-1"]);var Lo,Do={apiVersion:"2014-06-30",disableHostPrefix:!1,logger:{},regionInfoProvider:function(e,t){var n=void 0;switch(e){case"ap-northeast-1":n={hostname:"cognito-identity.ap-northeast-1.amazonaws.com",partition:"aws"};break;case"ap-northeast-2":n={hostname:"cognito-identity.ap-northeast-2.amazonaws.com",partition:"aws"};break;case"ap-south-1":n={hostname:"cognito-identity.ap-south-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-1":n={hostname:"cognito-identity.ap-southeast-1.amazonaws.com",partition:"aws"};break;case"ap-southeast-2":n={hostname:"cognito-identity.ap-southeast-2.amazonaws.com",partition:"aws"};break;case"ca-central-1":n={hostname:"cognito-identity.ca-central-1.amazonaws.com",partition:"aws"};break;case"cn-north-1":n={hostname:"cognito-identity.cn-north-1.amazonaws.com.cn",partition:"aws-cn"};break;case"eu-central-1":n={hostname:"cognito-identity.eu-central-1.amazonaws.com",partition:"aws"};break;case"eu-north-1":n={hostname:"cognito-identity.eu-north-1.amazonaws.com",partition:"aws"};break;case"eu-west-1":n={hostname:"cognito-identity.eu-west-1.amazonaws.com",partition:"aws"};break;case"eu-west-2":n={hostname:"cognito-identity.eu-west-2.amazonaws.com",partition:"aws"};break;case"eu-west-3":n={hostname:"cognito-identity.eu-west-3.amazonaws.com",partition:"aws"};break;case"fips-us-east-1":n={hostname:"cognito-identity-fips.us-east-1.amazonaws.com",partition:"aws",signingRegion:"us-east-1"};break;case"fips-us-east-2":n={hostname:"cognito-identity-fips.us-east-2.amazonaws.com",partition:"aws",signingRegion:"us-east-2"};break;case"fips-us-gov-west-1":n={hostname:"cognito-identity-fips.us-gov-west-1.amazonaws.com",partition:"aws-us-gov",signingRegion:"us-gov-west-1"};break;case"fips-us-west-2":n={hostname:"cognito-identity-fips.us-west-2.amazonaws.com",partition:"aws",signingRegion:"us-west-2"};break;case"sa-east-1":n={hostname:"cognito-identity.sa-east-1.amazonaws.com",partition:"aws"};break;case"us-east-1":n={hostname:"cognito-identity.us-east-1.amazonaws.com",partition:"aws"};break;case"us-east-2":n={hostname:"cognito-identity.us-east-2.amazonaws.com",partition:"aws"};break;case"us-gov-west-1":n={hostname:"cognito-identity.us-gov-west-1.amazonaws.com",partition:"aws-us-gov"};break;case"us-west-1":n={hostname:"cognito-identity.us-west-1.amazonaws.com",partition:"aws"};break;case"us-west-2":n={hostname:"cognito-identity.us-west-2.amazonaws.com",partition:"aws"};break;default:Ao.has(e)&&(n={hostname:ko.replace("{region}",e),partition:"aws"}),Co.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com.cn".replace("{region}",e),partition:"aws-cn"}),Oo.has(e)&&(n={hostname:"cognito-identity.{region}.c2s.ic.gov".replace("{region}",e),partition:"aws-iso"}),Io.has(e)&&(n={hostname:"cognito-identity.{region}.sc2s.sgov.gov".replace("{region}",e),partition:"aws-iso-b"}),Ro.has(e)&&(n={hostname:"cognito-identity.{region}.amazonaws.com".replace("{region}",e),partition:"aws-us-gov"}),void 0===n&&(n={hostname:ko.replace("{region}",e),partition:"aws"})}return Promise.resolve(Kn({signingService:"cognito-identity"},n))},serviceId:"Cognito Identity",urlParser:function(e){var t,n=new URL(e),r=n.hostname,i=n.pathname,o=n.port,a=n.protocol,s=n.search;return s&&(t=function(e){var t,n,r={};if(e=e.replace(/^\?/,""))try{for(var i=(0,Vn.__values)(e.split("&")),o=i.next();!o.done;o=i.next()){var a=o.value,s=(0,Vn.__read)(a.split("="),2),u=s[0],l=s[1],c=void 0===l?null:l;u=decodeURIComponent(u),c&&(c=decodeURIComponent(c)),u in r?Array.isArray(r[u])?r[u].push(c):r[u]=[r[u],c]:r[u]=c}}catch(f){t={error:f}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}(s)),{hostname:r,port:o?parseInt(o):void 0,protocol:a,path:i,query:t}}},Po=Kn(Kn({},Do),{runtime:"browser",base64Decoder:so,base64Encoder:function(e){for(var t="",n=0;n<e.length;n+=3){for(var r=0,i=0,o=n,a=Math.min(n+3,e.length);o<a;o++)r|=e[o]<<8*(a-o-1),i+=8;var s=Math.ceil(i/6);r<<=6*s-i;for(var u=1;u<=s;u++){var l=6*(s-u);t+=to[(r&63<<l)>>l]}t+="==".slice(0,4-s)}return t},bodyLengthChecker:function(e){if("string"===typeof e){for(var t=e.length,n=t-1;n>=0;n--){var r=e.charCodeAt(n);r>127&&r<=2047?t++:r>2047&&r<=65535&&(t+=2)}return t}return"number"===typeof e.byteLength?e.byteLength:"number"===typeof e.size?e.size:void 0},credentialDefaultProvider:function(e){return function(){return Promise.reject(new Error("Credential is missing"))}},defaultUserAgentProvider:function(e){var t=e.serviceId,n=e.clientVersion;return function(){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var e,r,i,o,a,s,u,l,c;return(0,Vn.__generator)(this,(function(f){return e=(null===(i=null===window||void 0===window?void 0:window.navigator)||void 0===i?void 0:i.userAgent)?To().parse(window.navigator.userAgent):void 0,r=[["aws-sdk-js",n],["os/"+((null===(o=null===e||void 0===e?void 0:e.os)||void 0===o?void 0:o.name)||"other"),null===(a=null===e||void 0===e?void 0:e.os)||void 0===a?void 0:a.version],["lang/js"],["md/browser",(null!==(u=null===(s=null===e||void 0===e?void 0:e.browser)||void 0===s?void 0:s.name)&&void 0!==u?u:"unknown")+"_"+(null!==(c=null===(l=null===e||void 0===e?void 0:e.browser)||void 0===l?void 0:l.version)&&void 0!==c?c:"unknown")]],t&&r.push(["api/"+t,n]),[2,r]}))}))}}({serviceId:Do.serviceId,clientVersion:"3.6.1"}),maxAttempts:3,region:(Lo="Region is missing",function(){return Promise.reject(Lo)}),requestHandler:new Zi,sha256:Xi.Sha256,streamCollector:function(e){return"function"===typeof Blob&&e instanceof Blob?function(e){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var t,n;return(0,Vn.__generator)(this,(function(r){switch(r.label){case 0:return[4,uo(e)];case 1:return t=r.sent(),n=so(t),[2,new Uint8Array(n)]}}))}))}(e):function(e){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return(0,Vn.__generator)(this,(function(u){switch(u.label){case 0:t=new Uint8Array(0),n=e.getReader(),r=!1,u.label=1;case 1:return r?[3,3]:[4,n.read()];case 2:return i=u.sent(),o=i.done,(a=i.value)&&(s=t,(t=new Uint8Array(s.length+a.length)).set(s),t.set(a,s.length)),r=o,[3,1];case 3:return[2,t]}}))}))}(e)},utf8Decoder:_o.fromUtf8,utf8Encoder:_o.toUtf8}),No=function(e){var t=e.endpoint,n=e.urlParser;if("string"===typeof t){var r=Promise.resolve(n(t));return function(){return r}}if("object"===typeof t){var i=Promise.resolve(t);return function(){return i}}return t},Mo=function(e){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var t,n,r,i,o;return(0,Vn.__generator)(this,(function(a){switch(a.label){case 0:return t=e.tls,n=void 0===t||t,[4,e.region()];case 1:if(r=a.sent(),!new RegExp(/^([a-zA-Z0-9]|[a-zA-Z0-9][a-zA-Z0-9-]{0,61}[a-zA-Z0-9])$/).test(r))throw new Error("Invalid region in client config");return[4,e.regionInfoProvider(r)];case 2:if(!(i=(null!==(o=a.sent())&&void 0!==o?o:{}).hostname))throw new Error("Cannot resolve hostname from client config");return[2,e.urlParser((n?"https:":"http:")+"//"+i)]}}))}))},jo=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Fo="content-length";var Uo={step:"build",tags:["SET_CONTENT_LENGTH","CONTENT_LENGTH"],name:"contentLengthMiddleware",override:!0},Bo=function(e){return{applyToStack:function(t){t.add(function(e){var t=this;return function(n){return function(r){return(0,Vn.__awaiter)(t,void 0,void 0,(function(){var t,i,o,a,s;return(0,Vn.__generator)(this,(function(u){return t=r.request,ei.isInstance(t)&&(i=t.body,o=t.headers,i&&-1===Object.keys(o).map((function(e){return e.toLowerCase()})).indexOf(Fo)&&void 0!==(a=e(i))&&(t.headers=(0,Vn.__assign)((0,Vn.__assign)({},t.headers),((s={})["content-length"]=String(a),s)))),[2,n((0,Vn.__assign)((0,Vn.__assign)({},r),{request:t}))]}))}))}}}(e.bodyLengthChecker),Uo)}}};for(var Ho={name:"hostHeaderMiddleware",step:"build",priority:"low",tags:["HOST"],override:!0},Go=function(e){return{applyToStack:function(t){t.add(function(e){return function(t){return function(n){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var r,i;return(0,Vn.__generator)(this,(function(o){return ei.isInstance(n.request)?(r=n.request,(void 0===(i=(e.requestHandler.metadata||{}).handlerProtocol)?"":i).indexOf("h2")>=0&&!r.headers[":authority"]?(delete r.headers.host,r.headers[":authority"]=""):r.headers.host||(r.headers.host=r.hostname),[2,t(n)]):[2,t(n)]}))}))}}}(e),Ho)}}},Vo={name:"loggerMiddleware",tags:["LOGGER"],step:"initialize",override:!0},zo=function(e){return{applyToStack:function(e){e.add((function(e,t){return function(n){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,f;return(0,Vn.__generator)(this,(function(d){switch(d.label){case 0:return r=t.clientName,i=t.commandName,o=t.inputFilterSensitiveLog,a=t.logger,s=t.outputFilterSensitiveLog,[4,e(n)];case 1:return u=d.sent(),a?("function"===typeof a.info&&(l=u.output,c=l.$metadata,f=(0,Vn.__rest)(l,["$metadata"]),a.info({clientName:r,commandName:i,input:o(n.input),output:s(f),metadata:c})),[2,u]):[2,u]}}))}))}}),Vo)}}},Wo={},Ko={},qo=0;qo<256;qo++){var Yo=qo.toString(16).toLowerCase();1===Yo.length&&(Yo="0"+Yo),Wo[qo]=Yo,Ko[Yo]=qo}function $o(e){for(var t="",n=0;n<e.byteLength;n++)t+=Wo[e[n]];return t}var Xo="X-Amz-Date",Qo="X-Amz-Signature",Jo="X-Amz-Security-Token",Zo="authorization",ea=Xo.toLowerCase(),ta=[Zo,ea,"date"],na=Qo.toLowerCase(),ra="x-amz-content-sha256",ia=Jo.toLowerCase(),oa={authorization:!0,"cache-control":!0,connection:!0,expect:!0,from:!0,"keep-alive":!0,"max-forwards":!0,pragma:!0,referer:!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0,"user-agent":!0,"x-amzn-trace-id":!0},aa=/^proxy-/,sa=/^sec-/,ua="AWS4-HMAC-SHA256",la="AWS4-HMAC-SHA256-PAYLOAD",ca="aws4_request",fa={},da=[];function ha(e,t,n){return e+"/"+t+"/"+n+"/"+ca}function pa(e,t,n){var r=new e(t);return r.update(n),r.digest()}function va(e,t,n){var r,i,o=e.headers,a={};try{for(var s=(0,Vn.__values)(Object.keys(o).sort()),u=s.next();!u.done;u=s.next()){var l=u.value,c=l.toLowerCase();(c in oa||(null===t||void 0===t?void 0:t.has(c))||aa.test(c)||sa.test(c))&&(!n||n&&!n.has(c))||(a[c]=o[l].trim().replace(/\s+/g," "))}}catch(f){r={error:f}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return a}var ma=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,ya)},ya=function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()};function ba(e,t){var n=e.headers,r=e.body;return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var e,i,o,a,s,u,l;return(0,Vn.__generator)(this,(function(c){switch(c.label){case 0:try{for(e=(0,Vn.__values)(Object.keys(n)),i=e.next();!i.done;i=e.next())if((o=i.value).toLowerCase()===ra)return[2,n[o]]}catch(d){u={error:d}}finally{try{i&&!i.done&&(l=e.return)&&l.call(e)}finally{if(u)throw u.error}}return void 0!=r?[3,1]:[2,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855"];case 1:return"string"===typeof r||ArrayBuffer.isView(r)||(f=r,"function"===typeof ArrayBuffer&&f instanceof ArrayBuffer||"[object ArrayBuffer]"===Object.prototype.toString.call(f))?((a=new t).update(r),s=$o,[4,a.digest()]):[3,3];case 2:return[2,s.apply(void 0,[c.sent()])];case 3:return[2,"UNSIGNED-PAYLOAD"]}var f}))}))}function wa(e){var t=e.headers,n=e.query,r=(0,Vn.__rest)(e,["headers","query"]);return(0,Vn.__assign)((0,Vn.__assign)({},r),{headers:(0,Vn.__assign)({},t),query:n?Ea(n):void 0})}function Ea(e){return Object.keys(e).reduce((function(t,n){var r,i=e[n];return(0,Vn.__assign)((0,Vn.__assign)({},t),((r={})[n]=Array.isArray(i)?(0,Vn.__spread)(i):i,r))}),{})}function Sa(e){var t,n;e="function"===typeof e.clone?e.clone():wa(e);try{for(var r=(0,Vn.__values)(Object.keys(e.headers)),i=r.next();!i.done;i=r.next()){var o=i.value;ta.indexOf(o.toLowerCase())>-1&&delete e.headers[o]}}catch(a){t={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}return e}function xa(e){return function(e){if("number"===typeof e)return new Date(1e3*e);if("string"===typeof e)return Number(e)?new Date(1e3*Number(e)):new Date(e);return e}(e).toISOString().replace(/\.\d{3}Z$/,"Z")}var Ta=function(){function e(e){var t=e.applyChecksum,n=e.credentials,r=e.region,i=e.service,o=e.sha256,a=e.uriEscapePath,s=void 0===a||a;this.service=i,this.sha256=o,this.uriEscapePath=s,this.applyChecksum="boolean"!==typeof t||t,this.regionProvider=Aa(r),this.credentialProvider=Ca(n)}return e.prototype.presign=function(e,t){return void 0===t&&(t={}),(0,Vn.__awaiter)(this,void 0,void 0,(function(){var n,r,i,o,a,s,u,l,c,f,d,h,p,v,g,m,y,b,w,E,S,x,T,_;return(0,Vn.__generator)(this,(function(k){switch(k.label){case 0:return n=t.signingDate,r=void 0===n?new Date:n,i=t.expiresIn,o=void 0===i?3600:i,a=t.unsignableHeaders,s=t.unhoistableHeaders,u=t.signableHeaders,l=t.signingRegion,c=t.signingService,[4,this.credentialProvider()];case 1:return f=k.sent(),null===l||void 0===l?[3,2]:(h=l,[3,4]);case 2:return[4,this.regionProvider()];case 3:h=k.sent(),k.label=4;case 4:return d=h,p=_a(r),v=p.longDate,g=p.shortDate,o>604800?[2,Promise.reject("Signature version 4 presigned URLs must have an expiration date less than one week in the future")]:(m=ha(g,d,null!==c&&void 0!==c?c:this.service),y=function(e,t){var n,r,i;void 0===t&&(t={});var o="function"===typeof e.clone?e.clone():wa(e),a=o.headers,s=o.query,u=void 0===s?{}:s;try{for(var l=(0,Vn.__values)(Object.keys(a)),c=l.next();!c.done;c=l.next()){var f=c.value,d=f.toLowerCase();"x-amz-"!==d.substr(0,6)||(null===(i=t.unhoistableHeaders)||void 0===i?void 0:i.has(d))||(u[f]=a[f],delete a[f])}}catch(h){n={error:h}}finally{try{c&&!c.done&&(r=l.return)&&r.call(l)}finally{if(n)throw n.error}}return(0,Vn.__assign)((0,Vn.__assign)({},e),{headers:a,query:u})}(Sa(e),{unhoistableHeaders:s}),f.sessionToken&&(y.query[Jo]=f.sessionToken),y.query["X-Amz-Algorithm"]=ua,y.query["X-Amz-Credential"]=f.accessKeyId+"/"+m,y.query["X-Amz-Date"]=v,y.query["X-Amz-Expires"]=o.toString(10),b=va(y,a,u),y.query["X-Amz-SignedHeaders"]=ka(b),w=y.query,E=Qo,S=this.getSignature,x=[v,m,this.getSigningKey(f,d,g,c)],T=this.createCanonicalRequest,_=[y,b],[4,ba(e,this.sha256)]);case 5:return[4,S.apply(this,x.concat([T.apply(this,_.concat([k.sent()]))]))];case 6:return w[E]=k.sent(),[2,y]}}))}))},e.prototype.sign=function(e,t){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){return(0,Vn.__generator)(this,(function(n){return"string"===typeof e?[2,this.signString(e,t)]:e.headers&&e.payload?[2,this.signEvent(e,t)]:[2,this.signRequest(e,t)]}))}))},e.prototype.signEvent=function(e,t){var n=e.headers,r=e.payload,i=t.signingDate,o=void 0===i?new Date:i,a=t.priorSignature,s=t.signingRegion,u=t.signingService;return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var e,t,i,l,c,f,d,h,p,v,g;return(0,Vn.__generator)(this,(function(m){switch(m.label){case 0:return null===s||void 0===s?[3,1]:(t=s,[3,3]);case 1:return[4,this.regionProvider()];case 2:t=m.sent(),m.label=3;case 3:return e=t,i=_a(o),l=i.shortDate,c=i.longDate,f=ha(l,e,null!==u&&void 0!==u?u:this.service),[4,ba({headers:{},body:r},this.sha256)];case 4:return d=m.sent(),(h=new this.sha256).update(n),v=$o,[4,h.digest()];case 5:return p=v.apply(void 0,[m.sent()]),g=[la,c,f,a,p,d].join("\n"),[2,this.signString(g,{signingDate:o,signingRegion:e,signingService:u})]}}))}))},e.prototype.signString=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signingRegion,a=n.signingService;return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,s,u,l,c,f;return(0,Vn.__generator)(this,(function(d){switch(d.label){case 0:return[4,this.credentialProvider()];case 1:return t=d.sent(),null===o||void 0===o?[3,2]:(r=o,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=d.sent(),d.label=4;case 4:return n=r,s=_a(i).shortDate,c=(l=this.sha256).bind,[4,this.getSigningKey(t,n,s,a)];case 5:return(u=new(c.apply(l,[void 0,d.sent()]))).update(e),f=$o,[4,u.digest()];case 6:return[2,f.apply(void 0,[d.sent()])]}}))}))},e.prototype.signRequest=function(e,t){var n=void 0===t?{}:t,r=n.signingDate,i=void 0===r?new Date:r,o=n.signableHeaders,a=n.unsignableHeaders,s=n.signingRegion,u=n.signingService;return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var t,n,r,l,c,f,d,h,p,v,g;return(0,Vn.__generator)(this,(function(m){switch(m.label){case 0:return[4,this.credentialProvider()];case 1:return t=m.sent(),null===s||void 0===s?[3,2]:(r=s,[3,4]);case 2:return[4,this.regionProvider()];case 3:r=m.sent(),m.label=4;case 4:return n=r,l=Sa(e),c=_a(i),f=c.longDate,d=c.shortDate,h=ha(d,n,null!==u&&void 0!==u?u:this.service),l.headers[ea]=f,t.sessionToken&&(l.headers[ia]=t.sessionToken),[4,ba(l,this.sha256)];case 5:return p=m.sent(),!function(e,t){var n,r;e=e.toLowerCase();try{for(var i=(0,Vn.__values)(Object.keys(t)),o=i.next();!o.done;o=i.next())if(e===o.value.toLowerCase())return!0}catch(a){n={error:a}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return!1}(ra,l.headers)&&this.applyChecksum&&(l.headers[ra]=p),v=va(l,a,o),[4,this.getSignature(f,h,this.getSigningKey(t,n,d,u),this.createCanonicalRequest(l,v,p))];case 6:return g=m.sent(),l.headers[Zo]="AWS4-HMAC-SHA256 Credential="+t.accessKeyId+"/"+h+", SignedHeaders="+ka(v)+", Signature="+g,[2,l]}}))}))},e.prototype.createCanonicalRequest=function(e,t,n){var r=Object.keys(t).sort();return e.method+"\n"+this.getCanonicalPath(e)+"\n"+function(e){var t,n,r=e.query,i=void 0===r?{}:r,o=[],a={},s=function(e){if(e.toLowerCase()===na)return"continue";o.push(e);var t=i[e];"string"===typeof t?a[e]=ma(e)+"="+ma(t):Array.isArray(t)&&(a[e]=t.slice(0).sort().reduce((function(t,n){return t.concat([ma(e)+"="+ma(n)])}),[]).join("&"))};try{for(var u=(0,Vn.__values)(Object.keys(i).sort()),l=u.next();!l.done;l=u.next())s(l.value)}catch(c){t={error:c}}finally{try{l&&!l.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}return o.map((function(e){return a[e]})).filter((function(e){return e})).join("&")}(e)+"\n"+r.map((function(e){return e+":"+t[e]})).join("\n")+"\n\n"+r.join(";")+"\n"+n},e.prototype.createStringToSign=function(e,t,n){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var r,i;return(0,Vn.__generator)(this,(function(o){switch(o.label){case 0:return(r=new this.sha256).update(n),[4,r.digest()];case 1:return i=o.sent(),[2,"AWS4-HMAC-SHA256\n"+e+"\n"+t+"\n"+$o(i)]}}))}))},e.prototype.getCanonicalPath=function(e){var t=e.path;return this.uriEscapePath?"/"+encodeURIComponent(t.replace(/^\//,"")).replace(/%2F/g,"/"):t},e.prototype.getSignature=function(e,t,n,r){return(0,Vn.__awaiter)(this,void 0,void 0,(function(){var i,o,a,s,u;return(0,Vn.__generator)(this,(function(l){switch(l.label){case 0:return[4,this.createStringToSign(e,t,r)];case 1:return i=l.sent(),s=(a=this.sha256).bind,[4,n];case 2:return(o=new(s.apply(a,[void 0,l.sent()]))).update(i),u=$o,[4,o.digest()];case 3:return[2,u.apply(void 0,[l.sent()])]}}))}))},e.prototype.getSigningKey=function(e,t,n,r){return function(e,t,n,r,i){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var o,a,s,u,l,c,f,d,h;return(0,Vn.__generator)(this,(function(p){switch(p.label){case 0:return[4,pa(e,t.secretAccessKey,t.accessKeyId)];case 1:if(o=p.sent(),(a=n+":"+r+":"+i+":"+$o(o)+":"+t.sessionToken)in fa)return[2,fa[a]];for(da.push(a);da.length>50;)delete fa[da.shift()];s="AWS4"+t.secretAccessKey,p.label=2;case 2:p.trys.push([2,7,8,9]),u=(0,Vn.__values)([n,r,i,ca]),l=u.next(),p.label=3;case 3:return l.done?[3,6]:(c=l.value,[4,pa(e,s,c)]);case 4:s=p.sent(),p.label=5;case 5:return l=u.next(),[3,3];case 6:return[3,9];case 7:return f=p.sent(),d={error:f},[3,9];case 8:try{l&&!l.done&&(h=u.return)&&h.call(u)}finally{if(d)throw d.error}return[7];case 9:return[2,fa[a]=s]}}))}))}(this.sha256,e,n,t,r||this.service)},e}(),_a=function(e){var t=xa(e).replace(/[\-:]/g,"");return{longDate:t,shortDate:t.substr(0,8)}},ka=function(e){return Object.keys(e).sort().join(";")},Aa=function(e){if("string"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e},Ca=function(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e};function Oa(e){if("object"===typeof e){var t=Promise.resolve(e);return function(){return t}}return e}var Ia="user-agent",Ra=/[^\!\#\$\%\&\'\*\+\-\.\^\_\`\|\~\d\w]/g,La=function(e){var t=(0,Vn.__read)(e,2),n=t[0],r=t[1],i=n.indexOf("/"),o=n.substring(0,i),a=n.substring(i+1);return"api"===o&&(a=a.toLowerCase()),[o,a,r].filter((function(e){return e&&e.length>0})).map((function(e){return null===e||void 0===e?void 0:e.replace(Ra,"_")})).join("/")},Da={name:"getUserAgentMiddleware",step:"build",priority:"low",tags:["SET_USER_AGENT","USER_AGENT"],override:!0},Pa=function(e){return{applyToStack:function(t){var n;t.add((n=e,function(e,t){return function(r){return(0,Vn.__awaiter)(void 0,void 0,void 0,(function(){var i,o,a,s,u,l,c,f;return(0,Vn.__generator)(this,(function(d){switch(d.label){case 0:return i=r.request,ei.isInstance(i)?(o=i.headers,a=(null===(c=null===t||void 0===t?void 0:t.userAgent)||void 0===c?void 0:c.map(La))||[],[4,n.defaultUserAgentProvider()]):[2,e(r)];case 1:return s=d.sent().map(La),u=(null===(f=null===n||void 0===n?void 0:n.customUserAgent)||void 0===f?void 0:f.map(La))||[],o["x-amz-user-agent"]=(0,Vn.__spread)(s,a,u).join(" "),l=(0,Vn.__spread)(s.filter((function(e){return e.startsWith("aws-sdk-")})),u).join(" "),"browser"!==n.runtime&&l&&(o[Ia]=o[Ia]?o[Ia]+" "+l:l),[2,e((0,Vn.__assign)((0,Vn.__assign)({},r),{request:i}))]}}))}))}}),Da)}}},Na=function(e){function t(t){var n,r=this,i=function(e){if(!e.region)throw new Error("Region is missing");return(0,Vn.__assign)((0,Vn.__assign)({},e),{region:jo(e.region)})}(Kn(Kn({},Po),t)),o=function(e){var t;return(0,Vn.__assign)((0,Vn.__assign)({},e),{tls:null===(t=e.tls)||void 0===t||t,endpoint:e.endpoint?No(e):function(){return Mo(e)},isCustomEndpoint:!!e.endpoint})}(i),a=function(e){var t,n=this,r=Oa(e.credentials||e.credentialDefaultProvider(e)),i=e.signingEscapePath,o=void 0===i||i,a=e.systemClockOffset,s=void 0===a?e.systemClockOffset||0:a,u=e.sha256;return t=e.signer?Oa(e.signer):function(){return Oa(e.region)().then((function(t){return(0,Vn.__awaiter)(n,void 0,void 0,(function(){return(0,Vn.__generator)(this,(function(n){switch(n.label){case 0:return[4,e.regionInfoProvider(t)];case 1:return[2,[n.sent()||{},t]]}}))}))})).then((function(t){var n=(0,Vn.__read)(t,2),i=n[0],a=n[1],s=i.signingRegion,l=i.signingService;return e.signingRegion=e.signingRegion||s||a,e.signingName=e.signingName||l||e.serviceId,new Ta({credentials:r,region:e.signingRegion,service:e.signingName,sha256:u,uriEscapePath:o})}))},(0,Vn.__assign)((0,Vn.__assign)({},e),{systemClockOffset:s,signingEscapePath:o,credentials:r,signer:t})}(o),s=function(e){var t=So(e.maxAttempts);return(0,Vn.__assign)((0,Vn.__assign)({},e),{maxAttempts:t,retryStrategy:e.retryStrategy||new Eo(t)})}(a),u=(n=s,(0,Vn.__assign)((0,Vn.__assign)({},n),{customUserAgent:"string"===typeof n.customUserAgent?[[n.customUserAgent]]:n.customUserAgent}));return(r=e.call(this,u)||this).config=u,r.middlewareStack.use(co(r.config)),r.middlewareStack.use(Bo(r.config)),r.middlewareStack.use(Go(r.config)),r.middlewareStack.use(zo(r.config)),r.middlewareStack.use(Pa(r.config)),r}return Wn(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this)},t}(Fi),Ma=function(){return Ma=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ma.apply(this,arguments)},ja=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Fa=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Ua=new Vt("Credentials"),Ba=function(){function e(e){this._gettingCredPromise=null,this._refreshHandlers={},this.Auth=void 0,this.configure(e),this._refreshHandlers.google=Pn.refreshGoogleToken,this._refreshHandlers.facebook=Nn.refreshFacebookToken}return e.prototype.getModuleName=function(){return"Credentials"},e.prototype.getCredSource=function(){return this._credentials_source},e.prototype.configure=function(e){if(!e)return this._config||{};this._config=Object.assign({},this._config,e);var t=this._config.refreshHandlers;return t&&(this._refreshHandlers=Ma(Ma({},this._refreshHandlers),t)),this._storage=this._config.storage,this._storage||(this._storage=(new Zt).getStorage()),this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),this._config},e.prototype.get=function(){return Ua.debug("getting credentials"),this._pickupCredentials()},e.prototype._getCognitoIdentityIdStorageKey=function(e){return"CognitoIdentityId-"+e},e.prototype._pickupCredentials=function(){return Ua.debug("picking up credentials"),this._gettingCredPromise&&this._gettingCredPromise.isPending()?Ua.debug("getting old cred promise"):(Ua.debug("getting new cred promise"),this._gettingCredPromise=un(this._keepAlive())),this._gettingCredPromise},e.prototype._keepAlive=function(){return ja(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return Fa(this,(function(s){switch(s.label){case 0:if(Ua.debug("checking if credentials exists and not expired"),(e=this._credentials)&&!this._isExpired(e)&&!this._isPastTTL())return Ua.debug("credentials not changed and not expired, directly return"),[2,Promise.resolve(e)];if(Ua.debug("need to get a new credential or refresh the existing one"),t=this.Auth,!(n=void 0===t?Gn.Auth:t)||"function"!==typeof n.currentUserCredentials)return[2,Promise.reject("No Auth module registered in Amplify")];if(this._isExpired(e)||!this._isPastTTL())return[3,6];Ua.debug("ttl has passed but token is not yet expired"),s.label=1;case 1:return s.trys.push([1,5,,6]),[4,n.currentUserPoolUser()];case 2:return r=s.sent(),[4,n.currentSession()];case 3:return i=s.sent(),o=i.refreshToken,[4,new Promise((function(e,t){r.refreshSession(o,(function(n,r){return n?t(n):e(r)}))}))];case 4:return s.sent(),[3,6];case 5:return a=s.sent(),Ua.debug("Error attempting to refreshing the session",a),[3,6];case 6:return[2,n.currentUserCredentials()]}}))}))},e.prototype.refreshFederatedToken=function(e){Ua.debug("Getting federated credentials");var t=e.provider,n=e.user,r=e.token,i=e.identity_id,o=e.expires_at;o=1970===new Date(o).getFullYear()?1e3*o:o;var a=this;return Ua.debug("checking if federated jwt token expired"),o>(new Date).getTime()?(Ua.debug("token not expired"),this._setCredentialsFromFederation({provider:t,token:r,user:n,identity_id:i,expires_at:o})):a._refreshHandlers[t]&&"function"===typeof a._refreshHandlers[t]?(Ua.debug("getting refreshed jwt token from federation provider"),this._providerRefreshWithRetry({refreshHandler:a._refreshHandlers[t],provider:t,user:n})):(Ua.debug("no refresh handler for provider:",t),this.clear(),Promise.reject("no refresh handler for provider"))},e.prototype._providerRefreshWithRetry=function(e){var t=this,n=e.refreshHandler,r=e.provider,i=e.user;return xn(n,[],1e4).then((function(e){return Ua.debug("refresh federated token sucessfully",e),t._setCredentialsFromFederation({provider:r,token:e.token,user:i,identity_id:e.identity_id,expires_at:e.expires_at})})).catch((function(e){return"string"===typeof e&&0===e.toLowerCase().lastIndexOf("network error",e.length)||t.clear(),Ua.debug("refresh federated token failed",e),Promise.reject("refreshing federation token failed: "+e)}))},e.prototype._isExpired=function(e){if(!e)return Ua.debug("no credentials for expiration check"),!0;Ua.debug("are these credentials expired?",e);var t=Date.now();return e.expiration.getTime()<=t},e.prototype._isPastTTL=function(){return this._nextCredentialsRefresh<=Date.now()},e.prototype._setCredentialsForGuest=function(){return ja(this,void 0,void 0,(function(){var e,t,n,r,i,o,a,s,u=this;return Fa(this,(function(l){switch(l.label){case 0:return Ua.debug("setting credentials for guest"),e=this._config,t=e.identityPoolId,n=e.region,e.mandatorySignIn?[2,Promise.reject("cannot get guest credentials when mandatory signin enabled")]:t?n?(i=this,[4,this._getGuestIdentityId()]):(Ua.debug("region is not configured for getting the credentials"),[2,Promise.reject("region is not configured for getting the credentials")]):(Ua.debug("No Cognito Identity pool provided for unauthenticated access"),[2,Promise.reject("No Cognito Identity pool provided for unauthenticated access")]);case 1:return r=i._identityId=l.sent(),o=new Na({region:n,customUserAgent:Fn()}),a=void 0,r?a=zi({identityId:r,client:o})():(s=function(){return ja(u,void 0,void 0,(function(){var e;return Fa(this,(function(n){switch(n.label){case 0:return[4,o.send(new Wi({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,zi({client:o,identityId:e})()]}}))}))},a=s().catch((function(e){return ja(u,void 0,void 0,(function(){return Fa(this,(function(t){throw e}))}))}))),[2,this._loadCredentials(a,"guest",!1,null).then((function(e){return e})).catch((function(e){return ja(u,void 0,void 0,(function(){var n,i=this;return Fa(this,(function(s){switch(s.label){case 0:return"ResourceNotFoundException"!==e.name||e.message!=="Identity '"+r+"' not found."?[3,2]:(Ua.debug("Failed to load guest credentials"),[4,this._removeGuestIdentityId()]);case 1:return s.sent(),n=function(){return ja(i,void 0,void 0,(function(){var e;return Fa(this,(function(n){switch(n.label){case 0:return[4,o.send(new Wi({IdentityPoolId:t}))];case 1:return e=n.sent().IdentityId,this._identityId=e,[2,zi({client:o,identityId:e})()]}}))}))},a=n().catch((function(e){return ja(i,void 0,void 0,(function(){return Fa(this,(function(t){throw e}))}))})),[2,this._loadCredentials(a,"guest",!1,null)];case 2:return[2,e]}}))}))}))]}}))}))},e.prototype._setCredentialsFromFederation=function(e){var t=e.provider,n=e.token,r=e.identity_id,i={google:"accounts.google.com",facebook:"graph.facebook.com",amazon:"www.amazon.com",developer:"cognito-identity.amazonaws.com"}[t]||t;if(!i)return Promise.reject("You must specify a federated provider");var o={};o[i]=n;var a=this._config,s=a.identityPoolId,u=a.region;if(!s)return Ua.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!u)return Ua.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var l=new Na({region:u,customUserAgent:Fn()}),c=void 0;r?c=zi({identityId:r,logins:o,client:l})():c=$i({logins:o,identityPoolId:s,client:l})();return this._loadCredentials(c,"federated",!0,e)},e.prototype._setCredentialsFromSession=function(e){var t=this;Ua.debug("set credentials from session");var n=e.getIdToken().getJwtToken(),r=this._config,i=r.region,o=r.userPoolId,a=r.identityPoolId;if(!a)return Ua.debug("No Cognito Federated Identity pool provided"),Promise.reject("No Cognito Federated Identity pool provided");if(!i)return Ua.debug("region is not configured for getting the credentials"),Promise.reject("region is not configured for getting the credentials");var s={};s["cognito-idp."+i+".amazonaws.com/"+o]=n;var u=new Na({region:i,customUserAgent:Fn()}),l=ja(t,void 0,void 0,(function(){var e,t,n,r,i,o,l,c,f,d;return Fa(this,(function(h){switch(h.label){case 0:return[4,this._getGuestIdentityId()];case 1:return(e=h.sent())?[3,3]:[4,u.send(new Wi({IdentityPoolId:a,Logins:s}))];case 2:n=h.sent().IdentityId,t=n,h.label=3;case 3:return[4,u.send(new Hi({IdentityId:e||t,Logins:s}))];case 4:return r=h.sent(),i=r.Credentials,o=i.AccessKeyId,l=i.Expiration,c=i.SecretKey,f=i.SessionToken,d=r.IdentityId,this._identityId=d,e?(Ua.debug("The guest identity "+e+" has been successfully linked to the logins"),e===d&&Ua.debug("The guest identity "+e+" has become the primary identity"),[4,this._removeGuestIdentityId()]):[3,6];case 5:h.sent(),h.label=6;case 6:return[2,{accessKeyId:o,secretAccessKey:c,sessionToken:f,expiration:l,identityId:d}]}}))})).catch((function(e){return ja(t,void 0,void 0,(function(){return Fa(this,(function(t){throw e}))}))}));return this._loadCredentials(l,"userPool",!0,null)},e.prototype._loadCredentials=function(e,t,n,r){var i=this,o=this;return new Promise((function(a,s){e.then((function(e){return ja(i,void 0,void 0,(function(){var i,s,u,l,c;return Fa(this,(function(f){switch(f.label){case 0:if(Ua.debug("Load credentials successfully",e),this._identityId&&!e.identityId&&(e.identityId=this._identityId),o._credentials=e,o._credentials.authenticated=n,o._credentials_source=t,o._nextCredentialsRefresh=(new Date).getTime()+3e6,"federated"===t){i=Object.assign({id:this._credentials.identityId},r.user),s=r.provider,u=r.token,l=r.expires_at,c=r.identity_id;try{this._storage.setItem("aws-amplify-federatedInfo",JSON.stringify({provider:s,token:u,user:i,expires_at:l,identity_id:c}))}catch(bc){Ua.debug("Failed to put federated info into auth storage",bc)}}return"guest"!==t?[3,2]:[4,this._setGuestIdentityId(e.identityId)];case 1:f.sent(),f.label=2;case 2:return a(o._credentials),[2]}}))}))})).catch((function(t){if(t)return Ua.debug("Failed to load credentials",e),Ua.debug("Error loading credentials",t),void s(t)}))}))},e.prototype.set=function(e,t){return"session"===t?this._setCredentialsFromSession(e):"federation"===t?this._setCredentialsFromFederation(e):"guest"===t?this._setCredentialsForGuest():(Ua.debug("no source specified for setting credentials"),Promise.reject("invalid source"))},e.prototype.clear=function(){return ja(this,void 0,void 0,(function(){return Fa(this,(function(e){return this._credentials=null,this._credentials_source=null,Ua.debug("removing aws-amplify-federatedInfo from storage"),this._storage.removeItem("aws-amplify-federatedInfo"),[2]}))}))},e.prototype._getGuestIdentityId=function(){return ja(this,void 0,void 0,(function(){var e,t;return Fa(this,(function(n){switch(n.label){case 0:e=this._config.identityPoolId,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this._storageSync];case 2:return n.sent(),[2,this._storage.getItem(this._getCognitoIdentityIdStorageKey(e))];case 3:return t=n.sent(),Ua.debug("Failed to get the cached guest identityId",t),[3,4];case 4:return[2]}}))}))},e.prototype._setGuestIdentityId=function(e){return ja(this,void 0,void 0,(function(){var t,n;return Fa(this,(function(r){switch(r.label){case 0:t=this._config.identityPoolId,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),this._storage.setItem(this._getCognitoIdentityIdStorageKey(t),e),[3,4];case 3:return n=r.sent(),Ua.debug("Failed to cache guest identityId",n),[3,4];case 4:return[2]}}))}))},e.prototype._removeGuestIdentityId=function(){return ja(this,void 0,void 0,(function(){var e;return Fa(this,(function(t){return e=this._config.identityPoolId,Ua.debug("removing "+this._getCognitoIdentityIdStorageKey(e)+" from storage"),this._storage.removeItem(this._getCognitoIdentityIdStorageKey(e)),[2]}))}))},e.prototype.shear=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e}(),Ha=new Ba(null);Gn.register(Ha);var Ga=function(){return Ga=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ga.apply(this,arguments)},Va=new Vt("Parser"),za=function(e){var t,n={};if(e.aws_mobile_analytics_app_id){var r={AWSPinpoint:{appId:e.aws_mobile_analytics_app_id,region:e.aws_mobile_analytics_app_region}};n.Analytics=r}return(e.aws_cognito_identity_pool_id||e.aws_user_pools_id)&&(n.Auth={userPoolId:e.aws_user_pools_id,userPoolWebClientId:e.aws_user_pools_web_client_id,region:e.aws_cognito_region,identityPoolId:e.aws_cognito_identity_pool_id,identityPoolRegion:e.aws_cognito_region,mandatorySignIn:"enable"===e.aws_mandatory_sign_in}),t=e.aws_user_files_s3_bucket?{AWSS3:{bucket:e.aws_user_files_s3_bucket,region:e.aws_user_files_s3_bucket_region,dangerouslyConnectToHttpEndpointForTesting:e.aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing}}:e?e.Storage||e:{},e.Logging&&(n.Logging=Ga(Ga({},e.Logging),{region:e.aws_project_region})),e.geo&&(n.Geo=Object.assign({},e.geo),e.geo.amazon_location_service&&(n.Geo={AmazonLocationService:e.geo.amazon_location_service})),n.Analytics=Object.assign({},n.Analytics,e.Analytics),n.Auth=Object.assign({},n.Auth,e.Auth),n.Storage=Object.assign({},t),n.Logging=Object.assign({},n.Logging,e.Logging),Va.debug("parse config",e,"to amplifyconfig",n),n},Wa=function(){function e(){}return e.parseMobilehubConfig=za,e}(),Ka=n(4940);function qa(e,t){void 0===t&&(t={});var n=function(e){if(e&&"j"===e[0]&&":"===e[1])return e.substr(2);return e}(e);if(function(e,t){return"undefined"===typeof t&&(t=!e||"{"!==e[0]&&"["!==e[0]&&'"'!==e[0]),!t}(n,t.doNotParse))try{return JSON.parse(n)}catch(bc){}return e}var Ya=function(){return Ya=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ya.apply(this,arguments)},$a=function(){function e(e,t){var n=this;this.changeListeners=[],this.HAS_DOCUMENT_COOKIE=!1,this.cookies=function(e,t){return"string"===typeof e?Ka.Q(e,t):"object"===typeof e&&null!==e?e:{}}(e,t),new Promise((function(){n.HAS_DOCUMENT_COOKIE="object"===typeof document&&"string"===typeof document.cookie})).catch((function(){}))}return e.prototype._updateBrowserValues=function(e){this.HAS_DOCUMENT_COOKIE&&(this.cookies=Ka.Q(document.cookie,e))},e.prototype._emitChange=function(e){for(var t=0;t<this.changeListeners.length;++t)this.changeListeners[t](e)},e.prototype.get=function(e,t,n){return void 0===t&&(t={}),this._updateBrowserValues(n),qa(this.cookies[e],t)},e.prototype.getAll=function(e,t){void 0===e&&(e={}),this._updateBrowserValues(t);var n={};for(var r in this.cookies)n[r]=qa(this.cookies[r],e);return n},e.prototype.set=function(e,t,n){var r;"object"===typeof t&&(t=JSON.stringify(t)),this.cookies=Ya(Ya({},this.cookies),((r={})[e]=t,r)),this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ka.q(e,t,n)),this._emitChange({name:e,value:t,options:n})},e.prototype.remove=function(e,t){var n=t=Ya(Ya({},t),{expires:new Date(1970,1,1,0,0,1),maxAge:0});this.cookies=Ya({},this.cookies),delete this.cookies[e],this.HAS_DOCUMENT_COOKIE&&(document.cookie=Ka.q(e,"",n)),this._emitChange({name:e,value:void 0,options:t})},e.prototype.addChangeListener=function(e){this.changeListeners.push(e)},e.prototype.removeChangeListener=function(e){var t=this.changeListeners.indexOf(e);t>=0&&this.changeListeners.splice(t,1)},e}(),Xa=$a,Qa=cn().isBrowser,Ja=function(){function e(e){void 0===e&&(e={}),this.cookies=new Xa,this.store=Qa?window.localStorage:Object.create(null),this.cookies=e.req?new Xa(e.req.headers.cookie):new Xa,Object.assign(this.store,this.cookies.getAll())}return Object.defineProperty(e.prototype,"length",{get:function(){return Object.entries(this.store).length},enumerable:!0,configurable:!0}),e.prototype.clear=function(){var e=this;Array.from(new Array(this.length)).map((function(t,n){return e.key(n)})).forEach((function(t){return e.removeItem(t)}))},e.prototype.getItem=function(e){return this.getLocalItem(e)},e.prototype.getLocalItem=function(e){return Object.prototype.hasOwnProperty.call(this.store,e)?this.store[e]:null},e.prototype.getUniversalItem=function(e){return this.cookies.get(e)},e.prototype.key=function(e){return Object.keys(this.store)[e]},e.prototype.removeItem=function(e){this.removeLocalItem(e),this.removeUniversalItem(e)},e.prototype.removeLocalItem=function(e){delete this.store[e]},e.prototype.removeUniversalItem=function(e){this.cookies.remove(e,{path:"/"})},e.prototype.setItem=function(e,t){switch(this.setLocalItem(e,t),e.split(".").pop()){case"LastAuthUser":case"accessToken":case"refreshToken":case"idToken":Qa?this.setUniversalItem(e,t):this.setLocalItem(e,t)}},e.prototype.setLocalItem=function(e,t){this.store[e]=t},e.prototype.setUniversalItem=function(e,t){this.cookies.set(e,t,{path:"/",sameSite:!0,secure:"localhost"!==window.location.hostname})},e}();var Za,es=function(){function e(e){var t=e||{},n=t.ValidationData,r=t.Username,i=t.Password,o=t.AuthParameters,a=t.ClientMetadata;this.validationData=n||{},this.authParameters=o||{},this.clientMetadata=a||{},this.username=r,this.password=i}var t=e.prototype;return t.getUsername=function(){return this.username},t.getPassword=function(){return this.password},t.getValidationData=function(){return this.validationData},t.getAuthParameters=function(){return this.authParameters},t.getClientMetadata=function(){return this.clientMetadata},e}(),ts=n(9778),ns=n(8926),rs=n.n(ns),is=(n(5533),n(9517)),os=n.n(is),as=n(5636),ss=n.n(as);function us(){if(Za){if("function"===typeof Za.getRandomValues)try{return Za.getRandomValues(new Uint32Array(1))[0]}catch(e){}if("function"===typeof Za.randomBytes)try{return Za.randomBytes(4).readInt32LE()}catch(e){}}throw new Error("Native crypto module could not be used to get secure random number.")}"undefined"!==typeof window&&window.crypto&&(Za=window.crypto),!Za&&"undefined"!==typeof window&&window.msCrypto&&(Za=window.msCrypto);var ls,cs=function(){function e(e,t){e=this.words=e||[],this.sigBytes=void 0!=t?t:4*e.length}var t=e.prototype;return t.random=function(t){for(var n=[],r=0;r<t;r+=4)n.push(us());return new e(n,t)},t.toString=function(){return function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var o=t[i>>>2]>>>24-i%4*8&255;r.push((o>>>4).toString(16)),r.push((15&o).toString(16))}return r.join("")}(this)},e}(),fs=ds;function ds(e,t){null!=e&&this.fromString(e,t)}function hs(){return new ds(null)}var ps="undefined"!==typeof navigator;ps&&"Microsoft Internet Explorer"==navigator.appName?(ds.prototype.am=function(e,t,n,r,i,o){for(var a=32767&t,s=t>>15;--o>=0;){var u=32767&this[e],l=this[e++]>>15,c=s*u+l*a;i=((u=a*u+((32767&c)<<15)+n[r]+(1073741823&i))>>>30)+(c>>>15)+s*l+(i>>>30),n[r++]=1073741823&u}return i},ls=30):ps&&"Netscape"!=navigator.appName?(ds.prototype.am=function(e,t,n,r,i,o){for(;--o>=0;){var a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=67108863&a}return i},ls=26):(ds.prototype.am=function(e,t,n,r,i,o){for(var a=16383&t,s=t>>14;--o>=0;){var u=16383&this[e],l=this[e++]>>14,c=s*u+l*a;i=((u=a*u+((16383&c)<<14)+n[r]+i)>>28)+(c>>14)+s*l,n[r++]=268435455&u}return i},ls=28),ds.prototype.DB=ls,ds.prototype.DM=(1<<ls)-1,ds.prototype.DV=1<<ls;ds.prototype.FV=Math.pow(2,52),ds.prototype.F1=52-ls,ds.prototype.F2=2*ls-52;var vs,gs,ms=new Array;for(vs="0".charCodeAt(0),gs=0;gs<=9;++gs)ms[vs++]=gs;for(vs="a".charCodeAt(0),gs=10;gs<36;++gs)ms[vs++]=gs;for(vs="A".charCodeAt(0),gs=10;gs<36;++gs)ms[vs++]=gs;function ys(e){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(e)}function bs(e,t){var n=ms[e.charCodeAt(t)];return null==n?-1:n}function ws(e){var t=hs();return t.fromInt(e),t}function Es(e){var t,n=1;return 0!=(t=e>>>16)&&(e=t,n+=16),0!=(t=e>>8)&&(e=t,n+=8),0!=(t=e>>4)&&(e=t,n+=4),0!=(t=e>>2)&&(e=t,n+=2),0!=(t=e>>1)&&(e=t,n+=1),n}function Ss(e){this.m=e,this.mp=e.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function xs(e){return ts.lW.from((new cs).random(e).toString(),"hex")}Ss.prototype.convert=function(e){var t=hs();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(ds.ZERO)>0&&this.m.subTo(t,t),t},Ss.prototype.revert=function(e){var t=hs();return e.copyTo(t),this.reduce(t),t},Ss.prototype.reduce=function(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(var t=0;t<this.m.t;++t){var n=32767&e[t],r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(e[n=t+this.m.t]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)},Ss.prototype.mulTo=function(e,t,n){e.multiplyTo(t,n),this.reduce(n)},Ss.prototype.sqrTo=function(e,t){e.squareTo(t),this.reduce(t)},ds.prototype.copyTo=function(e){for(var t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s},ds.prototype.fromInt=function(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0},ds.prototype.fromString=function(e,t){var n;if(16==t)n=4;else if(8==t)n=3;else if(2==t)n=1;else if(32==t)n=5;else{if(4!=t)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");n=2}this.t=0,this.s=0;for(var r=e.length,i=!1,o=0;--r>=0;){var a=bs(e,r);a<0?"-"==e.charAt(r)&&(i=!0):(i=!1,0==o?this[this.t++]=a:o+n>this.DB?(this[this.t-1]|=(a&(1<<this.DB-o)-1)<<o,this[this.t++]=a>>this.DB-o):this[this.t-1]|=a<<o,(o+=n)>=this.DB&&(o-=this.DB))}this.clamp(),i&&ds.ZERO.subTo(this,this)},ds.prototype.clamp=function(){for(var e=this.s&this.DM;this.t>0&&this[this.t-1]==e;)--this.t},ds.prototype.dlShiftTo=function(e,t){var n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s},ds.prototype.drShiftTo=function(e,t){for(var n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s},ds.prototype.lShiftTo=function(e,t){var n,r=e%this.DB,i=this.DB-r,o=(1<<i)-1,a=Math.floor(e/this.DB),s=this.s<<r&this.DM;for(n=this.t-1;n>=0;--n)t[n+a+1]=this[n]>>i|s,s=(this[n]&o)<<r;for(n=a-1;n>=0;--n)t[n]=0;t[a]=s,t.t=this.t+a+1,t.s=this.s,t.clamp()},ds.prototype.rShiftTo=function(e,t){t.s=this.s;var n=Math.floor(e/this.DB);if(n>=this.t)t.t=0;else{var r=e%this.DB,i=this.DB-r,o=(1<<r)-1;t[0]=this[n]>>r;for(var a=n+1;a<this.t;++a)t[a-n-1]|=(this[a]&o)<<i,t[a-n]=this[a]>>r;r>0&&(t[this.t-n-1]|=(this.s&o)<<i),t.t=this.t-n,t.clamp()}},ds.prototype.subTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()},ds.prototype.multiplyTo=function(e,t){var n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!=e.s&&ds.ZERO.subTo(t,t)},ds.prototype.squareTo=function(e){for(var t=this.abs(),n=e.t=2*t.t;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){var r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()},ds.prototype.divRemTo=function(e,t,n){var r=e.abs();if(!(r.t<=0)){var i=this.abs();if(i.t<r.t)return null!=t&&t.fromInt(0),void(null!=n&&this.copyTo(n));null==n&&(n=hs());var o=hs(),a=this.s,s=e.s,u=this.DB-Es(r[r.t-1]);u>0?(r.lShiftTo(u,o),i.lShiftTo(u,n)):(r.copyTo(o),i.copyTo(n));var l=o.t,c=o[l-1];if(0!=c){var f=c*(1<<this.F1)+(l>1?o[l-2]>>this.F2:0),d=this.FV/f,h=(1<<this.F1)/f,p=1<<this.F2,v=n.t,g=v-l,m=null==t?hs():t;for(o.dlShiftTo(g,m),n.compareTo(m)>=0&&(n[n.t++]=1,n.subTo(m,n)),ds.ONE.dlShiftTo(l,m),m.subTo(o,o);o.t<l;)o[o.t++]=0;for(;--g>=0;){var y=n[--v]==c?this.DM:Math.floor(n[v]*d+(n[v-1]+p)*h);if((n[v]+=o.am(0,y,n,g,0,l))<y)for(o.dlShiftTo(g,m),n.subTo(m,n);n[v]<--y;)n.subTo(m,n)}null!=t&&(n.drShiftTo(l,t),a!=s&&ds.ZERO.subTo(t,t)),n.t=l,n.clamp(),u>0&&n.rShiftTo(u,n),a<0&&ds.ZERO.subTo(n,n)}}},ds.prototype.invDigit=function(){if(this.t<1)return 0;var e=this[0];if(0==(1&e))return 0;var t=3&e;return(t=(t=(t=(t=t*(2-(15&e)*t)&15)*(2-(255&e)*t)&255)*(2-((65535&e)*t&65535))&65535)*(2-e*t%this.DV)%this.DV)>0?this.DV-t:-t},ds.prototype.addTo=function(e,t){for(var n=0,r=0,i=Math.min(e.t,this.t);n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()},ds.prototype.toString=function(e){if(this.s<0)return"-"+this.negate().toString(e);var t;if(16==e)t=4;else if(8==e)t=3;else if(2==e)t=1;else if(32==e)t=5;else{if(4!=e)throw new Error("Only radix 2, 4, 8, 16, 32 are supported");t=2}var n,r=(1<<t)-1,i=!1,o="",a=this.t,s=this.DB-a*this.DB%t;if(a-->0)for(s<this.DB&&(n=this[a]>>s)>0&&(i=!0,o=ys(n));a>=0;)s<t?(n=(this[a]&(1<<s)-1)<<t-s,n|=this[--a]>>(s+=this.DB-t)):(n=this[a]>>(s-=t)&r,s<=0&&(s+=this.DB,--a)),n>0&&(i=!0),i&&(o+=ys(n));return i?o:"0"},ds.prototype.negate=function(){var e=hs();return ds.ZERO.subTo(this,e),e},ds.prototype.abs=function(){return this.s<0?this.negate():this},ds.prototype.compareTo=function(e){var t=this.s-e.s;if(0!=t)return t;var n=this.t;if(0!=(t=n-e.t))return this.s<0?-t:t;for(;--n>=0;)if(0!=(t=this[n]-e[n]))return t;return 0},ds.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+Es(this[this.t-1]^this.s&this.DM)},ds.prototype.mod=function(e){var t=hs();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(ds.ZERO)>0&&e.subTo(t,t),t},ds.prototype.equals=function(e){return 0==this.compareTo(e)},ds.prototype.add=function(e){var t=hs();return this.addTo(e,t),t},ds.prototype.subtract=function(e){var t=hs();return this.subTo(e,t),t},ds.prototype.multiply=function(e){var t=hs();return this.multiplyTo(e,t),t},ds.prototype.divide=function(e){var t=hs();return this.divRemTo(e,t,null),t},ds.prototype.modPow=function(e,t,n){var r,i=e.bitLength(),o=ws(1),a=new Ss(t);if(i<=0)return o;r=i<18?1:i<48?3:i<144?4:i<768?5:6;var s=new Array,u=3,l=r-1,c=(1<<r)-1;if(s[1]=a.convert(this),r>1){var f=hs();for(a.sqrTo(s[1],f);u<=c;)s[u]=hs(),a.mulTo(f,s[u-2],s[u]),u+=2}var d,h,p=e.t-1,v=!0,g=hs();for(i=Es(e[p])-1;p>=0;){for(i>=l?d=e[p]>>i-l&c:(d=(e[p]&(1<<i+1)-1)<<l-i,p>0&&(d|=e[p-1]>>this.DB+i-l)),u=r;0==(1&d);)d>>=1,--u;if((i-=u)<0&&(i+=this.DB,--p),v)s[d].copyTo(o),v=!1;else{for(;u>1;)a.sqrTo(o,g),a.sqrTo(g,o),u-=2;u>0?a.sqrTo(o,g):(h=o,o=g,g=h),a.mulTo(g,s[d],o)}for(;p>=0&&0==(e[p]&1<<i);)a.sqrTo(o,g),h=o,o=g,g=h,--i<0&&(i=this.DB-1,--p)}var m=a.revert(o);return n(null,m),m},ds.ZERO=ws(0),ds.ONE=ws(1);var Ts=/^[89a-f]/i,_s=function(){function e(e){this.N=new fs("FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF",16),this.g=new fs("2",16),this.k=new fs(this.hexHash(""+this.padHex(this.N)+this.padHex(this.g)),16),this.smallAValue=this.generateRandomSmallA(),this.getLargeAValue((function(){})),this.infoBits=ts.lW.from("Caldera Derived Key","utf8"),this.poolName=e}var t=e.prototype;return t.getSmallAValue=function(){return this.smallAValue},t.getLargeAValue=function(e){var t=this;this.largeAValue?e(null,this.largeAValue):this.calculateA(this.smallAValue,(function(n,r){n&&e(n,null),t.largeAValue=r,e(null,t.largeAValue)}))},t.generateRandomSmallA=function(){var e=xs(128).toString("hex");return new fs(e,16)},t.generateRandomString=function(){return xs(40).toString("base64")},t.getRandomPassword=function(){return this.randomPassword},t.getSaltDevices=function(){return this.SaltToHashDevices},t.getVerifierDevices=function(){return this.verifierDevices},t.generateHashDevice=function(e,t,n){var r=this;this.randomPassword=this.generateRandomString();var i=""+e+t+":"+this.randomPassword,o=this.hash(i),a=xs(16).toString("hex");this.SaltToHashDevices=this.padHex(new fs(a,16)),this.g.modPow(new fs(this.hexHash(this.SaltToHashDevices+o),16),this.N,(function(e,t){e&&n(e,null),r.verifierDevices=r.padHex(t),n(null,null)}))},t.calculateA=function(e,t){var n=this;this.g.modPow(e,this.N,(function(e,r){e&&t(e,null),r.mod(n.N).equals(fs.ZERO)&&t(new Error("Illegal paramater. A mod N cannot be 0."),null),t(null,r)}))},t.calculateU=function(e,t){return this.UHexHash=this.hexHash(this.padHex(e)+this.padHex(t)),new fs(this.UHexHash,16)},t.hash=function(e){var t=e instanceof ts.lW?rs().lib.WordArray.create(e):e,n=os()(t).toString();return new Array(64-n.length).join("0")+n},t.hexHash=function(e){return this.hash(ts.lW.from(e,"hex"))},t.computehkdf=function(e,t){var n=rs().lib.WordArray.create(ts.lW.concat([this.infoBits,ts.lW.from(String.fromCharCode(1),"utf8")])),r=e instanceof ts.lW?rs().lib.WordArray.create(e):e,i=t instanceof ts.lW?rs().lib.WordArray.create(t):t,o=ss()(r,i),a=ss()(n,o);return ts.lW.from(a.toString(),"hex").slice(0,16)},t.getPasswordAuthenticationKey=function(e,t,n,r,i){var o=this;if(n.mod(this.N).equals(fs.ZERO))throw new Error("B cannot be zero.");if(this.UValue=this.calculateU(this.largeAValue,n),this.UValue.equals(fs.ZERO))throw new Error("U cannot be zero.");var a=""+this.poolName+e+":"+t,s=this.hash(a),u=new fs(this.hexHash(this.padHex(r)+s),16);this.calculateS(u,n,(function(e,t){e&&i(e,null);var n=o.computehkdf(ts.lW.from(o.padHex(t),"hex"),ts.lW.from(o.padHex(o.UValue),"hex"));i(null,n)}))},t.calculateS=function(e,t,n){var r=this;this.g.modPow(e,this.N,(function(i,o){i&&n(i,null),t.subtract(r.k.multiply(o)).modPow(r.smallAValue.add(r.UValue.multiply(e)),r.N,(function(e,t){e&&n(e,null),n(null,t.mod(r.N))}))}))},t.getNewPasswordRequiredChallengeUserAttributePrefix=function(){return"userAttributes."},t.padHex=function(e){if(!(e instanceof fs))throw new Error("Not a BigInteger");var t=e.compareTo(fs.ZERO)<0,n=e.abs().toString(16);if(n=n.length%2!==0?"0"+n:n,n=Ts.test(n)?"00"+n:n,t){var r=n.split("").map((function(e){var t=15&~parseInt(e,16);return"0123456789ABCDEF".charAt(t)})).join("");(n=new fs(r,16).add(fs.ONE).toString(16)).toUpperCase().startsWith("FF8")&&(n=n.substring(2))}return n},e}(),ks=function(){function e(e){this.jwtToken=e||"",this.payload=this.decodePayload()}var t=e.prototype;return t.getJwtToken=function(){return this.jwtToken},t.getExpiration=function(){return this.payload.exp},t.getIssuedAt=function(){return this.payload.iat},t.decodePayload=function(){var e=this.jwtToken.split(".")[1];try{return JSON.parse(ts.lW.from(e,"base64").toString("utf8"))}catch(t){return{}}},e}();function As(e,t){return As=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},As(e,t)}var Cs=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).AccessToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,As(t,n),r}(ks);function Os(e,t){return Os=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Os(e,t)}var Is=function(e){var t,n;function r(t){var n=(void 0===t?{}:t).IdToken;return e.call(this,n||"")||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,Os(t,n),r}(ks),Rs=function(){function e(e){var t=(void 0===e?{}:e).RefreshToken;this.token=t||""}return e.prototype.getToken=function(){return this.token},e}(),Ls=n(3713),Ds=n.n(Ls),Ps=function(){function e(e){var t=void 0===e?{}:e,n=t.IdToken,r=t.RefreshToken,i=t.AccessToken,o=t.ClockDrift;if(null==i||null==n)throw new Error("Id token and Access Token must be present.");this.idToken=n,this.refreshToken=r,this.accessToken=i,this.clockDrift=void 0===o?this.calculateClockDrift():o}var t=e.prototype;return t.getIdToken=function(){return this.idToken},t.getRefreshToken=function(){return this.refreshToken},t.getAccessToken=function(){return this.accessToken},t.getClockDrift=function(){return this.clockDrift},t.calculateClockDrift=function(){return Math.floor(new Date/1e3)-Math.min(this.accessToken.getIssuedAt(),this.idToken.getIssuedAt())},t.isValid=function(){var e=Math.floor(new Date/1e3)-this.clockDrift;return e<this.accessToken.getExpiration()&&e<this.idToken.getExpiration()},e}(),Ns=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],Ms=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],js=function(){function e(){}return e.prototype.getNowString=function(){var e=new Date,t=Ms[e.getUTCDay()],n=Ns[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i="0"+i);var o=e.getUTCMinutes();o<10&&(o="0"+o);var a=e.getUTCSeconds();return a<10&&(a="0"+a),t+" "+n+" "+r+" "+i+":"+o+":"+a+" UTC "+e.getUTCFullYear()},e}(),Fs=function(){function e(e){var t=void 0===e?{}:e,n=t.Name,r=t.Value;this.Name=n||"",this.Value=r||""}var t=e.prototype;return t.getValue=function(){return this.Value},t.setValue=function(e){return this.Value=e,this},t.getName=function(){return this.Name},t.setName=function(e){return this.Name=e,this},t.toString=function(){return JSON.stringify(this)},t.toJSON=function(){return{Name:this.Name,Value:this.Value}},e}(),Us={},Bs=function(){function e(){}return e.setItem=function(e,t){return Us[e]=t,Us[e]},e.getItem=function(e){return Object.prototype.hasOwnProperty.call(Us,e)?Us[e]:void 0},e.removeItem=function(e){return delete Us[e]},e.clear=function(){return Us={}},e}(),Hs=function(){function e(){try{this.storageWindow=window.localStorage,this.storageWindow.setItem("aws.cognito.test-ls",1),this.storageWindow.removeItem("aws.cognito.test-ls")}catch(Je){this.storageWindow=Bs}}return e.prototype.getStorage=function(){return this.storageWindow},e}(),Gs="undefined"!==typeof navigator?navigator.userAgent:"nodejs",Vs=function(){function e(e){if(null==e||null==e.Username||null==e.Pool)throw new Error("Username and Pool information are required.");this.username=e.Username||"",this.pool=e.Pool,this.Session=null,this.client=e.Pool.client,this.signInUserSession=null,this.authenticationFlowType="USER_SRP_AUTH",this.storage=e.Storage||(new Hs).getStorage(),this.keyPrefix="CognitoIdentityServiceProvider."+this.pool.getClientId(),this.userDataKey=this.keyPrefix+"."+this.username+".userData"}var t=e.prototype;return t.setSignInUserSession=function(e){this.clearCachedUserData(),this.signInUserSession=e,this.cacheTokens()},t.getSignInUserSession=function(){return this.signInUserSession},t.getUsername=function(){return this.username},t.getAuthenticationFlowType=function(){return this.authenticationFlowType},t.setAuthenticationFlowType=function(e){this.authenticationFlowType=e},t.initiateAuth=function(e,t){var n=this,r=e.getAuthParameters();r.USERNAME=this.username;var i=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),o={AuthFlow:"CUSTOM_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:i};this.getUserContextData()&&(o.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",o,(function(e,r){if(e)return t.onFailure(e);var i=r.ChallengeName,o=r.ChallengeParameters;return"CUSTOM_CHALLENGE"===i?(n.Session=r.Session,t.customChallenge(o)):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),t.onSuccess(n.signInUserSession))}))},t.authenticateUser=function(e,t){return"USER_PASSWORD_AUTH"===this.authenticationFlowType?this.authenticateUserPlainUsernamePassword(e,t):"USER_SRP_AUTH"===this.authenticationFlowType||"CUSTOM_AUTH"===this.authenticationFlowType?this.authenticateUserDefaultAuth(e,t):t.onFailure(new Error("Authentication flow type is invalid."))},t.authenticateUserDefaultAuth=function(e,t){var n,r,i=this,o=new _s(this.pool.getUserPoolId().split("_")[1]),a=new js,s={};null!=this.deviceKey&&(s.DEVICE_KEY=this.deviceKey),s.USERNAME=this.username,o.getLargeAValue((function(u,l){u&&t.onFailure(u),s.SRP_A=l.toString(16),"CUSTOM_AUTH"===i.authenticationFlowType&&(s.CHALLENGE_NAME="SRP_A");var c=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),f={AuthFlow:i.authenticationFlowType,ClientId:i.pool.getClientId(),AuthParameters:s,ClientMetadata:c};i.getUserContextData(i.username)&&(f.UserContextData=i.getUserContextData(i.username)),i.client.request("InitiateAuth",f,(function(s,u){if(s)return t.onFailure(s);var l=u.ChallengeParameters;i.username=l.USER_ID_FOR_SRP,i.userDataKey=i.keyPrefix+"."+i.username+".userData",n=new fs(l.SRP_B,16),r=new fs(l.SALT,16),i.getCachedDeviceKeyAndPassword(),o.getPasswordAuthenticationKey(i.username,e.getPassword(),n,r,(function(e,n){e&&t.onFailure(e);var r=a.getNowString(),s=rs().lib.WordArray.create(ts.lW.concat([ts.lW.from(i.pool.getUserPoolId().split("_")[1],"utf8"),ts.lW.from(i.username,"utf8"),ts.lW.from(l.SECRET_BLOCK,"base64"),ts.lW.from(r,"utf8")])),f=rs().lib.WordArray.create(n),d=Ds().stringify(ss()(s,f)),h={};h.USERNAME=i.username,h.PASSWORD_CLAIM_SECRET_BLOCK=l.SECRET_BLOCK,h.TIMESTAMP=r,h.PASSWORD_CLAIM_SIGNATURE=d,null!=i.deviceKey&&(h.DEVICE_KEY=i.deviceKey);var p={ChallengeName:"PASSWORD_VERIFIER",ClientId:i.pool.getClientId(),ChallengeResponses:h,Session:u.Session,ClientMetadata:c};i.getUserContextData()&&(p.UserContextData=i.getUserContextData()),function e(t,n){return i.client.request("RespondToAuthChallenge",t,(function(r,o){return r&&"ResourceNotFoundException"===r.code&&-1!==r.message.toLowerCase().indexOf("device")?(h.DEVICE_KEY=null,i.deviceKey=null,i.randomPassword=null,i.deviceGroupKey=null,i.clearCachedDeviceKeyAndPassword(),e(t,n)):n(r,o)}))}(p,(function(e,n){return e?t.onFailure(e):i.authenticateUserInternal(n,o,t)}))}))}))}))},t.authenticateUserPlainUsernamePassword=function(e,t){var n=this,r={};if(r.USERNAME=this.username,r.PASSWORD=e.getPassword(),r.PASSWORD){var i=new _s(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(r.DEVICE_KEY=this.deviceKey);var o=0!==Object.keys(e.getValidationData()).length?e.getValidationData():e.getClientMetadata(),a={AuthFlow:"USER_PASSWORD_AUTH",ClientId:this.pool.getClientId(),AuthParameters:r,ClientMetadata:o};this.getUserContextData(this.username)&&(a.UserContextData=this.getUserContextData(this.username)),this.client.request("InitiateAuth",a,(function(e,r){return e?t.onFailure(e):n.authenticateUserInternal(r,i,t)}))}else t.onFailure(new Error("PASSWORD parameter is required"))},t.authenticateUserInternal=function(e,t,n){var r=this,i=e.ChallengeName,o=e.ChallengeParameters;if("SMS_MFA"===i)return this.Session=e.Session,n.mfaRequired(i,o);if("SELECT_MFA_TYPE"===i)return this.Session=e.Session,n.selectMFAType(i,o);if("MFA_SETUP"===i)return this.Session=e.Session,n.mfaSetup(i,o);if("SOFTWARE_TOKEN_MFA"===i)return this.Session=e.Session,n.totpRequired(i,o);if("CUSTOM_CHALLENGE"===i)return this.Session=e.Session,n.customChallenge(o);if("NEW_PASSWORD_REQUIRED"===i){this.Session=e.Session;var a=null,s=null,u=[],l=t.getNewPasswordRequiredChallengeUserAttributePrefix();if(o&&(a=JSON.parse(e.ChallengeParameters.userAttributes),s=JSON.parse(e.ChallengeParameters.requiredAttributes)),s)for(var c=0;c<s.length;c++)u[c]=s[c].substr(l.length);return n.newPasswordRequired(a,u)}if("DEVICE_SRP_AUTH"===i)return this.Session=e.Session,void this.getDeviceResponse(n);this.signInUserSession=this.getCognitoUserSession(e.AuthenticationResult),this.challengeName=i,this.cacheTokens();var f=e.AuthenticationResult.NewDeviceMetadata;if(null==f)return n.onSuccess(this.signInUserSession);t.generateHashDevice(e.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,e.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(i){if(i)return n.onFailure(i);var o={Salt:ts.lW.from(t.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ts.lW.from(t.getVerifierDevices(),"hex").toString("base64")};r.verifierDevices=o.PasswordVerifier,r.deviceGroupKey=f.DeviceGroupKey,r.randomPassword=t.getRandomPassword(),r.client.request("ConfirmDevice",{DeviceKey:f.DeviceKey,AccessToken:r.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Gs},(function(t,i){return t?n.onFailure(t):(r.deviceKey=e.AuthenticationResult.NewDeviceMetadata.DeviceKey,r.cacheDeviceKeyAndPassword(),!0===i.UserConfirmationNecessary?n.onSuccess(r.signInUserSession,i.UserConfirmationNecessary):n.onSuccess(r.signInUserSession))}))}))},t.completeNewPasswordChallenge=function(e,t,n,r){var i=this;if(!e)return n.onFailure(new Error("New password is required."));var o=new _s(this.pool.getUserPoolId().split("_")[1]),a=o.getNewPasswordRequiredChallengeUserAttributePrefix(),s={};t&&Object.keys(t).forEach((function(e){s[a+e]=t[e]})),s.NEW_PASSWORD=e,s.USERNAME=this.username;var u={ChallengeName:"NEW_PASSWORD_REQUIRED",ClientId:this.pool.getClientId(),ChallengeResponses:s,Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(u.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",u,(function(e,t){return e?n.onFailure(e):i.authenticateUserInternal(t,o,n)}))},t.getDeviceResponse=function(e,t){var n=this,r=new _s(this.deviceGroupKey),i=new js,o={};o.USERNAME=this.username,o.DEVICE_KEY=this.deviceKey,r.getLargeAValue((function(a,s){a&&e.onFailure(a),o.SRP_A=s.toString(16);var u={ChallengeName:"DEVICE_SRP_AUTH",ClientId:n.pool.getClientId(),ChallengeResponses:o,ClientMetadata:t,Session:n.Session};n.getUserContextData()&&(u.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",u,(function(t,o){if(t)return e.onFailure(t);var a=o.ChallengeParameters,s=new fs(a.SRP_B,16),u=new fs(a.SALT,16);r.getPasswordAuthenticationKey(n.deviceKey,n.randomPassword,s,u,(function(t,r){if(t)return e.onFailure(t);var s=i.getNowString(),u=rs().lib.WordArray.create(ts.lW.concat([ts.lW.from(n.deviceGroupKey,"utf8"),ts.lW.from(n.deviceKey,"utf8"),ts.lW.from(a.SECRET_BLOCK,"base64"),ts.lW.from(s,"utf8")])),l=rs().lib.WordArray.create(r),c=Ds().stringify(ss()(u,l)),f={};f.USERNAME=n.username,f.PASSWORD_CLAIM_SECRET_BLOCK=a.SECRET_BLOCK,f.TIMESTAMP=s,f.PASSWORD_CLAIM_SIGNATURE=c,f.DEVICE_KEY=n.deviceKey;var d={ChallengeName:"DEVICE_PASSWORD_VERIFIER",ClientId:n.pool.getClientId(),ChallengeResponses:f,Session:o.Session};n.getUserContextData()&&(d.UserContextData=n.getUserContextData()),n.client.request("RespondToAuthChallenge",d,(function(t,r){return t?e.onFailure(t):(n.signInUserSession=n.getCognitoUserSession(r.AuthenticationResult),n.cacheTokens(),e.onSuccess(n.signInUserSession))}))}))}))}))},t.confirmRegistration=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),ConfirmationCode:e,Username:this.username,ForceAliasCreation:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmSignUp",i,(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.sendCustomChallengeAnswer=function(e,t,n){var r=this,i={};i.USERNAME=this.username,i.ANSWER=e;var o=new _s(this.pool.getUserPoolId().split("_")[1]);this.getCachedDeviceKeyAndPassword(),null!=this.deviceKey&&(i.DEVICE_KEY=this.deviceKey);var a={ChallengeName:"CUSTOM_CHALLENGE",ChallengeResponses:i,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:n};this.getUserContextData()&&(a.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",a,(function(e,n){return e?t.onFailure(e):r.authenticateUserInternal(n,o,t)}))},t.sendMFACode=function(e,t,n,r){var i=this,o={};o.USERNAME=this.username,o.SMS_MFA_CODE=e;var a=n||"SMS_MFA";"SOFTWARE_TOKEN_MFA"===a&&(o.SOFTWARE_TOKEN_MFA_CODE=e),null!=this.deviceKey&&(o.DEVICE_KEY=this.deviceKey);var s={ChallengeName:a,ChallengeResponses:o,ClientId:this.pool.getClientId(),Session:this.Session,ClientMetadata:r};this.getUserContextData()&&(s.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",s,(function(e,n){if(e)return t.onFailure(e);if("DEVICE_SRP_AUTH"!==n.ChallengeName){if(i.signInUserSession=i.getCognitoUserSession(n.AuthenticationResult),i.cacheTokens(),null==n.AuthenticationResult.NewDeviceMetadata)return t.onSuccess(i.signInUserSession);var r=new _s(i.pool.getUserPoolId().split("_")[1]);r.generateHashDevice(n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,n.AuthenticationResult.NewDeviceMetadata.DeviceKey,(function(e){if(e)return t.onFailure(e);var o={Salt:ts.lW.from(r.getSaltDevices(),"hex").toString("base64"),PasswordVerifier:ts.lW.from(r.getVerifierDevices(),"hex").toString("base64")};i.verifierDevices=o.PasswordVerifier,i.deviceGroupKey=n.AuthenticationResult.NewDeviceMetadata.DeviceGroupKey,i.randomPassword=r.getRandomPassword(),i.client.request("ConfirmDevice",{DeviceKey:n.AuthenticationResult.NewDeviceMetadata.DeviceKey,AccessToken:i.signInUserSession.getAccessToken().getJwtToken(),DeviceSecretVerifierConfig:o,DeviceName:Gs},(function(e,r){return e?t.onFailure(e):(i.deviceKey=n.AuthenticationResult.NewDeviceMetadata.DeviceKey,i.cacheDeviceKeyAndPassword(),!0===r.UserConfirmationNecessary?t.onSuccess(i.signInUserSession,r.UserConfirmationNecessary):t.onSuccess(i.signInUserSession))}))}))}else i.getDeviceResponse(t)}))},t.changePassword=function(e,t,n,r){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("ChangePassword",{PreviousPassword:e,ProposedPassword:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:r},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.enableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);var t=[];t.push({DeliveryMedium:"SMS",AttributeName:"phone_number"}),this.client.request("SetUserSettings",{MFAOptions:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.setUserMfaPreference=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n(new Error("User is not authenticated"),null);this.client.request("SetUserMFAPreference",{SMSMfaSettings:e,SoftwareTokenMfaSettings:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n(e,null):n(null,"SUCCESS")}))},t.disableMFA=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("SetUserSettings",{MFAOptions:[],AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t){return t?e(t,null):e(null,"SUCCESS")}))},t.deleteUser=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("DeleteUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:t},(function(t){return t?e(t,null):(n.clearCachedUser(),e(null,"SUCCESS"))}))},t.updateAttributes=function(e,t,n){var r=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("UpdateUserAttributes",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserAttributes:e,ClientMetadata:n},(function(e){return e?t(e,null):r.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.getUserAttributes=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){if(t)return e(t,null);for(var r=[],i=0;i<n.UserAttributes.length;i++){var o={Name:n.UserAttributes[i].Name,Value:n.UserAttributes[i].Value},a=new Fs(o);r.push(a)}return e(null,r)}))},t.getMFAOptions=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e(new Error("User is not authenticated"),null);this.client.request("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e(t,null):e(null,n.MFAOptions)}))},t.createGetUserRequest=function(){return this.client.promisifyRequest("GetUser",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()})},t.refreshSessionIfPossible=function(e){var t=this;return void 0===e&&(e={}),new Promise((function(n){var r=t.signInUserSession.getRefreshToken();r&&r.getToken()?t.refreshSession(r,n,e.clientMetadata):n()}))},t.getUserData=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return this.clearCachedUserData(),e(new Error("User is not authenticated"),null);var r=this.getUserDataFromCache();if(r)if(this.isFetchUserDataAndTokenRequired(t))this.fetchUserData().then((function(e){return n.refreshSessionIfPossible(t).then((function(){return e}))})).then((function(t){return e(null,t)})).catch(e);else try{return void e(null,JSON.parse(r))}catch(i){return this.clearCachedUserData(),void e(i,null)}else this.fetchUserData().then((function(t){e(null,t)})).catch(e)},t.getUserDataFromCache=function(){return this.storage.getItem(this.userDataKey)},t.isFetchUserDataAndTokenRequired=function(e){var t=(e||{}).bypassCache;return void 0!==t&&t},t.fetchUserData=function(){var e=this;return this.createGetUserRequest().then((function(t){return e.cacheUserData(t),t}))},t.deleteAttributes=function(e,t){var n=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return t(new Error("User is not authenticated"),null);this.client.request("DeleteUserAttributes",{UserAttributeNames:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?t(e,null):n.getUserData((function(){return t(null,"SUCCESS")}),{bypassCache:!0})}))},t.resendConfirmationCode=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.client.request("ResendConfirmationCode",n,(function(t,n){return t?e(t,null):e(null,n)}))},t.getSession=function(e,t){if(void 0===t&&(t={}),null==this.username)return e(new Error("Username is null. Cannot retrieve a new session"),null);if(null!=this.signInUserSession&&this.signInUserSession.isValid())return e(null,this.signInUserSession);var n="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,r=n+".idToken",i=n+".accessToken",o=n+".refreshToken",a=n+".clockDrift";if(this.storage.getItem(r)){var s=new Is({IdToken:this.storage.getItem(r)}),u=new Cs({AccessToken:this.storage.getItem(i)}),l=new Rs({RefreshToken:this.storage.getItem(o)}),c=parseInt(this.storage.getItem(a),0)||0,f=new Ps({IdToken:s,AccessToken:u,RefreshToken:l,ClockDrift:c});if(f.isValid())return this.signInUserSession=f,e(null,this.signInUserSession);if(!l.getToken())return e(new Error("Cannot retrieve a new session. Please authenticate."),null);this.refreshSession(l,e,t.clientMetadata)}else e(new Error("Local storage is missing an ID Token, Please authenticate"),null)},t.refreshSession=function(e,t,n){var r=this,i=this.pool.wrapRefreshSessionCallback?this.pool.wrapRefreshSessionCallback(t):t,o={};o.REFRESH_TOKEN=e.getToken();var a="CognitoIdentityServiceProvider."+this.pool.getClientId(),s=a+".LastAuthUser";if(this.storage.getItem(s)){this.username=this.storage.getItem(s);var u=a+"."+this.username+".deviceKey";this.deviceKey=this.storage.getItem(u),o.DEVICE_KEY=this.deviceKey}var l={ClientId:this.pool.getClientId(),AuthFlow:"REFRESH_TOKEN_AUTH",AuthParameters:o,ClientMetadata:n};this.getUserContextData()&&(l.UserContextData=this.getUserContextData()),this.client.request("InitiateAuth",l,(function(t,n){if(t)return"NotAuthorizedException"===t.code&&r.clearCachedUser(),i(t,null);if(n){var o=n.AuthenticationResult;return Object.prototype.hasOwnProperty.call(o,"RefreshToken")||(o.RefreshToken=e.getToken()),r.signInUserSession=r.getCognitoUserSession(o),r.cacheTokens(),i(null,r.signInUserSession)}}))},t.cacheTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+"."+this.username+".clockDrift",o=e+".LastAuthUser";this.storage.setItem(t,this.signInUserSession.getIdToken().getJwtToken()),this.storage.setItem(n,this.signInUserSession.getAccessToken().getJwtToken()),this.storage.setItem(r,this.signInUserSession.getRefreshToken().getToken()),this.storage.setItem(i,""+this.signInUserSession.getClockDrift()),this.storage.setItem(o,this.username)},t.cacheUserData=function(e){this.storage.setItem(this.userDataKey,JSON.stringify(e))},t.clearCachedUserData=function(){this.storage.removeItem(this.userDataKey)},t.clearCachedUser=function(){this.clearCachedTokens(),this.clearCachedUserData()},t.cacheDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.setItem(t,this.deviceKey),this.storage.setItem(n,this.randomPassword),this.storage.setItem(r,this.deviceGroupKey)},t.getCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.getItem(t)&&(this.deviceKey=this.storage.getItem(t),this.randomPassword=this.storage.getItem(n),this.deviceGroupKey=this.storage.getItem(r))},t.clearCachedDeviceKeyAndPassword=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId()+"."+this.username,t=e+".deviceKey",n=e+".randomPasswordKey",r=e+".deviceGroupKey";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r)},t.clearCachedTokens=function(){var e="CognitoIdentityServiceProvider."+this.pool.getClientId(),t=e+"."+this.username+".idToken",n=e+"."+this.username+".accessToken",r=e+"."+this.username+".refreshToken",i=e+".LastAuthUser",o=e+"."+this.username+".clockDrift";this.storage.removeItem(t),this.storage.removeItem(n),this.storage.removeItem(r),this.storage.removeItem(i),this.storage.removeItem(o)},t.getCognitoUserSession=function(e){var t=new Is(e),n=new Cs(e),r=new Rs(e);return new Ps({IdToken:t,AccessToken:n,RefreshToken:r})},t.forgotPassword=function(e,t){var n={ClientId:this.pool.getClientId(),Username:this.username,ClientMetadata:t};this.getUserContextData()&&(n.UserContextData=this.getUserContextData()),this.client.request("ForgotPassword",n,(function(t,n){return t?e.onFailure(t):"function"===typeof e.inputVerificationCode?e.inputVerificationCode(n):e.onSuccess(n)}))},t.confirmPassword=function(e,t,n,r){var i={ClientId:this.pool.getClientId(),Username:this.username,ConfirmationCode:e,Password:t,ClientMetadata:r};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("ConfirmForgotPassword",i,(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getAttributeVerificationCode=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("GetUserAttributeVerificationCode",{AttributeName:e,AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),ClientMetadata:n},(function(e,n){return e?t.onFailure(e):"function"===typeof t.inputVerificationCode?t.inputVerificationCode(n):t.onSuccess("SUCCESS")}))},t.verifyAttribute=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));this.client.request("VerifyUserAttribute",{AttributeName:e,Code:t,AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(e){return e?n.onFailure(e):n.onSuccess("SUCCESS")}))},t.getDevice=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey},(function(t,n){return t?e.onFailure(t):e.onSuccess(n)}))},t.forgetSpecificDevice=function(e,t){if(null==this.signInUserSession||!this.signInUserSession.isValid())return t.onFailure(new Error("User is not authenticated"));this.client.request("ForgetDevice",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:e},(function(e){return e?t.onFailure(e):t.onSuccess("SUCCESS")}))},t.forgetDevice=function(e){var t=this;this.forgetSpecificDevice(this.deviceKey,{onFailure:e.onFailure,onSuccess:function(n){return t.deviceKey=null,t.deviceGroupKey=null,t.randomPassword=null,t.clearCachedDeviceKeyAndPassword(),e.onSuccess(n)}})},t.setDeviceStatusRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.setDeviceStatusNotRemembered=function(e){if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("UpdateDeviceStatus",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),DeviceKey:this.deviceKey,DeviceRememberedStatus:"not_remembered"},(function(t){return t?e.onFailure(t):e.onSuccess("SUCCESS")}))},t.listDevices=function(e,t,n){if(null==this.signInUserSession||!this.signInUserSession.isValid())return n.onFailure(new Error("User is not authenticated"));var r={AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),Limit:e};t&&(r.PaginationToken=t),this.client.request("ListDevices",r,(function(e,t){return e?n.onFailure(e):n.onSuccess(t)}))},t.globalSignOut=function(e){var t=this;if(null==this.signInUserSession||!this.signInUserSession.isValid())return e.onFailure(new Error("User is not authenticated"));this.client.request("GlobalSignOut",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(n){return n?e.onFailure(n):(t.clearCachedUser(),e.onSuccess("SUCCESS"))}))},t.signOut=function(e){var t=this;e&&"function"===typeof e?this.getSession((function(n,r){if(n)return e(n);t.revokeTokens((function(n){t.cleanClientData(),e(n)}))})):this.cleanClientData()},t.revokeTokens=function(e){if(void 0===e&&(e=function(){}),"function"!==typeof e)throw new Error("Invalid revokeTokenCallback. It should be a function.");if(!this.signInUserSession)return e(new Error("User is not authenticated"));if(!this.signInUserSession.getAccessToken())return e(new Error("No Access token available"));var t=this.signInUserSession.getRefreshToken().getToken(),n=this.signInUserSession.getAccessToken();if(this.isSessionRevocable(n)&&t)return this.revokeToken({token:t,callback:e});e()},t.isSessionRevocable=function(e){if(e&&"function"===typeof e.decodePayload)try{return!!e.decodePayload().origin_jti}catch(t){}return!1},t.cleanClientData=function(){this.signInUserSession=null,this.clearCachedUser()},t.revokeToken=function(e){var t=e.token,n=e.callback;this.client.requestWithRetry("RevokeToken",{Token:t,ClientId:this.pool.getClientId()},(function(e){if(e)return n(e);n()}))},t.sendMFASelectionAnswer=function(e,t){var n=this,r={};r.USERNAME=this.username,r.ANSWER=e;var i={ChallengeName:"SELECT_MFA_TYPE",ChallengeResponses:r,ClientId:this.pool.getClientId(),Session:this.Session};this.getUserContextData()&&(i.UserContextData=this.getUserContextData()),this.client.request("RespondToAuthChallenge",i,(function(r,i){return r?t.onFailure(r):(n.Session=i.Session,"SMS_MFA"===e?t.mfaRequired(i.ChallengeName,i.ChallengeParameters):"SOFTWARE_TOKEN_MFA"===e?t.totpRequired(i.ChallengeName,i.ChallengeParameters):void 0)}))},t.getUserContextData=function(){return this.pool.getUserContextData(this.username)},t.associateSoftwareToken=function(e){var t=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("AssociateSoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken()},(function(t,n){return t?e.onFailure(t):e.associateSecretCode(n.SecretCode)})):this.client.request("AssociateSoftwareToken",{Session:this.Session},(function(n,r){return n?e.onFailure(n):(t.Session=r.Session,e.associateSecretCode(r.SecretCode))}))},t.verifySoftwareToken=function(e,t,n){var r=this;null!=this.signInUserSession&&this.signInUserSession.isValid()?this.client.request("VerifySoftwareToken",{AccessToken:this.signInUserSession.getAccessToken().getJwtToken(),UserCode:e,FriendlyDeviceName:t},(function(e,t){return e?n.onFailure(e):n.onSuccess(t)})):this.client.request("VerifySoftwareToken",{Session:this.Session,UserCode:e,FriendlyDeviceName:t},(function(e,t){if(e)return n.onFailure(e);r.Session=t.Session;var i={};i.USERNAME=r.username;var o={ChallengeName:"MFA_SETUP",ClientId:r.pool.getClientId(),ChallengeResponses:i,Session:r.Session};r.getUserContextData()&&(o.UserContextData=r.getUserContextData()),r.client.request("RespondToAuthChallenge",o,(function(e,t){return e?n.onFailure(e):(r.signInUserSession=r.getCognitoUserSession(t.AuthenticationResult),r.cacheTokens(),n.onSuccess(r.signInUserSession))}))}))},e}(),zs=(n(2558),{userAgent:"aws-amplify/5.0.4 js",product:"",navigator:null,isReactNative:!1});if("undefined"!==typeof navigator&&navigator.product)if(zs.product=navigator.product||"",zs.navigator=navigator||null,"ReactNative"===navigator.product)zs.userAgent="aws-amplify/5.0.4 react-native",zs.isReactNative=!0;else zs.userAgent="aws-amplify/5.0.4 js",zs.isReactNative=!1;function Ws(){}Ws.prototype.userAgent=zs.userAgent;var Ks=Ws;function qs(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Qs(e,t)}function Ys(e){var t="function"===typeof Map?new Map:void 0;return Ys=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return $s(e,arguments,Js(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Qs(r,e)},Ys(e)}function $s(e,t,n){return $s=Xs()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&Qs(i,n.prototype),i},$s.apply(null,arguments)}function Xs(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bc){return!1}}function Qs(e,t){return Qs=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Qs(e,t)}function Js(e){return Js=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Js(e)}var Zs=function(e){function t(t,n,r,i){var o;return(o=e.call(this,t)||this).code=n,o.name=r,o.statusCode=i,o}return qs(t,e),t}(Ys(Error)),eu=function(){function e(e,t,n){this.endpoint=t||"https://cognito-idp."+e+".amazonaws.com/";var r=(n||{}).credentials;this.fetchOptions=r?{credentials:r}:{}}var t=e.prototype;return t.promisifyRequest=function(e,t){var n=this;return new Promise((function(r,i){n.request(e,t,(function(e,t){e?i(new Zs(e.message,e.code,e.name,e.statusCode)):r(t)}))}))},t.requestWithRetry=function(e,t,n){var r=this;(function(e,t,n){void 0===n&&(n=ru);return nu(e,t,function(e){var t=100,n=100;return function(r){var i=Math.pow(2,r)*t+n*Math.random();return!(i>e)&&i}}(n))})((function(t){return new Promise((function(n,i){r.request(e,t,(function(e,t){e?i(e):n(t)}))}))}),[t],5e3).then((function(e){return n(null,e)})).catch((function(e){return n(e)}))},t.request=function(e,t,n){var r,i={"Content-Type":"application/x-amz-json-1.1","X-Amz-Target":"AWSCognitoIdentityProviderService."+e,"X-Amz-User-Agent":Ks.prototype.userAgent},o=Object.assign({},this.fetchOptions,{headers:i,method:"POST",mode:"cors",cache:"no-cache",body:JSON.stringify(t)});fetch(this.endpoint,o).then((function(e){return r=e,e}),(function(e){if(e instanceof TypeError)throw new Error("Network error");throw e})).then((function(e){return e.json().catch((function(){return{}}))})).then((function(e){if(r.ok)return n(null,e);e;var t=(e.__type||e.code).split("#").pop(),i=new Error(e.message||e.Message||null);return i.name=t,i.code=t,n(i)})).catch((function(e){if(r&&r.headers&&r.headers.get("x-amzn-errortype"))try{var t=r.headers.get("x-amzn-errortype").split(":")[0],i=new Error(r.status?r.status.toString():null);return i.code=t,i.name=t,i.statusCode=r.status,n(i)}catch(o){return n(e)}else e instanceof Error&&"Network error"===e.message&&(e.code="NetworkError");return n(e)}))},e}(),tu=function(){};Error;function nu(e,t,n,r){if(void 0===r&&(r=1),"function"!==typeof e)throw Error("functionToRetry must be a function");return tu(e.name+" attempt #"+r+" with args: "+JSON.stringify(t)),e.apply(void 0,t).catch((function(i){if(tu("error on "+e.name,i),(o=i)&&o.nonRetryable)throw tu(e.name+" non retryable error",i),i;var o,a=n(r,t,i);if(tu(e.name+" retrying in "+a+" ms"),!1!==a)return new Promise((function(e){return setTimeout(e,a)})).then((function(){return nu(e,t,n,r+1)}));throw i}))}var ru=3e5;var iu,ou=function(){function e(e,t){var n=e||{},r=n.UserPoolId,i=n.ClientId,o=n.endpoint,a=n.fetchOptions,s=n.AdvancedSecurityDataCollectionFlag;if(!r||!i)throw new Error("Both UserPoolId and ClientId are required.");if(r.length>55||!/^[\w-]+_[0-9a-zA-Z]+$/.test(r))throw new Error("Invalid UserPoolId format.");var u=r.split("_")[0];this.userPoolId=r,this.clientId=i,this.client=new eu(u,o,a),this.advancedSecurityDataCollectionFlag=!1!==s,this.storage=e.Storage||(new Hs).getStorage(),t&&(this.wrapRefreshSessionCallback=t)}var t=e.prototype;return t.getUserPoolId=function(){return this.userPoolId},t.getClientId=function(){return this.clientId},t.signUp=function(e,t,n,r,i,o){var a=this,s={ClientId:this.clientId,Username:e,Password:t,UserAttributes:n,ValidationData:r,ClientMetadata:o};this.getUserContextData(e)&&(s.UserContextData=this.getUserContextData(e)),this.client.request("SignUp",s,(function(t,n){if(t)return i(t,null);var r={Username:e,Pool:a,Storage:a.storage},o={user:new Vs(r),userConfirmed:n.UserConfirmed,userSub:n.UserSub,codeDeliveryDetails:n.CodeDeliveryDetails};return i(null,o)}))},t.getCurrentUser=function(){var e="CognitoIdentityServiceProvider."+this.clientId+".LastAuthUser",t=this.storage.getItem(e);if(t){var n={Username:t,Pool:this,Storage:this.storage};return new Vs(n)}return null},t.getUserContextData=function(e){if("undefined"!==typeof AmazonCognitoAdvancedSecurityData){var t=AmazonCognitoAdvancedSecurityData;if(this.advancedSecurityDataCollectionFlag){var n=t.getData(e,this.userPoolId,this.clientId);if(n)return{EncodedData:n}}return{}}},e}(),au=n(3143),su=function(){function e(e){if(!e.domain)throw new Error("The domain of cookieStorage can not be undefined.");if(this.domain=e.domain,e.path?this.path=e.path:this.path="/",Object.prototype.hasOwnProperty.call(e,"expires")?this.expires=e.expires:this.expires=365,Object.prototype.hasOwnProperty.call(e,"secure")?this.secure=e.secure:this.secure=!0,Object.prototype.hasOwnProperty.call(e,"sameSite")){if(!["strict","lax","none"].includes(e.sameSite))throw new Error('The sameSite value of cookieStorage must be "lax", "strict" or "none".');if("none"===e.sameSite&&!this.secure)throw new Error("sameSite = None requires the Secure attribute in latest browser versions.");this.sameSite=e.sameSite}else this.sameSite=null}var t=e.prototype;return t.setItem=function(e,t){var n={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(n.sameSite=this.sameSite),au.set(e,t,n),au.get(e)},t.getItem=function(e){return au.get(e)},t.removeItem=function(e){var t={path:this.path,expires:this.expires,domain:this.domain,secure:this.secure};return this.sameSite&&(t.sameSite=this.sameSite),au.remove(e,t)},t.clear=function(){for(var e=au.get(),t=Object.keys(e).length,n=0;n<t;++n)this.removeItem(Object.keys(e)[n]);return{}},e}(),uu=n(2114),lu=function(e){var t=window.open(e,"_self");return t?Promise.resolve(t):Promise.reject()},cu=function(){return cu=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},cu.apply(this,arguments)},fu=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},du=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},hu=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},pu="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",vu=function(e,t,n){Xt.dispatch("auth",{event:e,data:t,message:n},"Auth",pu)},gu=new Vt("OAuth"),mu=function(){function e(e){var t=e.config,n=e.cognitoClientId,r=e.scopes,i=void 0===r?[]:r;if(this._urlOpener=t.urlOpener||lu,this._config=t,this._cognitoClientId=n,!this.isValidScopes(i))throw Error("scopes must be a String Array");this._scopes=i}return e.prototype.isValidScopes=function(e){return Array.isArray(e)&&e.every((function(e){return"string"===typeof e}))},e.prototype.oauthSignIn=function(e,t,n,r,i,o){void 0===e&&(e="code"),void 0===i&&(i=ct.Cognito);var a=this._generateState(32),s=o?a+"-"+o.split("").map((function(e){return e.charCodeAt(0).toString(16).padStart(2,"0")})).join(""):a;!function(e){window.sessionStorage.setItem("oauth_state",e)}(s);var u,l=this._generateRandom(128);u=l,window.sessionStorage.setItem("ouath_pkce_key",u);var c=this._generateChallenge(l),f=this._scopes.join(" "),d=Object.entries(cu(cu({redirect_uri:n,response_type:e,client_id:r,identity_provider:i,scope:f,state:s},"code"===e?{code_challenge:c}:{}),"code"===e?{code_challenge_method:"S256"}:{})).map((function(e){var t=hu(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),h="https://"+t+"/oauth2/authorize?"+d;gu.debug("Redirecting to "+h),this._urlOpener(h,n)},e.prototype._handleCodeFlow=function(e){return fu(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l,c,f,d,h,p;return du(this,(function(v){switch(v.label){case 0:return t=((0,uu.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=hu(t,2),i=r[0],o=r[1];return cu(cu({},e),((n={})[i]=o,n))}),{code:void 0}).code,n=(0,uu.Qc)(e).pathname||"/",r=(0,uu.Qc)(this._config.redirectSignIn).pathname||"/",t&&n===r?(i="https://"+this._config.domain+"/oauth2/token",vu("codeFlow",{},"Retrieving tokens from "+i),o=jt(this._config)?this._cognitoClientId:this._config.clientID,a=jt(this._config)?this._config.redirectSignIn:this._config.redirectUri,s=function(){var e=window.sessionStorage.getItem("ouath_pkce_key");return window.sessionStorage.removeItem("ouath_pkce_key"),e}(),u=cu({grant_type:"authorization_code",code:t,client_id:o,redirect_uri:a},s?{code_verifier:s}:{}),gu.debug("Calling token endpoint: "+i+" with",u),l=Object.entries(u).map((function(e){var t=hu(e,2),n=t[0],r=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(r)})).join("&"),[4,fetch(i,{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:l})]):[2];case 1:return[4,v.sent().json()];case 2:if(c=v.sent(),f=c.access_token,d=c.refresh_token,h=c.id_token,p=c.error)throw new Error(p);return[2,{accessToken:f,refreshToken:d,idToken:h}]}}))}))},e.prototype._handleImplicitFlow=function(e){return fu(this,void 0,void 0,(function(){var t,n,r;return du(this,(function(i){return t=((0,uu.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n,r=hu(t,2),i=r[0],o=r[1];return cu(cu({},e),((n={})[i]=o,n))}),{id_token:void 0,access_token:void 0}),n=t.id_token,r=t.access_token,vu("implicitFlow",{},"Got tokens from "+e),gu.debug("Retrieving implicit tokens from "+e+" with"),[2,{accessToken:r,idToken:n,refreshToken:null}]}))}))},e.prototype.handleAuthResponse=function(e){return fu(this,void 0,void 0,(function(){var t,n,r,i,o,a,s;return du(this,(function(u){switch(u.label){case 0:if(u.trys.push([0,5,,6]),t=e?cu(cu({},((0,uu.Qc)(e).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=hu(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})),((0,uu.Qc)(e).query||"").split("&").map((function(e){return e.split("=")})).reduce((function(e,t){var n=hu(t,2),r=n[0],i=n[1];return e[r]=i,e}),{})):{},n=t.error,r=t.error_description,n)throw new Error(r);return i=this._validateState(t),gu.debug("Starting "+this._config.responseType+" flow with "+e),"code"!==this._config.responseType?[3,2]:(o=[{}],[4,this._handleCodeFlow(e)]);case 1:return[2,cu.apply(void 0,[cu.apply(void 0,o.concat([u.sent()])),{state:i}])];case 2:return a=[{}],[4,this._handleImplicitFlow(e)];case 3:return[2,cu.apply(void 0,[cu.apply(void 0,a.concat([u.sent()])),{state:i}])];case 4:return[3,6];case 5:throw s=u.sent(),gu.error("Error handling auth response.",s),s;case 6:return[2]}}))}))},e.prototype._validateState=function(e){if(e){var t=function(){var e=window.sessionStorage.getItem("oauth_state");return window.sessionStorage.removeItem("oauth_state"),e}(),n=e.state;if(t&&t!==n)throw new Error("Invalid state in OAuth flow");return n}},e.prototype.signOut=function(){return fu(this,void 0,void 0,(function(){var e,t,n;return du(this,(function(r){return e="https://"+this._config.domain+"/logout?",t=jt(this._config)?this._cognitoClientId:this._config.oauth.clientID,n=jt(this._config)?this._config.redirectSignOut:this._config.returnTo,e+=Object.entries({client_id:t,logout_uri:encodeURIComponent(n)}).map((function(e){var t=hu(e,2);return t[0]+"="+t[1]})).join("&"),vu("oAuthSignOut",{oAuth:"signOut"},"Signing out from "+e),gu.debug("Signing out from "+e),[2,this._urlOpener(e,n)]}))}))},e.prototype._generateState=function(e){for(var t="",n=e,r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";n>0;--n)t+=r[Math.round(Math.random()*(r.length-1))];return t},e.prototype._generateChallenge=function(e){return this._base64URL(os()(e))},e.prototype._base64URL=function(e){return e.toString(Ds()).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},e.prototype._generateRandom=function(e){var t=new Uint8Array(e);if("undefined"!==typeof window&&window.crypto)window.crypto.getRandomValues(t);else for(var n=0;n<e;n+=1)t[n]=Math.random()*"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~".length|0;return this._bufferToString(t)},e.prototype._bufferToString=function(e){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=[],r=0;r<e.byteLength;r+=1){var i=e[r]%t.length;n.push(t[i])}return n.join("")},e}(),yu=mu;!function(e){e.DEFAULT_MSG="Authentication Error",e.EMPTY_EMAIL="Email cannot be empty",e.EMPTY_PHONE="Phone number cannot be empty",e.EMPTY_USERNAME="Username cannot be empty",e.INVALID_USERNAME="The username should either be a string or one of the sign in types",e.EMPTY_PASSWORD="Password cannot be empty",e.EMPTY_CODE="Confirmation code cannot be empty",e.SIGN_UP_ERROR="Error creating account",e.NO_MFA="No valid MFA method provided",e.INVALID_MFA="Invalid MFA type",e.EMPTY_CHALLENGE="Challenge response cannot be empty",e.NO_USER_SESSION="Failed to get the session because the user is empty",e.NETWORK_ERROR="Network Error",e.DEVICE_CONFIG="Device tracking has not been configured in this User Pool"}(iu||(iu={}));var bu,wu=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),Eu=new Vt("AuthError"),Su=function(e){function t(n){var r=this,i=Tu[n],o=i.message,a=i.log;return(r=e.call(this,o)||this).constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="AuthError",r.log=a||o,Eu.error(r.log),r}return wu(t,e),t}(Error),xu=function(e){function t(n){var r=e.call(this,n)||this;return r.constructor=t,Object.setPrototypeOf(r,t.prototype),r.name="NoUserPoolError",r}return wu(t,e),t}(Su),Tu={noConfig:{message:iu.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly.\n            This error is typically caused by one of the following scenarios:\n\n            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point\n                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information\n            \n            2. There might be multiple conflicting versions of amplify packages in your node_modules.\n\t\t\t\tRefer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)\n        "},missingAuthConfig:{message:iu.DEFAULT_MSG,log:"\n            Error: Amplify has not been configured correctly. \n            The configuration object is missing required auth properties.\n            This error is typically caused by one of the following scenarios:\n\n            1. Did you run `amplify push` after adding auth via `amplify add auth`?\n                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information\n\n            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.\n        "},emptyUsername:{message:iu.EMPTY_USERNAME},invalidUsername:{message:iu.INVALID_USERNAME},emptyPassword:{message:iu.EMPTY_PASSWORD},emptyCode:{message:iu.EMPTY_CODE},signUpError:{message:iu.SIGN_UP_ERROR,log:"The first parameter should either be non-null string or object"},noMFA:{message:iu.NO_MFA},invalidMFA:{message:iu.INVALID_MFA},emptyChallengeResponse:{message:iu.EMPTY_CHALLENGE},noUserSession:{message:iu.NO_USER_SESSION},deviceConfig:{message:iu.DEVICE_CONFIG},networkError:{message:iu.NETWORK_ERROR},default:{message:iu.DEFAULT_MSG}},_u=function(){return _u=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},_u.apply(this,arguments)},ku=function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{u(r.next(e))}catch(bc){o(bc)}}function s(e){try{u(r.throw(e))}catch(bc){o(bc)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((r=r.apply(e,t||[])).next())}))},Au=function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=(i=a.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(bc){o=[6,bc],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}},Cu=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Ou=new Vt("AuthClass"),Iu="aws.cognito.signin.user.admin",Ru="undefined"!==typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("amplify_default"):"@@amplify_default",Lu=function(e,t,n){Xt.dispatch("auth",{event:e,data:t,message:n},"Auth",Ru)},Du=function(){function e(e){var t=this;this.userPool=null,this.user=null,this.oAuthFlowInProgress=!1,this.Credentials=Ha,this.wrapRefreshSessionCallback=function(e){return function(t,n){return n?Lu("tokenRefresh",void 0,"New token retrieved"):Lu("tokenRefresh_failure",t,"Failed to retrieve new token"),e(t,n)}},this.configure(e),this.currentCredentials=this.currentCredentials.bind(this),this.currentUserCredentials=this.currentUserCredentials.bind(this),Xt.listen("auth",(function(e){switch(e.payload.event){case"signIn":t._storage.setItem("amplify-signin-with-hostedUI","false");break;case"signOut":t._storage.removeItem("amplify-signin-with-hostedUI");break;case"cognitoHostedUI":t._storage.setItem("amplify-signin-with-hostedUI","true")}}))}return e.prototype.getModuleName=function(){return"Auth"},e.prototype.configure=function(e){var t=this;if(!e)return this._config||{};Ou.debug("configure Auth");var n=Object.assign({},this._config,Wa.parseMobilehubConfig(e).Auth,e);this._config=n;var r=this._config,i=r.userPoolId,o=r.userPoolWebClientId,a=r.cookieStorage,s=r.oauth,u=r.region,l=r.identityPoolId,c=r.mandatorySignIn,f=r.refreshHandlers,d=r.identityPoolRegion,h=r.clientMetadata,p=r.endpoint;if(this._config.storage){if(!this._isValidAuthStorage(this._config.storage))throw Ou.error("The storage in the Auth config is not valid!"),new Error("Empty storage object");this._storage=this._config.storage}else this._storage=a?new su(a):e.ssr?new Ja:(new Zt).getStorage();if(this._storageSync=Promise.resolve(),"function"===typeof this._storage.sync&&(this._storageSync=this._storage.sync()),i){var v={UserPoolId:i,ClientId:o,endpoint:p};v.Storage=this._storage,this.userPool=new ou(v,this.wrapRefreshSessionCallback)}this.Credentials.configure({mandatorySignIn:c,region:d||u,userPoolId:i,identityPoolId:l,refreshHandlers:f,storage:this._storage});var g=s?jt(this._config.oauth)?s:s.awsCognito:void 0;if(g){var m=Object.assign({cognitoClientId:o,UserPoolId:i,domain:g.domain,scopes:g.scope,redirectSignIn:g.redirectSignIn,redirectSignOut:g.redirectSignOut,responseType:g.responseType,Storage:this._storage,urlOpener:g.urlOpener,clientMetadata:h},g.options);this._oAuthHandler=new yu({scopes:m.scopes,config:m,cognitoClientId:m.cognitoClientId});var y={};!function(e){if(cn().isBrowser&&window.location)e({url:window.location.href});else if(!cn().isNode)throw new Error("Not supported")}((function(e){var n=e.url;y[n]||(y[n]=!0,t._handleAuthResponse(n))}))}return Lu("configured",null,"The Auth category has been configured successfully"),this._config},e.prototype.signUp=function(e){for(var t=this,n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];if(!this.userPool)return this.rejectNoUserPool();var i,o=null,a=null,s=[],u=null;if(e&&"string"===typeof e){o=e,a=n?n[0]:null;var l=n?n[1]:null,c=n?n[2]:null;l&&s.push(new Fs({Name:"email",Value:l})),c&&s.push(new Fs({Name:"phone_number",Value:c}))}else{if(!e||"object"!==typeof e)return this.rejectAuthError(ft.SignUpError);o=e.username,a=e.password,e&&e.clientMetadata?i=e.clientMetadata:this._config.clientMetadata&&(i=this._config.clientMetadata);var f=e.attributes;f&&Object.keys(f).map((function(e){s.push(new Fs({Name:e,Value:f[e]}))}));var d=e.validationData;d&&(u=[],Object.keys(d).map((function(e){u.push(new Fs({Name:e,Value:d[e]}))})))}return o?a?(Ou.debug("signUp attrs:",s),Ou.debug("signUp validation data:",u),new Promise((function(e,n){t.userPool.signUp(o,a,s,u,(function(t,r){t?(Lu("signUp_failure",t,o+" failed to signup"),n(t)):(Lu("signUp",r,o+" has signed up successfully"),e(r))}),i)}))):this.rejectAuthError(ft.EmptyPassword):this.rejectAuthError(ft.EmptyUsername)},e.prototype.confirmSignUp=function(e,t,n){if(!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(ft.EmptyUsername);if(!t)return this.rejectAuthError(ft.EmptyCode);var r,i=this.createCognitoUser(e),o=!n||"boolean"!==typeof n.forceAliasCreation||n.forceAliasCreation;return n&&n.clientMetadata?r=n.clientMetadata:this._config.clientMetadata&&(r=this._config.clientMetadata),new Promise((function(e,n){i.confirmRegistration(t,o,(function(t,r){t?n(t):e(r)}),r)}))},e.prototype.resendSignUp=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(ft.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(e,r){n.resendConfirmationCode((function(t,n){t?r(t):e(n)}),t)}))},e.prototype.signIn=function(e,t,n){if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();var r=null,i=null,o={};if("string"===typeof e)r=e,i=t;else{if(!e.username)return this.rejectAuthError(ft.InvalidUsername);"undefined"!==typeof t&&Ou.warn("The password should be defined under the first parameter object!"),r=e.username,i=e.password,o=e.validationData}if(!r)return this.rejectAuthError(ft.EmptyUsername);var a=new es({Username:r,Password:i,ValidationData:o,ClientMetadata:n});return i?this.signInWithPassword(a):this.signInWithoutPassword(a)},e.prototype.authCallbacks=function(e,t,n){var r=this,i=this;return{onSuccess:function(o){return ku(r,void 0,void 0,(function(){var r,a,s,u;return Au(this,(function(l){switch(l.label){case 0:Ou.debug(o),delete e.challengeName,delete e.challengeParam,l.label=1;case 1:return l.trys.push([1,4,5,9]),[4,this.Credentials.clear()];case 2:return l.sent(),[4,this.Credentials.set(o,"session")];case 3:return r=l.sent(),Ou.debug("succeed to get cognito credentials",r),[3,9];case 4:return a=l.sent(),Ou.debug("cannot get cognito credentials",a),[3,9];case 5:return l.trys.push([5,7,,8]),[4,this.currentUserPoolUser()];case 6:return s=l.sent(),i.user=s,Lu("signIn",s,"A user "+e.getUsername()+" has been signed in"),t(s),[3,8];case 7:return u=l.sent(),Ou.error("Failed to get the signed in user",u),n(u),[3,8];case 8:return[7];case 9:return[2]}}))}))},onFailure:function(t){Ou.debug("signIn failure",t),Lu("signIn_failure",t,e.getUsername()+" failed to signin"),n(t)},customChallenge:function(n){Ou.debug("signIn custom challenge answer required"),e.challengeName="CUSTOM_CHALLENGE",e.challengeParam=n,t(e)},mfaRequired:function(n,r){Ou.debug("signIn MFA required"),e.challengeName=n,e.challengeParam=r,t(e)},mfaSetup:function(n,r){Ou.debug("signIn mfa setup",n),e.challengeName=n,e.challengeParam=r,t(e)},newPasswordRequired:function(n,r){Ou.debug("signIn new password"),e.challengeName="NEW_PASSWORD_REQUIRED",e.challengeParam={userAttributes:n,requiredAttributes:r},t(e)},totpRequired:function(n,r){Ou.debug("signIn totpRequired"),e.challengeName=n,e.challengeParam=r,t(e)},selectMFAType:function(n,r){Ou.debug("signIn selectMFAType",n),e.challengeName=n,e.challengeParam=r,t(e)}}},e.prototype.signInWithPassword=function(e){var t=this;if(this.pendingSignIn)throw new Error("Pending sign-in attempt already in progress");var n=this.createCognitoUser(e.getUsername());return this.pendingSignIn=new Promise((function(r,i){n.authenticateUser(e,t.authCallbacks(n,(function(e){t.pendingSignIn=null,r(e)}),(function(e){t.pendingSignIn=null,i(e)})))})),this.pendingSignIn},e.prototype.signInWithoutPassword=function(e){var t=this,n=this.createCognitoUser(e.getUsername());return n.setAuthenticationFlowType("CUSTOM_AUTH"),new Promise((function(r,i){n.initiateAuth(e,t.authCallbacks(n,r,i))}))},e.prototype.getMFAOptions=function(e){return new Promise((function(t,n){e.getMFAOptions((function(e,r){if(e)return Ou.debug("get MFA Options failed",e),void n(e);Ou.debug("get MFA options success",r),t(r)}))}))},e.prototype.getPreferredMFA=function(e,t){var n=this,r=this;return new Promise((function(i,o){var a=n._config.clientMetadata,s=!!t&&t.bypassCache;e.getUserData((function(t,a){return ku(n,void 0,void 0,(function(){var n,s;return Au(this,(function(u){switch(u.label){case 0:if(!t)return[3,5];if(Ou.debug("getting preferred mfa failed",t),!this.isSessionInvalid(t))return[3,4];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return u.sent(),[3,4];case 3:return n=u.sent(),o(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return o(t),[2];case 5:return(s=r._getMfaTypeFromUserData(a))?(i(s),[2]):(o("invalid MFA Type"),[2])}}))}))}),{bypassCache:s,clientMetadata:a})}))},e.prototype._getMfaTypeFromUserData=function(e){var t=null,n=e.PreferredMfaSetting;if(n)t=n;else{var r=e.UserMFASettingList;if(r)0===r.length?t="NOMFA":Ou.debug("invalid case for getPreferredMFA",e);else t=e.MFAOptions?"SMS_MFA":"NOMFA"}return t},e.prototype._getUserData=function(e,t){var n=this;return new Promise((function(r,i){e.getUserData((function(t,o){return ku(n,void 0,void 0,(function(){var n;return Au(this,(function(a){switch(a.label){case 0:if(!t)return[3,5];if(Ou.debug("getting user data failed",t),!this.isSessionInvalid(t))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return n=a.sent(),i(new Error("Session is invalid due to: "+t.message+" and failed to clean up invalid session: "+n.message)),[2];case 4:return i(t),[2];case 5:r(o),a.label=6;case 6:return[2]}}))}))}),t)}))},e.prototype.setPreferredMFA=function(e,t){return ku(this,void 0,void 0,(function(){var n,r,i,o,a,s,u=this;return Au(this,(function(l){switch(l.label){case 0:return n=this._config.clientMetadata,[4,this._getUserData(e,{bypassCache:!0,clientMetadata:n})];case 1:switch(r=l.sent(),i=null,o=null,t){case"TOTP":case"SOFTWARE_TOKEN_MFA":return[3,2];case"SMS":case"SMS_MFA":return[3,3];case"NOMFA":return[3,4]}return[3,6];case 2:return o={PreferredMfa:!0,Enabled:!0},[3,7];case 3:return i={PreferredMfa:!0,Enabled:!0},[3,7];case 4:return a=r.UserMFASettingList,[4,this._getMfaTypeFromUserData(r)];case 5:if("NOMFA"===(s=l.sent()))return[2,Promise.resolve("No change for mfa type")];if("SMS_MFA"===s)i={PreferredMfa:!1,Enabled:!1};else{if("SOFTWARE_TOKEN_MFA"!==s)return[2,this.rejectAuthError(ft.InvalidMFA)];o={PreferredMfa:!1,Enabled:!1}}return a&&0!==a.length&&a.forEach((function(e){"SMS_MFA"===e?i={PreferredMfa:!1,Enabled:!1}:"SOFTWARE_TOKEN_MFA"===e&&(o={PreferredMfa:!1,Enabled:!1})})),[3,7];case 6:return Ou.debug("no validmfa method provided"),[2,this.rejectAuthError(ft.NoMFA)];case 7:return this,[2,new Promise((function(t,r){e.setUserMfaPreference(i,o,(function(i,o){if(i)return Ou.debug("Set user mfa preference error",i),r(i);Ou.debug("Set user mfa success",o),Ou.debug("Caching the latest user data into local"),e.getUserData((function(n,i){return ku(u,void 0,void 0,(function(){var i;return Au(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(Ou.debug("getting user data failed",n),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return i=a.sent(),r(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(n)];case 5:return[2,t(o)]}}))}))}),{bypassCache:!0,clientMetadata:n})}))}))]}}))}))},e.prototype.disableSMS=function(e){return new Promise((function(t,n){e.disableMFA((function(e,r){if(e)return Ou.debug("disable mfa failed",e),void n(e);Ou.debug("disable mfa succeed",r),t(r)}))}))},e.prototype.enableSMS=function(e){return new Promise((function(t,n){e.enableMFA((function(e,r){if(e)return Ou.debug("enable mfa failed",e),void n(e);Ou.debug("enable mfa succeed",r),t(r)}))}))},e.prototype.setupTOTP=function(e){return new Promise((function(t,n){e.associateSoftwareToken({onFailure:function(e){Ou.debug("associateSoftwareToken failed",e),n(e)},associateSecretCode:function(e){Ou.debug("associateSoftwareToken sucess",e),t(e)}})}))},e.prototype.verifyTotpToken=function(e,t){return Ou.debug("verification totp token",e,t),new Promise((function(n,r){e.verifySoftwareToken(t,"My TOTP device",{onFailure:function(e){Ou.debug("verifyTotpToken failed",e),r(e)},onSuccess:function(t){Lu("signIn",e,"A user "+e.getUsername()+" has been signed in"),Ou.debug("verifyTotpToken success",t),n(t)}})}))},e.prototype.confirmSignIn=function(e,t,n,r){var i=this;if(void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(ft.EmptyCode);var o=this;return new Promise((function(a,s){e.sendMFACode(t,{onSuccess:function(t){return ku(i,void 0,void 0,(function(){var n,r;return Au(this,(function(i){switch(i.label){case 0:Ou.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Ou.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Ou.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,Lu("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ou.debug("confirm signIn failure",e),s(e)}},n,r)}))},e.prototype.completeNewPassword=function(e,t,n,r){var i=this;if(void 0===n&&(n={}),void 0===r&&(r=this._config.clientMetadata),!t)return this.rejectAuthError(ft.EmptyPassword);var o=this;return new Promise((function(a,s){e.completeNewPasswordChallenge(t,n,{onSuccess:function(t){return ku(i,void 0,void 0,(function(){var n,r;return Au(this,(function(i){switch(i.label){case 0:Ou.debug(t),i.label=1;case 1:return i.trys.push([1,4,5,6]),[4,this.Credentials.clear()];case 2:return i.sent(),[4,this.Credentials.set(t,"session")];case 3:return n=i.sent(),Ou.debug("succeed to get cognito credentials",n),[3,6];case 4:return r=i.sent(),Ou.debug("cannot get cognito credentials",r),[3,6];case 5:return o.user=e,Lu("signIn",e,"A user "+e.getUsername()+" has been signed in"),a(e),[7];case 6:return[2]}}))}))},onFailure:function(e){Ou.debug("completeNewPassword failure",e),Lu("completeNewPassword_failure",e,i.user+" failed to complete the new password flow"),s(e)},mfaRequired:function(t,n){Ou.debug("signIn MFA required"),e.challengeName=t,e.challengeParam=n,a(e)},mfaSetup:function(t,n){Ou.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)},totpRequired:function(t,n){Ou.debug("signIn mfa setup",t),e.challengeName=t,e.challengeParam=n,a(e)}},r)}))},e.prototype.sendCustomChallengeAnswer=function(e,t,n){var r=this;if(void 0===n&&(n=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!t)return this.rejectAuthError(ft.EmptyChallengeResponse);return new Promise((function(i,o){e.sendCustomChallengeAnswer(t,r.authCallbacks(e,i,o),n)}))},e.prototype.deleteUserAttributes=function(e,t){var n=this;return new Promise((function(r,i){n.userSession(e).then((function(n){e.deleteAttributes(t,(function(e,t){return e?i(e):r(t)}))}))}))},e.prototype.deleteUser=function(){return ku(this,void 0,void 0,(function(){var e,t,n=this;return Au(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._storageSync];case 1:return r.sent(),[3,3];case 2:throw e=r.sent(),Ou.debug("Failed to sync cache info into memory",e),new Error(e);case 3:return t=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(e,r){return ku(n,void 0,void 0,(function(){var n,i=this;return Au(this,(function(o){if(this.userPool){if(!(n=this.userPool.getCurrentUser()))return Ou.debug("Failed to get user from user pool"),[2,r(new Error("No current user."))];n.getSession((function(o,a){return ku(i,void 0,void 0,(function(){var i,a=this;return Au(this,(function(s){switch(s.label){case 0:if(!o)return[3,5];if(Ou.debug("Failed to get the user session",o),!this.isSessionInvalid(o))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(n)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),r(new Error("Session is invalid due to: "+o.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,r(o)];case 5:n.deleteUser((function(i,o){if(i)r(i);else{Lu("userDeleted",o,"The authenticated user has been deleted."),n.signOut(),a.user=null;try{a.cleanCachedItems()}catch(bc){Ou.debug("failed to clear cached items")}t?a.oAuthSignOutRedirect(e,r):(Lu("signOut",a.user,"A user has been signed out"),e(o))}})),s.label=6;case 6:return[2]}}))}))}))}else Ou.debug("no Congito User pool"),r(new Error("Cognito User pool does not exist"));return[2]}))}))}))]}}))}))},e.prototype.updateUserAttributes=function(e,t,n){void 0===n&&(n=this._config.clientMetadata);var r=[],i=this;return new Promise((function(o,a){i.userSession(e).then((function(i){for(var s in t)if("sub"!==s&&s.indexOf("_verified")<0){var u={Name:s,Value:t[s]};r.push(u)}e.updateAttributes(r,(function(e,t){return e?a(e):o(t)}),n)}))}))},e.prototype.userAttributes=function(e){var t=this;return new Promise((function(n,r){t.userSession(e).then((function(t){e.getUserAttributes((function(e,t){e?r(e):n(t)}))}))}))},e.prototype.verifiedContact=function(e){var t=this;return this.userAttributes(e).then((function(e){var n=t.attributesToObject(e),r={},i={};return n.email&&(n.email_verified?i.email=n.email:r.email=n.email),n.phone_number&&(n.phone_number_verified?i.phone_number=n.phone_number:r.phone_number=n.phone_number),{verified:i,unverified:r}}))},e.prototype.isErrorWithMessage=function(e){return"object"===typeof e&&Object.prototype.hasOwnProperty.call(e,"message")},e.prototype.isTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Access Token has been revoked"===e.message},e.prototype.isRefreshTokenRevokedError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has been revoked"===e.message},e.prototype.isUserDisabledError=function(e){return this.isErrorWithMessage(e)&&"User is disabled."===e.message},e.prototype.isUserDoesNotExistError=function(e){return this.isErrorWithMessage(e)&&"User does not exist."===e.message},e.prototype.isRefreshTokenExpiredError=function(e){return this.isErrorWithMessage(e)&&"Refresh Token has expired"===e.message},e.prototype.isSignedInHostedUI=function(){return this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI")},e.prototype.isSessionInvalid=function(e){return this.isUserDisabledError(e)||this.isUserDoesNotExistError(e)||this.isTokenRevokedError(e)||this.isRefreshTokenRevokedError(e)||this.isRefreshTokenExpiredError(e)},e.prototype.cleanUpInvalidSession=function(e){return ku(this,void 0,void 0,(function(){var t=this;return Au(this,(function(n){switch(n.label){case 0:e.signOut(),this.user=null,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.cleanCachedItems()];case 2:return n.sent(),[3,4];case 3:return n.sent(),Ou.debug("failed to clear cached items"),[3,4];case 4:return this.isSignedInHostedUI()?[2,new Promise((function(e,n){t.oAuthSignOutRedirect(e,n)}))]:(Lu("signOut",this.user,"A user has been signed out"),[2])}}))}))},e.prototype.currentUserPoolUser=function(e){var t=this;return this.userPool?new Promise((function(n,r){t._storageSync.then((function(){return ku(t,void 0,void 0,(function(){var t,i,o=this;return Au(this,(function(a){switch(a.label){case 0:return this.isOAuthInProgress()?(Ou.debug("OAuth signIn in progress, waiting for resolution..."),[4,new Promise((function(e){var t=setTimeout((function(){Ou.debug("OAuth signIn in progress timeout"),Xt.remove("auth",n),e()}),1e4);function n(r){var i=r.payload.event;"cognitoHostedUI"!==i&&"cognitoHostedUI_failure"!==i||(Ou.debug("OAuth signIn resolved: "+i),clearTimeout(t),Xt.remove("auth",n),e())}Xt.listen("auth",n)}))]):[3,2];case 1:a.sent(),a.label=2;case 2:return(t=this.userPool.getCurrentUser())?(i=this._config.clientMetadata,t.getSession((function(i,a){return ku(o,void 0,void 0,(function(){var o,s,u,l,c=this;return Au(this,(function(f){switch(f.label){case 0:if(!i)return[3,5];if(Ou.debug("Failed to get the user session",i),!this.isSessionInvalid(i))return[3,4];f.label=1;case 1:return f.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return f.sent(),[3,4];case 3:return o=f.sent(),r(new Error("Session is invalid due to: "+i.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(i),[2];case 5:return(s=!!e&&e.bypassCache)?[4,this.Credentials.clear()]:[3,7];case 6:f.sent(),f.label=7;case 7:return u=this._config.clientMetadata,l=a.getAccessToken().decodePayload().scope,(void 0===l?"":l).split(" ").includes(Iu)?(t.getUserData((function(e,i){return ku(c,void 0,void 0,(function(){var o,a,s,u,l,c,f;return Au(this,(function(d){switch(d.label){case 0:if(!e)return[3,7];if(Ou.debug("getting user data failed",e),!this.isSessionInvalid(e))return[3,5];d.label=1;case 1:return d.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return d.sent(),[3,4];case 3:return o=d.sent(),r(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+o.message)),[2];case 4:return r(e),[3,6];case 5:n(t),d.label=6;case 6:return[2];case 7:for(a=i.PreferredMfaSetting||"NOMFA",s=[],u=0;u<i.UserAttributes.length;u++)l={Name:i.UserAttributes[u].Name,Value:i.UserAttributes[u].Value},c=new Fs(l),s.push(c);return f=this.attributesToObject(s),Object.assign(t,{attributes:f,preferredMFA:a}),[2,n(t)]}}))}))}),{bypassCache:s,clientMetadata:u}),[2]):(Ou.debug("Unable to get the user data because the "+Iu+" is not in the scopes of the access token"),[2,n(t)])}}))}))}),{clientMetadata:i}),[2]):(Ou.debug("Failed to get user from user pool"),r("No current user"),[2])}}))}))})).catch((function(e){return Ou.debug("Failed to sync cache info into memory",e),r(e)}))})):this.rejectNoUserPool()},e.prototype.isOAuthInProgress=function(){return this.oAuthFlowInProgress},e.prototype.currentAuthenticatedUser=function(e){return ku(this,void 0,void 0,(function(){var t,n,r,i,o;return Au(this,(function(a){switch(a.label){case 0:Ou.debug("getting current authenticated user"),t=null,a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this._storageSync];case 2:return a.sent(),[3,4];case 3:throw n=a.sent(),Ou.debug("Failed to sync cache info into memory",n),n;case 4:try{(r=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")))&&(t=_u(_u({},r.user),{token:r.token}))}catch(bc){Ou.debug("cannot load federated user from auth storage")}return t?(this.user=t,Ou.debug("get current authenticated federated user",this.user),[2,this.user]):[3,5];case 5:Ou.debug("get current authenticated userpool user"),i=null,a.label=6;case 6:return a.trys.push([6,8,,9]),[4,this.currentUserPoolUser(e)];case 7:return i=a.sent(),[3,9];case 8:return"No userPool"===(o=a.sent())&&Ou.error("Cannot get the current user because the user pool is missing. Please make sure the Auth module is configured with a valid Cognito User Pool ID"),Ou.debug("The user is not authenticated by the error",o),[2,Promise.reject("The user is not authenticated")];case 9:return this.user=i,[2,this.user]}}))}))},e.prototype.currentSession=function(){var e=this;return Ou.debug("Getting current session"),this.userPool?new Promise((function(t,n){e.currentUserPoolUser().then((function(r){e.userSession(r).then((function(e){t(e)})).catch((function(e){Ou.debug("Failed to get the current session",e),n(e)}))})).catch((function(e){Ou.debug("Failed to get the current user",e),n(e)}))})):this.rejectNoUserPool()},e.prototype.userSession=function(e){var t=this;if(!e)return Ou.debug("the user is null"),this.rejectAuthError(ft.NoUserSession);var n=this._config.clientMetadata;return new Promise((function(r,i){Ou.debug("Getting the session from this user:",e),e.getSession((function(n,o){return ku(t,void 0,void 0,(function(){var t;return Au(this,(function(a){switch(a.label){case 0:if(!n)return[3,5];if(Ou.debug("Failed to get the session from user",e),!this.isSessionInvalid(n))return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(e)];case 2:return a.sent(),[3,4];case 3:return t=a.sent(),i(new Error("Session is invalid due to: "+n.message+" and failed to clean up invalid session: "+t.message)),[2];case 4:return i(n),[2];case 5:return Ou.debug("Succeed to get the user session",o),r(o),[2]}}))}))}),{clientMetadata:n})}))},e.prototype.currentUserCredentials=function(){return ku(this,void 0,void 0,(function(){var e,t,n=this;return Au(this,(function(r){switch(r.label){case 0:Ou.debug("Getting current user credentials"),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this._storageSync];case 2:return r.sent(),[3,4];case 3:throw e=r.sent(),Ou.debug("Failed to sync cache info into memory",e),e;case 4:t=null;try{t=JSON.parse(this._storage.getItem("aws-amplify-federatedInfo"))}catch(bc){Ou.debug("failed to get or parse item aws-amplify-federatedInfo",bc)}return t?[2,this.Credentials.refreshFederatedToken(t)]:[2,this.currentSession().then((function(e){return Ou.debug("getting session success",e),n.Credentials.set(e,"session")})).catch((function(){return Ou.debug("getting guest credentials"),n.Credentials.set(null,"guest")}))]}}))}))},e.prototype.currentCredentials=function(){return Ou.debug("getting current credentials"),this.Credentials.get()},e.prototype.verifyUserAttribute=function(e,t,n){return void 0===n&&(n=this._config.clientMetadata),new Promise((function(r,i){e.getAttributeVerificationCode(t,{onSuccess:function(e){return r(e)},onFailure:function(e){return i(e)}},n)}))},e.prototype.verifyUserAttributeSubmit=function(e,t,n){return n?new Promise((function(r,i){e.verifyAttribute(t,n,{onSuccess:function(e){r(e)},onFailure:function(e){i(e)}})})):this.rejectAuthError(ft.EmptyCode)},e.prototype.verifyCurrentUserAttribute=function(e){var t=this;return t.currentUserPoolUser().then((function(n){return t.verifyUserAttribute(n,e)}))},e.prototype.verifyCurrentUserAttributeSubmit=function(e,t){var n=this;return n.currentUserPoolUser().then((function(r){return n.verifyUserAttributeSubmit(r,e,t)}))},e.prototype.cognitoIdentitySignOut=function(e,t){return ku(this,void 0,void 0,(function(){var n,r,i=this;return Au(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this._storageSync];case 1:return o.sent(),[3,3];case 2:throw n=o.sent(),Ou.debug("Failed to sync cache info into memory",n),n;case 3:return r=this._oAuthHandler&&"true"===this._storage.getItem("amplify-signin-with-hostedUI"),[2,new Promise((function(n,o){if(e&&e.global){Ou.debug("user global sign out",t);var a=i._config.clientMetadata;t.getSession((function(e,a){return ku(i,void 0,void 0,(function(){var i,a=this;return Au(this,(function(s){switch(s.label){case 0:if(!e)return[3,5];if(Ou.debug("failed to get the user session",e),!this.isSessionInvalid(e))return[3,4];s.label=1;case 1:return s.trys.push([1,3,,4]),[4,this.cleanUpInvalidSession(t)];case 2:return s.sent(),[3,4];case 3:return i=s.sent(),o(new Error("Session is invalid due to: "+e.message+" and failed to clean up invalid session: "+i.message)),[2];case 4:return[2,o(e)];case 5:return t.globalSignOut({onSuccess:function(e){if(Ou.debug("global sign out success"),!r)return n();a.oAuthSignOutRedirect(n,o)},onFailure:function(e){return Ou.debug("global sign out failed",e),o(e)}}),[2]}}))}))}),{clientMetadata:a})}else Ou.debug("user sign out",t),t.signOut((function(){if(!r)return n();i.oAuthSignOutRedirect(n,o)}))}))]}}))}))},e.prototype.oAuthSignOutRedirect=function(e,t){cn().isBrowser?this.oAuthSignOutRedirectOrReject(t):this.oAuthSignOutAndResolve(e)},e.prototype.oAuthSignOutAndResolve=function(e){this._oAuthHandler.signOut(),e()},e.prototype.oAuthSignOutRedirectOrReject=function(e){this._oAuthHandler.signOut(),setTimeout((function(){return e(Error("Signout timeout fail"))}),3e3)},e.prototype.signOut=function(e){return ku(this,void 0,void 0,(function(){var t;return Au(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.cleanCachedItems()];case 1:return n.sent(),[3,3];case 2:return n.sent(),Ou.debug("failed to clear cached items"),[3,3];case 3:return this.userPool?(t=this.userPool.getCurrentUser())?[4,this.cognitoIdentitySignOut(e,t)]:[3,5]:[3,7];case 4:return n.sent(),[3,6];case 5:Ou.debug("no current Cognito user"),n.label=6;case 6:return[3,8];case 7:Ou.debug("no Cognito User pool"),n.label=8;case 8:return Lu("signOut",this.user,"A user has been signed out"),this.user=null,[2]}}))}))},e.prototype.cleanCachedItems=function(){return ku(this,void 0,void 0,(function(){return Au(this,(function(e){switch(e.label){case 0:return[4,this.Credentials.clear()];case 1:return e.sent(),[2]}}))}))},e.prototype.changePassword=function(e,t,n,r){var i=this;return void 0===r&&(r=this._config.clientMetadata),new Promise((function(o,a){i.userSession(e).then((function(i){e.changePassword(t,n,(function(e,t){return e?(Ou.debug("change password failure",e),a(e)):o(t)}),r)}))}))},e.prototype.forgotPassword=function(e,t){if(void 0===t&&(t=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(ft.EmptyUsername);var n=this.createCognitoUser(e);return new Promise((function(r,i){n.forgotPassword({onSuccess:function(){r()},onFailure:function(t){Ou.debug("forgot password failure",t),Lu("forgotPassword_failure",t,e+" forgotPassword failed"),i(t)},inputVerificationCode:function(t){Lu("forgotPassword",n,e+" has initiated forgot password flow"),r(t)}},t)}))},e.prototype.forgotPasswordSubmit=function(e,t,n,r){if(void 0===r&&(r=this._config.clientMetadata),!this.userPool)return this.rejectNoUserPool();if(!e)return this.rejectAuthError(ft.EmptyUsername);if(!t)return this.rejectAuthError(ft.EmptyCode);if(!n)return this.rejectAuthError(ft.EmptyPassword);var i=this.createCognitoUser(e);return new Promise((function(o,a){i.confirmPassword(t,n,{onSuccess:function(t){Lu("forgotPasswordSubmit",i,e+" forgotPasswordSubmit successful"),o(t)},onFailure:function(t){Lu("forgotPasswordSubmit_failure",t,e+" forgotPasswordSubmit failed"),a(t)}},r)}))},e.prototype.currentUserInfo=function(){return ku(this,void 0,void 0,(function(){var e,t,n,r,i,o,a;return Au(this,(function(s){switch(s.label){case 0:return(e=this.Credentials.getCredSource())&&"aws"!==e&&"userPool"!==e?[3,9]:[4,this.currentUserPoolUser().catch((function(e){return Ou.error(e)}))];case 1:if(!(a=s.sent()))return[2,null];s.label=2;case 2:return s.trys.push([2,8,,9]),[4,this.userAttributes(a)];case 3:t=s.sent(),n=this.attributesToObject(t),r=null,s.label=4;case 4:return s.trys.push([4,6,,7]),[4,this.currentCredentials()];case 5:return r=s.sent(),[3,7];case 6:return i=s.sent(),Ou.debug("Failed to retrieve credentials while getting current user info",i),[3,7];case 7:return[2,{id:r?r.identityId:void 0,username:a.getUsername(),attributes:n}];case 8:return o=s.sent(),Ou.error("currentUserInfo error",o),[2,{}];case 9:return"federated"===e?[2,(a=this.user)||{}]:[2]}}))}))},e.prototype.federatedSignIn=function(e,t,n){return ku(this,void 0,void 0,(function(){var r,i,o,a,s,u,l,c,f,d,h;return Au(this,(function(p){switch(p.label){case 0:if(!this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation requires either a User Pool or Identity Pool in config");if("undefined"===typeof e&&this._config.identityPoolId&&!this._config.userPoolId)throw new Error("Federation with Identity Pools requires tokens passed as arguments");return Mt(e)||(v=e)&&["customProvider"].find((function(e){return v.hasOwnProperty(e)}))||function(e){return e&&!!["customState"].find((function(t){return e.hasOwnProperty(t)}))}(e)||"undefined"===typeof e?(r=e||{provider:ct.Cognito},s=Mt(r)?r.provider:r.customProvider,Mt(r),i=r.customState,this._config.userPoolId&&(o=jt(this._config.oauth)?this._config.userPoolWebClientId:this._config.oauth.clientID,a=jt(this._config.oauth)?this._config.oauth.redirectSignIn:this._config.oauth.redirectUri,this._oAuthHandler.oauthSignIn(this._config.oauth.responseType,this._config.oauth.domain,a,o,s,i)),[3,4]):[3,1];case 1:s=e;try{(u=JSON.stringify(JSON.parse(this._storage.getItem("aws-amplify-federatedInfo")).user))&&Ou.warn("There is already a signed in user: "+u+" in your app.\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tYou should not call Auth.federatedSignIn method again as it may cause unexpected behavior.")}catch(bc){}return l=t.token,c=t.identity_id,f=t.expires_at,[4,this.Credentials.set({provider:s,token:l,identity_id:c,user:n,expires_at:f},"federation")];case 2:return d=p.sent(),[4,this.currentAuthenticatedUser()];case 3:return h=p.sent(),Lu("signIn",h,"A user "+h.username+" has been signed in"),Ou.debug("federated sign in credentials",d),[2,d];case 4:return[2]}var v}))}))},e.prototype._handleAuthResponse=function(e){return ku(this,void 0,void 0,(function(){var t,n,r,i,o,a,s,u,l,c,f,d,h,p;return Au(this,(function(v){switch(v.label){case 0:if(this.oAuthFlowInProgress)return Ou.debug("Skipping URL "+e+" current flow in progress"),[2];v.label=1;case 1:if(v.trys.push([1,,8,9]),this.oAuthFlowInProgress=!0,!this._config.userPoolId)throw new Error("OAuth responses require a User Pool defined in config");if(Lu("parsingCallbackUrl",{url:e},"The callback url is being parsed"),t=e||(cn().isBrowser?window.location.href:""),n=!!((0,uu.Qc)(t).query||"").split("&").map((function(e){return e.split("=")})).find((function(e){var t=Cu(e,1)[0];return"code"===t||"error"===t})),r=!!((0,uu.Qc)(t).hash||"#").substr(1).split("&").map((function(e){return e.split("=")})).find((function(e){var t=Cu(e,1)[0];return"access_token"===t||"error"===t})),!n&&!r)return[3,7];this._storage.setItem("amplify-redirected-from-hosted-ui","true"),v.label=2;case 2:return v.trys.push([2,6,,7]),[4,this._oAuthHandler.handleAuthResponse(t)];case 3:return i=v.sent(),o=i.accessToken,a=i.idToken,s=i.refreshToken,u=i.state,l=new Ps({IdToken:new Is({IdToken:a}),RefreshToken:new Rs({RefreshToken:s}),AccessToken:new Cs({AccessToken:o})}),c=void 0,this._config.identityPoolId?[4,this.Credentials.set(l,"session")]:[3,5];case 4:c=v.sent(),Ou.debug("AWS credentials",c),v.label=5;case 5:return f=/-/.test(u),(d=this.createCognitoUser(l.getIdToken().decodePayload()["cognito:username"])).setSignInUserSession(l),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Lu("signIn",d,"A user "+d.getUsername()+" has been signed in"),Lu("cognitoHostedUI",d,"A user "+d.getUsername()+" has been signed in via Cognito Hosted UI"),f&&(h=u.split("-").splice(1).join("-"),Lu("customOAuthState",h.match(/.{2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""),"State for user "+d.getUsername())),[2,c];case 6:return p=v.sent(),Ou.debug("Error in cognito hosted auth response",p),window&&"undefined"!==typeof window.history&&window.history.replaceState({},null,this._config.oauth.redirectSignIn),Lu("signIn_failure",p,"The OAuth response flow failed"),Lu("cognitoHostedUI_failure",p,"A failure occurred when returning to the Cognito Hosted UI"),Lu("customState_failure",p,"A failure occurred when returning state"),[3,7];case 7:return[3,9];case 8:return this.oAuthFlowInProgress=!1,[7];case 9:return[2]}}))}))},e.prototype.essentialCredentials=function(e){return{accessKeyId:e.accessKeyId,sessionToken:e.sessionToken,secretAccessKey:e.secretAccessKey,identityId:e.identityId,authenticated:e.authenticated}},e.prototype.attributesToObject=function(e){var t=this,n={};return e&&e.map((function(e){"email_verified"===e.Name||"phone_number_verified"===e.Name?n[e.Name]=t.isTruthyString(e.Value)||!0===e.Value:n[e.Name]=e.Value})),n},e.prototype.isTruthyString=function(e){return"function"===typeof e.toLowerCase&&"true"===e.toLowerCase()},e.prototype.createCognitoUser=function(e){var t={Username:e,Pool:this.userPool};t.Storage=this._storage;var n=this._config.authenticationFlowType,r=new Vs(t);return n&&r.setAuthenticationFlowType(n),r},e.prototype._isValidAuthStorage=function(e){return!!e&&"function"===typeof e.getItem&&"function"===typeof e.setItem&&"function"===typeof e.removeItem&&"function"===typeof e.clear},e.prototype.noUserPoolErrorHandler=function(e){return!e||e.userPoolId&&e.identityPoolId?ft.NoConfig:ft.MissingAuthConfig},e.prototype.rejectAuthError=function(e){return Promise.reject(new Su(e))},e.prototype.rejectNoUserPool=function(){var e=this.noUserPoolErrorHandler(this._config);return Promise.reject(new xu(e))},e.prototype.rememberDevice=function(){return ku(this,void 0,void 0,(function(){var e,t;return Au(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ou.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.setDeviceStatusRemembered({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Su(ft.DeviceConfig)):"NetworkError"===e.code?n(new Su(ft.NetworkError)):n(e)}})}))]}}))}))},e.prototype.forgetDevice=function(){return ku(this,void 0,void 0,(function(){var e,t;return Au(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:return t=n.sent(),Ou.debug("The user is not authenticated by the error",t),[2,Promise.reject("The user is not authenticated")];case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){e.forgetDevice({onSuccess:function(e){t(e)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Su(ft.DeviceConfig)):"NetworkError"===e.code?n(new Su(ft.NetworkError)):n(e)}})}))]}}))}))},e.prototype.fetchDevices=function(){return ku(this,void 0,void 0,(function(){var e,t;return Au(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.currentUserPoolUser()];case 1:return e=n.sent(),[3,3];case 2:throw t=n.sent(),Ou.debug("The user is not authenticated by the error",t),new Error("The user is not authenticated");case 3:return e.getCachedDeviceKeyAndPassword(),[2,new Promise((function(t,n){var r={onSuccess:function(e){var n=e.Devices.map((function(e){var t=e.DeviceAttributes.find((function(e){return"device_name"===e.Name}))||{};return{id:e.DeviceKey,name:t.Value}}));t(n)},onFailure:function(e){"InvalidParameterException"===e.code?n(new Su(ft.DeviceConfig)):"NetworkError"===e.code?n(new Su(ft.NetworkError)):n(e)}};e.listDevices(60,null,r)}))]}}))}))},e}(),Pu=new Du(null);Gn.register(Pu);var Nu=new Uint8Array(16);function Mu(){if(!bu&&!(bu="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!==typeof msCrypto&&"function"===typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return bu(Nu)}var ju=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var Fu=function(e){return"string"===typeof e&&ju.test(e)},Uu=[],Bu=0;Bu<256;++Bu)Uu.push((Bu+256).toString(16).substr(1));var Hu=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Uu[e[t+0]]+Uu[e[t+1]]+Uu[e[t+2]]+Uu[e[t+3]]+"-"+Uu[e[t+4]]+Uu[e[t+5]]+"-"+Uu[e[t+6]]+Uu[e[t+7]]+"-"+Uu[e[t+8]]+Uu[e[t+9]]+"-"+Uu[e[t+10]]+Uu[e[t+11]]+Uu[e[t+12]]+Uu[e[t+13]]+Uu[e[t+14]]+Uu[e[t+15]]).toLowerCase();if(!Fu(n))throw TypeError("Stringified UUID is invalid");return n};var Gu=function(e,t,n){var r=(e=e||{}).random||(e.rng||Mu)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return Hu(r)},Vu=function(){var e=window.localStorage.getItem(Tt);return e?JSON.parse(e):function(){var e={idToken:Gu()};return window.localStorage.setItem(Tt,JSON.stringify(e)),e}()};var zu=function(){var e=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.currentSession();case 3:return e.abrupt("return",!0);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Wu=function(){var e=h(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.currentSession();case 3:return n=e.sent,r=null===(t=n.getIdToken().payload)||void 0===t?void 0:t.sub,e.abrupt("return",r||Vu().idToken);case 8:return e.prev=8,e.t0=e.catch(0),i=Vu().idToken,e.abrupt("return",i);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),Ku=Pu;function qu(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=u(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){s=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(s)throw o}}}}function Yu(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$u(Object(n),!0).forEach((function(t){Yu(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Qu(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ju(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zu(e,t,n){return t&&Ju(e.prototype,t),n&&Ju(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function el(e,t){return el=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},el(e,t)}function tl(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&el(e,t)}function nl(e){return nl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},nl(e)}function rl(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(bc){return!1}}function il(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ol(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return il(e)}function al(e){var t=rl();return function(){var n,r=nl(e);if(t){var i=nl(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ol(this,n)}}function sl(e,t,n){return sl=rl()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&el(i,n.prototype),i},sl.apply(null,arguments)}function ul(e){var t="function"===typeof Map?new Map:void 0;return ul=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return sl(e,arguments,nl(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),el(r,e)},ul(e)}var ll=function(e){tl(n,e);var t=al(n);function n(e,r,i){var o;Qu(this,n);var a=e.status||0===e.status?e.status:"",s=e.statusText||"",u="".concat(a," ").concat(s).trim(),l=u?"status code ".concat(u):"an unknown error";return(o=t.call(this,"Request failed with ".concat(l))).name="HTTPError",o.response=e,o.request=r,o.options=i,o}return Zu(n)}(ul(Error)),cl=function(e){tl(n,e);var t=al(n);function n(e){var r;return Qu(this,n),(r=t.call(this,"Request timed out")).name="TimeoutError",r.request=e,r}return Zu(n)}(ul(Error));function fl(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||u(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var dl,hl=function(e){return null!==e&&"object"===typeof e},pl=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0,i=t;r<i.length;r++){var o=i[r];if((!hl(o)||Array.isArray(o))&&"undefined"!==typeof o)throw new TypeError("The `options` argument must be an object")}return gl.apply(void 0,[{}].concat(t))},vl=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=new globalThis.Headers(t),i=n instanceof globalThis.Headers,o=new globalThis.Headers(n),a=qu(o.entries());try{for(a.s();!(e=a.n()).done;){var s=l(e.value,2),u=s[0],c=s[1];i&&"undefined"===c||void 0===c?r.delete(u):r.set(u,c)}}catch(f){a.e(f)}finally{a.f()}return r},gl=function e(){for(var t={},n={},r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];for(var a=0,s=i;a<s.length;a++){var u=s[a];if(Array.isArray(u))Array.isArray(t)||(t=[]),t=[].concat(fl(t),fl(u));else if(hl(u)){for(var c=0,f=Object.entries(u);c<f.length;c++){var d=l(f[c],2),h=d[0],p=d[1];hl(p)&&h in t&&(p=e(t[h],p)),t=Xu(Xu({},t),{},Yu({},h,p))}hl(u.headers)&&(n=vl(n,u.headers),t.headers=n)}}return t},ml="function"===typeof globalThis.AbortController,yl="function"===typeof globalThis.ReadableStream,bl="function"===typeof globalThis.FormData,wl=["get","post","put","patch","head","delete"],El={json:"application/json",text:"text/*",formData:"multipart/form-data",arrayBuffer:"*/*",blob:"*/*"},Sl=2147483647,xl=Symbol("stop"),Tl=function(e){return wl.includes(e)?e.toUpperCase():e},_l=[413,429,503],kl={limit:2,methods:["get","put","head","delete","options","trace"],statusCodes:[408,413,429,500,502,503,504],afterStatusCodes:_l,maxRetryAfter:Number.POSITIVE_INFINITY},Al=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("number"===typeof e)return Xu(Xu({},kl),{},{limit:e});if(e.methods&&!Array.isArray(e.methods))throw new Error("retry.methods must be an array");if(e.statusCodes&&!Array.isArray(e.statusCodes))throw new Error("retry.statusCodes must be an array");return Xu(Xu(Xu({},kl),e),{},{afterStatusCodes:_l})},Cl=function(){var e=h(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,i){var o=setTimeout((function(){n&&n.abort(),i(new cl(t))}),r.timeout);r.fetch(t).then(e).catch(i).then((function(){clearTimeout(o)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),Ol=function(){var e=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){setTimeout(e,t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Il=function(){function e(t){var n,r,i=this,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Qu(this,e),this._retryCount=0,this._input=t,this._options=Xu(Xu({credentials:this._input.credentials||"same-origin"},o),{},{headers:vl(this._input.headers,o.headers),hooks:gl({beforeRequest:[],beforeRetry:[],afterResponse:[]},o.hooks),method:Tl(null!==(n=o.method)&&void 0!==n?n:this._input.method),prefixUrl:String(o.prefixUrl||""),retry:Al(o.retry),throwHttpErrors:!1!==o.throwHttpErrors,timeout:"undefined"===typeof o.timeout?1e4:o.timeout,fetch:null!==(r=o.fetch)&&void 0!==r?r:globalThis.fetch.bind(globalThis)}),"string"!==typeof this._input&&!(this._input instanceof URL||this._input instanceof globalThis.Request))throw new TypeError("`input` must be a string, URL, or Request");if(this._options.prefixUrl&&"string"===typeof this._input){if(this._input.startsWith("/"))throw new Error("`input` must not begin with a slash when using `prefixUrl`");this._options.prefixUrl.endsWith("/")||(this._options.prefixUrl+="/"),this._input=this._options.prefixUrl+this._input}if(ml&&(this.abortController=new globalThis.AbortController,this._options.signal&&this._options.signal.addEventListener("abort",(function(){i.abortController.abort()})),this._options.signal=this.abortController.signal),this.request=new globalThis.Request(this._input,this._options),this._options.searchParams){var a="string"===typeof this._options.searchParams?this._options.searchParams.replace(/^\?/,""):new URLSearchParams(this._options.searchParams).toString(),s="?"+a,u=this.request.url.replace(/(?:\?.*?)?(?=#|$)/,s);!(bl&&this._options.body instanceof globalThis.FormData||this._options.body instanceof URLSearchParams)||this._options.headers&&this._options.headers["content-type"]||this.request.headers.delete("content-type"),this.request=new globalThis.Request(new globalThis.Request(u,this.request),this._options)}void 0!==this._options.json&&(this._options.body=JSON.stringify(this._options.json),this.request.headers.set("content-type","application/json"),this.request=new globalThis.Request(this.request,{body:this._options.body}))}return Zu(e,[{key:"_calculateRetryDelay",value:function(e){if(this._retryCount++,this._retryCount<this._options.retry.limit&&!(e instanceof cl)){if(e instanceof ll){if(!this._options.retry.statusCodes.includes(e.response.status))return 0;var t=e.response.headers.get("Retry-After");if(t&&this._options.retry.afterStatusCodes.includes(e.response.status)){var n=Number(t);return Number.isNaN(n)?n=Date.parse(t)-Date.now():n*=1e3,"undefined"!==typeof this._options.retry.maxRetryAfter&&n>this._options.retry.maxRetryAfter?0:n}if(413===e.response.status)return 0}return.3*Math.pow(2,this._retryCount-1)*1e3}return 0}},{key:"_decorateResponse",value:function(e){var t=this;return this._options.parseJson&&(e.json=h(f().mark((function n(){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=t._options,n.next=3,e.text();case 3:return n.t1=n.sent,n.abrupt("return",n.t0.parseJson.call(n.t0,n.t1));case 5:case"end":return n.stop()}}),n)})))),e}},{key:"_retry",value:function(){var e=h(f().mark((function e(t){var n,r,i,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t();case 3:return e.abrupt("return",e.sent);case 6:if(e.prev=6,e.t0=e.catch(0),!(0!==(n=Math.min(this._calculateRetryDelay(e.t0),Sl))&&this._retryCount>0)){e.next=33;break}return e.next=12,Ol(n);case 12:r=qu(this._options.hooks.beforeRetry),e.prev=13,r.s();case 15:if((i=r.n()).done){e.next=24;break}return o=i.value,e.next=19,o({request:this.request,options:this._options,error:e.t0,retryCount:this._retryCount});case 19:if(e.sent!==xl){e.next=22;break}return e.abrupt("return");case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t1=e.catch(13),r.e(e.t1);case 29:return e.prev=29,r.f(),e.finish(29);case 32:return e.abrupt("return",this._retry(t));case 33:throw e.t0;case 34:case"end":return e.stop()}}),e,this,[[0,6],[13,26,29,32]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_fetch",value:function(){var e=h(f().mark((function e(){var t,n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=qu(this._options.hooks.beforeRequest),e.prev=1,t.s();case 3:if((n=t.n()).done){e.next=15;break}return r=n.value,e.next=7,r(this.request,this._options);case 7:if(!((i=e.sent)instanceof Request)){e.next=11;break}return this.request=i,e.abrupt("break",15);case 11:if(!(i instanceof Response)){e.next=13;break}return e.abrupt("return",i);case 13:e.next=3;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),t.e(e.t0);case 20:return e.prev=20,t.f(),e.finish(20);case 23:if(!1!==this._options.timeout){e.next=25;break}return e.abrupt("return",this._options.fetch(this.request.clone()));case 25:return e.abrupt("return",Cl(this.request.clone(),this.abortController,this._options));case 26:case"end":return e.stop()}}),e,this,[[1,17,20,23]])})));return function(){return e.apply(this,arguments)}}()},{key:"_stream",value:function(e,t){var n=Number(e.headers.get("content-length"))||0,r=0;return new globalThis.Response(new globalThis.ReadableStream({start:function(i){return h(f().mark((function o(){var a,s,u;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return u=function(){return(u=h(f().mark((function e(){var o,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.read();case 2:if(o=e.sent,u=o.done,l=o.value,!u){e.next=8;break}return i.close(),e.abrupt("return");case 8:return t&&(r+=l.byteLength,t({percent:0===n?0:r/n,transferredBytes:r,totalBytes:n},l)),i.enqueue(l),e.next=12,s();case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)},s=function(){return u.apply(this,arguments)},a=e.body.getReader(),t&&t({percent:0,transferredBytes:0,totalBytes:n},new Uint8Array),o.next=6,s();case 6:case"end":return o.stop()}}),o)})))()}}))}}],[{key:"create",value:function(t,n){for(var r=new e(t,n),i=function(){var e=h(f().mark((function e(){var t,n,i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r._options.timeout>Sl)){e.next=2;break}throw new RangeError("The `timeout` option cannot be greater than ".concat(Sl));case 2:return e.next=4,Promise.resolve();case 4:return e.next=6,r._fetch();case 6:t=e.sent,n=qu(r._options.hooks.afterResponse),e.prev=8,n.s();case 10:if((i=n.n()).done){e.next=18;break}return o=i.value,e.next=14,o(r.request,r._options,r._decorateResponse(t.clone()));case 14:(a=e.sent)instanceof globalThis.Response&&(t=a);case 16:e.next=10;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(8),n.e(e.t0);case 23:return e.prev=23,n.f(),e.finish(23);case 26:if(r._decorateResponse(t),t.ok||!r._options.throwHttpErrors){e.next=29;break}throw new ll(t,r.request,r._options);case 29:if(!r._options.onDownloadProgress){e.next=35;break}if("function"===typeof r._options.onDownloadProgress){e.next=32;break}throw new TypeError("The `onDownloadProgress` option must be a function");case 32:if(yl){e.next=34;break}throw new Error("Streams are not supported in your environment. `ReadableStream` is missing.");case 34:return e.abrupt("return",r._stream(t.clone(),r._options.onDownloadProgress));case 35:return e.abrupt("return",t);case 36:case"end":return e.stop()}}),e,null,[[8,20,23,26]])})));return function(){return e.apply(this,arguments)}}(),o=r._options.retry.methods.includes(r.request.method.toLowerCase())?r._retry(i):i(),a=function(){var e=l(u[s],2),t=e[0],i=e[1];o[t]=h(f().mark((function e(){var a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.request.headers.set("accept",r.request.headers.get("accept")||i),e.next=3,o;case 3:if(a=e.sent.clone(),"json"!==t){e.next=13;break}if(204!==a.status){e.next=7;break}return e.abrupt("return","");case 7:if(!n.parseJson){e.next=13;break}return e.t0=n,e.next=11,a.text();case 11:return e.t1=e.sent,e.abrupt("return",e.t0.parseJson.call(e.t0,e.t1));case 13:return e.abrupt("return",a[t]());case 14:case"end":return e.stop()}}),e)})))},s=0,u=Object.entries(El);s<u.length;s++)a();return o}}]),e}(),Rl=function e(t){var n,r=function(e,n){return Il.create(e,pl(t,n))},i=qu(wl);try{var o=function(){var e=n.value;r[e]=function(n,r){return Il.create(n,pl(t,r,{method:e}))}};for(i.s();!(n=i.n()).done;)o()}catch(a){i.e(a)}finally{i.f()}return r.create=function(t){return e(pl(t))},r.extend=function(n){return e(pl(t,n))},r.stop=xl,r}(),Ll=Rl,Dl=Ll.create({prefixUrl:Et,hooks:{beforeRequest:[function(){var e=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,Ku.currentSession();case 4:n=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:try{t.headers.set("Authorization",n?n.getIdToken().getJwtToken():"")}catch(bc){console.log({e:bc})}return e.abrupt("return",t);case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()],afterResponse:[function(){var e=h(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(401!==r.status){e.next=3;break}return Ku.currentSession(),e.abrupt("return",Ll(t));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}()]}}),Pl=Ll.create({prefixUrl:wt,hooks:{beforeRequest:[function(){var e=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Vu()).idToken&&t.headers.set("Authorization-Anonymous",n.idToken),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()]}}),Nl=function(){var e=h(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=null,e.prev=1,e.next=4,Ku.currentSession();case 4:r=e.sent,e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:if(!r){e.next=13;break}return e.abrupt("return",Dl(t,n));case 13:return e.abrupt("return",Pl(t,n));case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t,n){return e.apply(this,arguments)}}();function Ml(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function jl(){switch(ht){case at.PROD:return"https://fikfap.com";case at.DEV:return"https://dev.fikfap.com";default:return window.location.host}}function Fl(e){return"#"+e.replace(/_/g,"")}function Ul(e,t){Nl("posts/report-bad-health",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({postId:e})}),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&ut.event({category:"Error",action:"Video load",label:t.toString(),nonInteraction:!0})}function Bl(){if(document.referrer.startsWith("android-app://"))return!0;var e=window.matchMedia("(display-mode: standalone)").matches;return!(!navigator.standalone&&!e)}function Hl(){var e=V().search;return r.useMemo((function(){return new URLSearchParams(e)}),[e])}function Gl(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(0,r.useEffect)((function(){document.title="function"===typeof e?e():e}),[].concat(n))}function Vl(e){return isNaN(e)||0===e?"-":Math.abs(e)>999?(Math.sign(e)*Math.abs(e)/1e3).toFixed(1).toString()+"K":(Math.sign(e)*Math.abs(e)).toString()}function zl(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function Wl(e){return e.replace(/https?\:(\\\\|\/\/)(www.)?/,"")}function Kl(e,t,n){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document?(n===dl.GIF_VIDEO_SD&&(t.includes("-mobile.mp4")||(t=t.replace(".mp4","-mobile.mp4"))),n===dl.GIF_VIDEO_HD&&t.includes("-mobile.mp4")&&(t=t.replace("-mobile.mp4",".mp4")),t):t.includes("redgifs.com")?"https://workers.fikfap.com?id=".concat(e,"&redirectTo=").concat(n):t}!function(e){e.GIF_VIDEO_HD="GIF_VIDEO_HD",e.GIF_VIDEO_SD="GIF_VIDEO_SD",e.GIF_THUMBNAIL_HD="GIF_THUMBNAIL_HD",e.GIF_THUMBNAIL_SD="GIF_THUMBNAIL_SD",e.GIF_THUMBNAIL_V="GIF_THUMBNAIL_V"}(dl||(dl={}));var ql,Yl=function(e,t){(function(){if(!gt)return!0;var e=window.sessionStorage.getItem(Dt);return e?"true"===e:Math.random()<=.01?(window.sessionStorage.setItem(Dt,"true"),!0):(window.sessionStorage.setItem(Dt,"false"),!1)})()&&ut.event(e,t)},$l=function(e,t){ut.event(e,t)},Xl=function(){var e=V(),t=l((0,r.useState)(!1),2),n=t[0],i=t[1];(0,r.useEffect)((function(){function e(){return(e=h(f().mark((function e(){var t,n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ht!==at.PROD&&ht!==at.DEV){e.next=7;break}return e.next=3,Wu();case 3:t=e.sent,ut.initialize("UA-193747694-1",{titleCase:!0,gaOptions:{userId:t},redactEmail:!1}),e.next=8;break;case 7:ut.initialize("UA-00000000-0",{debug:!0,testMode:!0,titleCase:!0,redactEmail:!1});case 8:return ut.set({dimension1:bt,dimension2:yt}),e.next=11,zu();case 11:n=e.sent,ut.set({dimension3:n?"true":"false"}),ut.set({dimension4:Bl()?"true":"false"}),Yl({category:"System",action:"Initialized",label:"Version ".concat(bt," Hash ").concat(yt),nonInteraction:!0}),i(!0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),(0,r.useEffect)((function(){n&&ht===at.PROD&&ut.pageview(e.pathname+e.search)}),[n,e]),(0,r.useEffect)((function(){window.gtag&&ht===at.PROD&&window.gtag("send","page_view",{page_location:e.href,page_path:e.pathname+e.search})}),[n,e]),window.onerror=function(e,t,n,r,i){if(Nt.some((function(t){return e.toString().toLowerCase().includes(t.toLowerCase())})))return true;var o="Version: ".concat(bt," Hash: ").concat(yt," Error: ").concat(e," URL: ").concat(t," Stack: ").concat(null===i||void 0===i?void 0:i.stack);return $l({category:"Exception",action:e.toString(),label:o,nonInteraction:!0}),true},window.onunhandledrejection=function(e){throw new Error(e.reason.message)}},Ql=n(184),Jl=r.createContext(null);function Zl(){var e=r.useContext(Jl);if(null===e)throw Error("Context not defined");return e}function ec(e){var t=e.children,n=l((0,r.useState)(),2),i=n[0],o=n[1],a=l((0,r.useState)(),2),s=a[0],u=a[1];function c(){return(c=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.currentAuthenticatedUser();case 3:t=e.sent,u(t),o(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),o(!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function d(){return(d=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xt.listen("auth",(function(e){switch(e.payload.event){case"signIn":o(!0);break;case"signUp":case"signIn_failure":case"tokenRefresh":break;case"signOut":case"tokenRefresh_failure":o(!1)}}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){return(p=h(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.signUp({username:t,password:n,attributes:{email:t}});case 3:return $l({category:"Authentication",action:"signUp"}),e.abrupt("return",{state:ql.SUCCESS});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"signUp"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function v(){return(v=h(f().mark((function e(t,n){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.confirmSignUp(t,n,{clientMetadata:{anonymousUserId:Vu().idToken}});case 3:return $l({category:"Authentication",action:"signUpConfirmed"}),e.abrupt("return",{state:ql.SUCCESS});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"signUpConfirmed"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function g(){return(g=h(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.signIn(t,n);case 3:return $l({category:"Authentication",action:"logIn"}),e.next=6,Wu();case 6:return r=e.sent,ut.set({userId:r}),e.next=10,zu();case 10:return i=e.sent,ut.set({dimension3:i?"true":"false"}),e.abrupt("return",{state:ql.SUCCESS});case 15:return e.prev=15,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"logIn"));case 18:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function m(){return m=h(f().mark((function e(){var t,n=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]&&n[0],e.prev=1,e.next=4,Pu.signOut({global:t});case 4:return $l({category:"Authentication",action:"logOut"}),e.abrupt("return",{state:ql.SUCCESS});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",tc(e.t0,"logOut"));case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),m.apply(this,arguments)}function y(){return(y=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.forgotPassword(t);case 3:return $l({category:"Authentication",action:"passwordReset"}),e.abrupt("return",{state:ql.SUCCESS});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"passwordReset"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function b(){return(b=h(f().mark((function e(t,n,r){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.forgotPasswordSubmit(t,n,r);case 3:return $l({category:"Authentication",action:"passwordResetComplete"}),e.abrupt("return",{state:ql.SUCCESS});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"passwordResetComplete"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function w(){return(w=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pu.resendSignUp(t);case 3:return $l({category:"Authentication",action:"resendConfirmationEmail"}),e.abrupt("return",{state:ql.SUCCESS});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",tc(e.t0,"resendConfirmationEmail"));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){!function(){c.apply(this,arguments)}(),function(){d.apply(this,arguments)}()}),[]),(0,Ql.jsx)(Jl.Provider,{value:{authed:i,user:s,authController:{signUp:function(e,t){return p.apply(this,arguments)},confirmSignUp:function(e,t){return v.apply(this,arguments)},logIn:function(e,t){return g.apply(this,arguments)},logOut:function(){return m.apply(this,arguments)},resetPassword:function(e){return y.apply(this,arguments)},resetPasswordSubmit:function(e,t,n){return b.apply(this,arguments)},resendConfirmationEmail:function(e){return w.apply(this,arguments)}}},children:t})}function tc(e,t){return e instanceof Error?($l({category:"Authentication",action:"AuthError-"+t,label:e.message}),e.message.includes("Exceeded daily email limit for the operation or the account")?{state:ql.ERROR,message:"We have reached our daily sign up limit. Please try again tomorrow."}:{state:ql.ERROR,message:e.message}):($l({category:"Authentication",action:"AuthError-"+t,label:"Unknown error"}),{state:ql.ERROR,message:"Unknown error"})}!function(e){e.SUCCESS="SUCCESS",e.ERROR="ERROR"}(ql||(ql={}));var nc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z"}))}));var rc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"}))}));var ic=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v14l-5-2.5L5 18V4z"}))}));var oc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"}))}));var ac=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"}))}));var sc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"}))}));var uc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 5a2 2 0 012-2h10a2 2 0 012 2v16l-7-3.5L5 21V5z"}))}));var lc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"}))}));var cc,fc=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"}))}));function dc(e){var t=e.onTap,n=e.className,i=e.children,o=(0,r.useRef)(null),a=(0,r.useRef)(0),s=(0,r.useRef)(0),u=(0,r.useRef)(0),l=(0,r.useRef)(0);return(0,Ql.jsx)("div",{className:n,onTouchStart:function(e){o.current=performance.now(),a.current=u.current=e.touches[0].clientX,s.current=l.current=e.touches[0].clientY},onTouchMove:function(e){u.current=e.touches[0].clientX,l.current=e.touches[0].clientY},onTouchEnd:function(e){e.preventDefault();var n=Math.abs(a.current-u.current),r=Math.abs(s.current-l.current);o.current&&performance.now()-o.current<=250&&n<10&&r<10&&t&&t(e)},onMouseDown:function(e){o.current=performance.now(),a.current=u.current=e.clientX,s.current=l.current=e.clientY},onMouseMove:function(e){u.current=e.clientX,l.current=e.clientY},onClick:function(e){e.preventDefault();var n=Math.abs(a.current-u.current),r=Math.abs(s.current-l.current);o.current&&performance.now()-o.current<=250&&n<10&&r<10&&t&&t(e)},children:i})}function hc(e){var t=e.to,n=e.onTap,i=e.className,o=e.children,a=W(),s=(0,r.useCallback)((function(){return t&&a(t)}),[a,t]);return(0,Ql.jsx)(dc,{className:i,onTap:function(e){s(),n&&n(e)},children:o})}function pc(e){var t=e.to,n=e.onTap,r=e.className,i=e.children,o=e.target,a=e.eventLabel;return(0,Ql.jsx)(dc,{className:r,onTap:function(e){$l({category:"Outbound",action:"Click",label:a}),t&&window.open(t,o),n&&n(e)},children:i})}function vc(e){var t=e.pwaAvailable,n=e.pwaInstall,r=e.maxWidth,i=V(),o=Zl().authed,a=function(e){switch(e){case uT.NEW:case uT.FOLLOWING_FEED:case uT.HASHTAG_POST:case uT.HASHTAG:case uT.USER_OVERVIEW:case uT.USER_POST:case uT.USER:case uT.POST:case uT.HOT_INDEX:return cc.HOME;case uT.FOLLOWING_GRID:case uT.COLLECTIONS_EDIT:case uT.COLLECTIONS_ADD:case uT.COLLECTIONS_CREATE:case uT.COLLECTION_FEED:case uT.COLLECTION_GRID:case uT.COLLECTIONS:case uT.LIKES_FEED:case uT.LIKES_GRID:case uT.HISTORY_FEED:case uT.HISTORY_GRID:return cc.COLLECTION;case uT.DISCOVER:return cc.DISCOVER;case uT.LOG_IN:case uT.SIGN_UP:case uT.CONFIRM:case uT.USER_SELF:case uT.RESET_PASSWORD:case uT.RESEND_CONFIRMATION:return cc.PROFILE;default:return null}}(i.pathname);return(0,Ql.jsxs)("nav",{className:"h-full w-full mx-auto flex-row flex justify-around items-center",style:{maxWidth:r},children:[(0,Ql.jsx)(gc,{icon:a===cc.HOME?(0,Ql.jsx)(nc,{}):(0,Ql.jsx)(ac,{}),name:mt?"Version ".concat(bt):"Feed",active:a===cc.HOME,to:uT.HOT_INDEX}),(0,Ql.jsx)(gc,{icon:a===cc.DISCOVER?(0,Ql.jsx)(rc,{}):(0,Ql.jsx)(sc,{}),name:"Discover",active:a===cc.DISCOVER,to:uT.DISCOVER}),t&&!Bl()&&Ml()&&(0,Ql.jsx)(mc,{pwaInstall:n}),(0,Ql.jsx)(gc,{icon:a===cc.COLLECTION?(0,Ql.jsx)(ic,{}):(0,Ql.jsx)(uc,{}),name:"Collection",active:a===cc.COLLECTION,to:uT.COLLECTIONS}),(0,Ql.jsx)(gc,{icon:a===cc.PROFILE?(0,Ql.jsx)(oc,{}):(0,Ql.jsx)(lc,{}),name:o?"Profile":"Sign up",active:a===cc.PROFILE,to:uT.USER_SELF})]})}function gc(e){var t=e.icon,n=e.name,r=e.active,i=e.to;return(0,Ql.jsx)(hc,{to:i,className:"no-link-highlight select-none basis-0 flex-grow cursor-pointer",onTap:function(){Yl({category:"Feed",action:"Visited Taskbar Tab",label:n})},children:(0,Ql.jsx)("div",{className:"select-none flex flex-col items-center justify-center flex-1 transition duration-100 ease-out transform ".concat(!r&&"text-coolGray-700"),children:(0,Ql.jsx)("div",{className:"h-[28px] w-[28px]",children:t})})})}function mc(e){var t=e.pwaInstall;return(0,Ql.jsx)(dc,{className:"no-link-highlight select-none basis-0 flex-grow h-11 cursor-pointer",onTap:function(){t(),$l({category:"Feed",action:"Visited Taskbar Tab",label:"App Install"})},children:(0,Ql.jsx)("div",{className:"flex mx-auto h-full rounded-lg self-center select-none cursor-pointer flex-col flex-grow-0 items-center justify-center transition duration-100 ease-out transform bg-dark-weak",style:{maxWidth:"56px"},children:(0,Ql.jsx)("div",{className:"h-[28px] w-[28px]",children:(0,Ql.jsx)(fc,{})})})})}function yc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}!function(e){e.HOME="HOME",e.DISCOVER="DISCOVER",e.COLLECTION="COLLECTION",e.PROFILE="PROFILE"}(cc||(cc={}));var bc={data:""},wc=function(e){return"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||bc},Ec=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Sc=/\/\*[^]*?\*\/|  +/g,xc=/\n+/g,Tc=function e(t,n){var r="",i="",o="",a=function(a){var u=t[a];"@"==a[0]?"i"==a[1]?r=a+" "+u+";":i+="f"==a[1]?e(u,a):a+"{"+e(u,"k"==a[1]?"":n)+"}":"object"==typeof u?i+=e(u,n?n.replace(/([^,])+/g,(function(e){return a.replace(/(^:.*)|([^,])+/g,(function(t){return/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t}))})):a):null!=u&&(a=/^--/.test(a)?a:a.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=e.p?e.p(a,u):a+":"+u+";"),s=a};for(var s in t)a(s);return r+(n&&o?n+"{"+o+"}":o)+i},_c={},kc=function e(t){if("object"==typeof t){var n="";for(var r in t)n+=r+e(t[r]);return n}return t},Ac=function(e,t,n,r,i){var o=kc(e),a=_c[o]||(_c[o]=function(e){for(var t=0,n=11;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n}(o));if(!_c[a]){var s=o!==e?e:function(e){for(var t,n,r=[{}];t=Ec.exec(e.replace(Sc,""));)t[4]?r.shift():t[3]?(n=t[3].replace(xc," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(xc," ").trim();return r[0]}(e);_c[a]=Tc(i?Yu({},"@keyframes "+a,s):s,n?"":"."+a)}return function(e,t,n){-1==t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)}(_c[a],t,r),a},Cc=function(e,t,n){return e.reduce((function(e,r,i){var o=t[i];if(o&&o.call){var a=o(n),s=a&&a.props&&a.props.className||/^go/.test(a)&&a;o=s?"."+s:a&&"object"==typeof a?a.props?"":Tc(a,""):!1===a?"":a}return e+r+(null==o?"":o)}),"")};function Oc(e){var t=this||{},n=e.call?e(t.p):e;return Ac(n.unshift?n.raw?Cc(n,[].slice.call(arguments,1),t.p):n.reduce((function(e,n){return Object.assign(e,n&&n.call?n(t.p):n)}),{}):n,wc(t.target),t.g,t.o,t.k)}Oc.bind({g:1});var Ic,Rc,Lc,Dc,Pc,Nc,Mc,jc,Fc,Uc,Bc,Hc,Gc,Vc,zc,Wc,Kc,qc,Yc,$c=Oc.bind({k:1});function Xc(e,t){var n=this||{};return function(){var r=arguments;function i(o,a){var s=Object.assign({},o),u=s.className||i.className;n.p=Object.assign({theme:Rc&&Rc()},s),n.o=/ *go\d+/.test(u),s.className=Oc.apply(n,r)+(u?" "+u:""),t&&(s.ref=a);var l=e;return e[0]&&(l=s.as||e,delete s.as),Lc&&l[0]&&Lc(s),Ic(l,s)}return t?t(i):i}}var Qc=function(e,t){return function(e){return"function"==typeof e}(e)?e(t):e},Jc=function(){var e=0;return function(){return(++e).toString()}}(),Zc=function(){var e;return function(){if(void 0===e&&typeof window<"u"){var t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}}(),ef=new Map,tf=function(e){if(!ef.has(e)){var t=setTimeout((function(){ef.delete(e),af({type:4,toastId:e})}),1e3);ef.set(e,t)}},nf=function e(t,n){switch(n.type){case 0:return Xu(Xu({},t),{},{toasts:[n.toast].concat(fl(t.toasts)).slice(0,20)});case 1:return n.toast.id&&function(e){var t=ef.get(e);t&&clearTimeout(t)}(n.toast.id),Xu(Xu({},t),{},{toasts:t.toasts.map((function(e){return e.id===n.toast.id?Xu(Xu({},e),n.toast):e}))});case 2:var r=n.toast;return t.toasts.find((function(e){return e.id===r.id}))?e(t,{type:1,toast:r}):e(t,{type:0,toast:r});case 3:var i=n.toastId;return i?tf(i):t.toasts.forEach((function(e){tf(e.id)})),Xu(Xu({},t),{},{toasts:t.toasts.map((function(e){return e.id===i||void 0===i?Xu(Xu({},e),{},{visible:!1}):e}))});case 4:return void 0===n.toastId?Xu(Xu({},t),{},{toasts:[]}):Xu(Xu({},t),{},{toasts:t.toasts.filter((function(e){return e.id!==n.toastId}))});case 5:return Xu(Xu({},t),{},{pausedAt:n.time});case 6:var o=n.time-(t.pausedAt||0);return Xu(Xu({},t),{},{pausedAt:void 0,toasts:t.toasts.map((function(e){return Xu(Xu({},e),{},{pauseDuration:e.pauseDuration+o})}))})}},rf=[],of={toasts:[],pausedAt:void 0},af=function(e){of=nf(of,e),rf.forEach((function(e){e(of)}))},sf={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},uf=function(e){return function(t,n){var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Xu(Xu({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Jc()})}(t,e,n);return af({type:2,toast:r}),r.id}},lf=function(e,t){return uf("blank")(e,t)};lf.error=uf("error"),lf.success=uf("success"),lf.loading=uf("loading"),lf.custom=uf("custom"),lf.dismiss=function(e){af({type:3,toastId:e})},lf.remove=function(e){return af({type:4,toastId:e})},lf.promise=function(e,t,n){var r=lf.loading(t.loading,Xu(Xu({},n),null==n?void 0:n.loading));return e.then((function(e){return lf.success(Qc(t.success,e),Xu(Xu({id:r},n),null==n?void 0:n.success)),e})).catch((function(e){lf.error(Qc(t.error,e),Xu(Xu({id:r},n),null==n?void 0:n.error))})),e};var cf=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=l((0,r.useState)(of),2),n=t[0],i=t[1];(0,r.useEffect)((function(){return rf.push(i),function(){var e=rf.indexOf(i);e>-1&&rf.splice(e,1)}}),[n]);var o=n.toasts.map((function(t){var n,r;return Xu(Xu(Xu(Xu({},e),e[t.type]),t),{},{duration:t.duration||(null==(n=e[t.type])?void 0:n.duration)||(null==e?void 0:e.duration)||sf[t.type],style:Xu(Xu(Xu({},e.style),null==(r=e[t.type])?void 0:r.style),t.style)})}));return Xu(Xu({},n),{},{toasts:o})}(e),n=t.toasts,i=t.pausedAt;(0,r.useEffect)((function(){if(!i){var e=Date.now(),t=n.map((function(t){if(t.duration!==1/0){var n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout((function(){return lf.dismiss(t.id)}),n);t.visible&&lf.dismiss(t.id)}}));return function(){t.forEach((function(e){return e&&clearTimeout(e)}))}}}),[n,i]);var o=(0,r.useMemo)((function(){return{startPause:function(){af({type:5,time:Date.now()})},endPause:function(){i&&af({type:6,time:Date.now()})},updateHeight:function(e,t){return af({type:1,toast:{id:e,height:t}})},calculateOffset:function(e,t){var r,i=t||{},o=i.reverseOrder,a=void 0!==o&&o,s=i.gutter,u=void 0===s?8:s,l=i.defaultPosition,c=n.filter((function(t){return(t.position||l)===(e.position||l)&&t.height})),f=c.findIndex((function(t){return t.id===e.id})),d=c.filter((function(e,t){return t<f&&e.visible})).length;return(r=c.filter((function(e){return e.visible}))).slice.apply(r,fl(a?[d+1]:[0,d])).reduce((function(e,t){return e+(t.height||0)+u}),0)}}}),[n,i]);return{toasts:n,handlers:o}},ff=$c(Dc||(Dc=yc(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),df=$c(Pc||(Pc=yc(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),hf=$c(Nc||(Nc=yc(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),pf=Xc("div")(Mc||(Mc=yc(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),(function(e){return e.primary||"#ff4b4b"}),ff,df,(function(e){return e.secondary||"#fff"}),hf),vf=$c(jc||(jc=yc(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),gf=Xc("div")(Fc||(Fc=yc(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),(function(e){return e.secondary||"#e0e0e0"}),(function(e){return e.primary||"#616161"}),vf),mf=$c(Uc||(Uc=yc(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),yf=$c(Bc||(Bc=yc(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),bf=Xc("div")(Hc||(Hc=yc(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),(function(e){return e.primary||"#61d345"}),mf,yf,(function(e){return e.secondary||"#fff"})),wf=Xc("div")(Gc||(Gc=yc(["\n  position: absolute;\n"]))),Ef=Xc("div")(Vc||(Vc=yc(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),Sf=$c(zc||(zc=yc(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),xf=Xc("div")(Wc||(Wc=yc(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),Sf),Tf=function(e){var t=e.toast,n=t.icon,i=t.type,o=t.iconTheme;return void 0!==n?"string"==typeof n?r.createElement(xf,null,n):n:"blank"===i?null:r.createElement(Ef,null,r.createElement(gf,Xu({},o)),"loading"!==i&&r.createElement(wf,null,"error"===i?r.createElement(pf,Xu({},o)):r.createElement(bf,Xu({},o))))},_f=function(e){return"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n")},kf=function(e){return"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n")},Af=Xc("div",r.forwardRef)(Kc||(Kc=yc(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),Cf=Xc("div")(qc||(qc=yc(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),Of=r.memo((function(e){var t=e.toast,n=e.position,i=e.style,o=e.children,a=null!=t&&t.height?function(e,t){var n=e.includes("top")?1:-1,r=l(Zc()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[_f(n),kf(n)],2),i=r[0],o=r[1];return{animation:t?"".concat($c(i)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat($c(o)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}}(t.position||n||"top-center",t.visible):{opacity:0},s=r.createElement(Tf,{toast:t}),u=r.createElement(Cf,Xu({},t.ariaProps),Qc(t.message,t));return r.createElement(Af,{className:t.className,style:Xu(Xu(Xu({},a),i),t.style)},"function"==typeof o?o({icon:s,message:u}):r.createElement(r.Fragment,null,s,u))}));!function(e,t,n,r){Tc.p=t,Ic=e,Rc=n,Lc=r}(r.createElement);var If=Oc(Yc||(Yc=yc(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),Rf=function(e){var t=e.reverseOrder,n=e.position,i=void 0===n?"top-center":n,o=e.toastOptions,a=e.gutter,s=e.children,u=e.containerStyle,l=e.containerClassName,c=cf(o),f=c.toasts,d=c.handlers;return r.createElement("div",{style:Xu({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},u),className:l,onMouseEnter:d.startPause,onMouseLeave:d.endPause},f.map((function(e){var n=e.position||i,o=function(e,t){var n=e.includes("top"),r=n?{top:0}:{bottom:0},i=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Xu(Xu({left:0,right:0,display:"flex",position:"absolute",transition:Zc()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),i)}(n,d.calculateOffset(e,{reverseOrder:t,gutter:a,defaultPosition:i})),u=e.height?void 0:function(e){return function(t){t&&setTimeout((function(){var n=t.getBoundingClientRect();e(n)}))}}((function(t){d.updateHeight(e.id,t.height)}));return r.createElement("div",{ref:u,className:e.visible?If:"",key:e.id,style:o},"custom"===e.type?Qc(e.message,e):s?s(e):r.createElement(Of,{toast:e,position:n}))})))};function Lf(e){lf((function(t){return(0,Ql.jsx)("span",{className:"text-sm font-normal",onClick:function(){return lf.dismiss(t.id)},children:e})}),{style:{borderRadius:"0.375rem",fontSize:"1rem",lineHeight:"1.5rem",padding:"0.25rem 0.75rem"}})}var Df=(0,r.createContext)(void 0);function Pf(e){var t=e.children,n=l((0,r.useState)(!0),2),i=n[0],o=n[1],a=l((0,r.useState)(!0),2),s=a[0],u=a[1],c=l((0,r.useState)(!Ml()),2),f=c[0],d=c[1],h=l((0,r.useState)(!1),2),p=h[0],v=h[1],g=l((0,r.useState)(!1),2),m=g[0],y=g[1],b=l((0,r.useState)(!1),2),w=b[0],E=b[1],S="onboarding";(0,r.useEffect)((function(){if(localStorage)switch(localStorage.getItem(S)){case null:localStorage.setItem(S,"false");break;case"true":E(!0);break;case"false":E(!1);break;default:throw new Error("Invalid value for local storage: onboarding")}}),[]);var x={isMute:i,isRepeat:s,isHQ:f,isFullscreen:p,isSettingsOpen:m,onboardingDone:w,toggleMute:function(){var e=!i;o(e),Yl({category:"Feed",action:"Toggled Mute",label:e?"Mute":"No Mute"})},toggleRepeat:function(){var e=!s;u(e),Yl({category:"Feed",action:"Toggled Repeat",label:e?"Repeat":"No Repeat"}),Lf(e?"Repeating active video.":"Automatically going through videos.")},toggleHQ:function(){var e=!f;d(e),Yl({category:"Feed",action:"Toggled HQ",label:e?"HQ-Mode":"LQ-Mode"}),Lf(e?"High quality activated.":"Low quality activated.")},toggleFullscreen:function(){var e=!p;!function(e){if(Bl()||Ml()&&navigator.userAgent.match(/Version\/[\d\.]+.*Safari/))return;e?document.fullscreenElement||document.documentElement.requestFullscreen():document.fullscreenElement&&document.exitFullscreen&&document.exitFullscreen()}(e),v(e),Yl({category:"Feed",action:"Toggled Fullscreen",label:e?"Fullscreen":"Normal"})},setSettingsOpen:function(e){y(e),Yl({category:"Feed",action:"Toggled SettingsSlideUp",label:e?"Open":"Close"})},setOnboardingDone:function(){localStorage&&localStorage.setItem(S,"true"),E(!0)}};return(0,Ql.jsx)(Df.Provider,{value:x,children:t})}var Nf=function(){var e=r.useContext(Df);if(e)return e;throw new Error("SettingsContext is not defined. Probably useSettings is used outside of its provider.")};var Mf="--vh",jf=function(){return"undefined"!==typeof window?Number((.01*window.innerHeight).toFixed(2)):0},Ff=0,Uf=function(){var e=l((0,r.useState)(jf()),2),t=e[0],n=e[1],i=(0,r.useCallback)((function(){var e=jf();document.documentElement.style.setProperty(Mf,"".concat(e,"px")),n(e)}),[n]);return(0,r.useLayoutEffect)((function(){return Ff+=1,i(),window.addEventListener("resize",i),function(){window.removeEventListener("resize",i),0===(Ff-=1)&&document.documentElement.style.removeProperty(Mf)}}),[i]),t},Bf=function(){if("undefined"!==typeof Map)return Map;function e(e,t){var n=-1;return e.some((function(e,r){return e[0]===t&&(n=r,!0)})),n}return function(){function t(){this.__entries__=[]}return Object.defineProperty(t.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var n=e(this.__entries__,t),r=this.__entries__[n];return r&&r[1]},t.prototype.set=function(t,n){var r=e(this.__entries__,t);~r?this.__entries__[r][1]=n:this.__entries__.push([t,n])},t.prototype.delete=function(t){var n=this.__entries__,r=e(n,t);~r&&n.splice(r,1)},t.prototype.has=function(t){return!!~e(this.__entries__,t)},t.prototype.clear=function(){this.__entries__.splice(0)},t.prototype.forEach=function(e,t){void 0===t&&(t=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];e.call(t,i[1],i[0])}},t}()}(),Hf="undefined"!==typeof window&&"undefined"!==typeof document&&window.document===document,Gf="undefined"!==typeof n.g&&n.g.Math===Math?n.g:"undefined"!==typeof self&&self.Math===Math?self:"undefined"!==typeof window&&window.Math===Math?window:Function("return this")(),Vf="function"===typeof requestAnimationFrame?requestAnimationFrame.bind(Gf):function(e){return setTimeout((function(){return e(Date.now())}),1e3/60)};var zf=["top","right","bottom","left","width","height","size","weight"],Wf="undefined"!==typeof MutationObserver,Kf=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(e,t){var n=!1,r=!1,i=0;function o(){n&&(n=!1,e()),r&&s()}function a(){Vf(o)}function s(){var e=Date.now();if(n){if(e-i<2)return;r=!0}else n=!0,r=!1,setTimeout(a,t);i=e}return s}(this.refresh.bind(this),20)}return e.prototype.addObserver=function(e){~this.observers_.indexOf(e)||this.observers_.push(e),this.connected_||this.connect_()},e.prototype.removeObserver=function(e){var t=this.observers_,n=t.indexOf(e);~n&&t.splice(n,1),!t.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},e.prototype.updateObservers_=function(){var e=this.observers_.filter((function(e){return e.gatherActive(),e.hasActive()}));return e.forEach((function(e){return e.broadcastActive()})),e.length>0},e.prototype.connect_=function(){Hf&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),Wf?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){Hf&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(e){var t=e.propertyName,n=void 0===t?"":t;zf.some((function(e){return!!~n.indexOf(e)}))&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),qf=function(e,t){for(var n=0,r=Object.keys(t);n<r.length;n++){var i=r[n];Object.defineProperty(e,i,{value:t[i],enumerable:!1,writable:!1,configurable:!0})}return e},Yf=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView||Gf},$f=td(0,0,0,0);function Xf(e){return parseFloat(e)||0}function Qf(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return t.reduce((function(t,n){return t+Xf(e["border-"+n+"-width"])}),0)}function Jf(e){var t=e.clientWidth,n=e.clientHeight;if(!t&&!n)return $f;var r=Yf(e).getComputedStyle(e),i=function(e){for(var t={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=e["padding-"+i];t[i]=Xf(o)}return t}(r),o=i.left+i.right,a=i.top+i.bottom,s=Xf(r.width),u=Xf(r.height);if("border-box"===r.boxSizing&&(Math.round(s+o)!==t&&(s-=Qf(r,"left","right")+o),Math.round(u+a)!==n&&(u-=Qf(r,"top","bottom")+a)),!function(e){return e===Yf(e).document.documentElement}(e)){var l=Math.round(s+o)-t,c=Math.round(u+a)-n;1!==Math.abs(l)&&(s-=l),1!==Math.abs(c)&&(u-=c)}return td(i.left,i.top,s,u)}var Zf="undefined"!==typeof SVGGraphicsElement?function(e){return e instanceof Yf(e).SVGGraphicsElement}:function(e){return e instanceof Yf(e).SVGElement&&"function"===typeof e.getBBox};function ed(e){return Hf?Zf(e)?function(e){var t=e.getBBox();return td(0,0,t.width,t.height)}(e):Jf(e):$f}function td(e,t,n,r){return{x:e,y:t,width:n,height:r}}var nd=function(){function e(e){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=td(0,0,0,0),this.target=e}return e.prototype.isActive=function(){var e=ed(this.target);return this.contentRect_=e,e.width!==this.broadcastWidth||e.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var e=this.contentRect_;return this.broadcastWidth=e.width,this.broadcastHeight=e.height,e},e}(),rd=function(e,t){var n=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,o="undefined"!==typeof DOMRectReadOnly?DOMRectReadOnly:Object,a=Object.create(o.prototype);return qf(a,{x:t,y:n,width:r,height:i,top:n,right:t+r,bottom:i+n,left:t}),a}(t);qf(this,{target:e,contentRect:n})},id=function(){function e(e,t,n){if(this.activeObservations_=[],this.observations_=new Bf,"function"!==typeof e)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=e,this.controller_=t,this.callbackCtx_=n}return e.prototype.observe=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Yf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)||(t.set(e,new nd(e)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(e){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!==typeof Element&&Element instanceof Object){if(!(e instanceof Yf(e).Element))throw new TypeError('parameter 1 is not of type "Element".');var t=this.observations_;t.has(e)&&(t.delete(e),t.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var e=this;this.clearActive(),this.observations_.forEach((function(t){t.isActive()&&e.activeObservations_.push(t)}))},e.prototype.broadcastActive=function(){if(this.hasActive()){var e=this.callbackCtx_,t=this.activeObservations_.map((function(e){return new rd(e.target,e.broadcastRect())}));this.callback_.call(e,t,e),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),od="undefined"!==typeof WeakMap?new WeakMap:new Bf,ad=function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Kf.getInstance(),r=new id(t,n,this);od.set(this,r)};["observe","unobserve","disconnect"].forEach((function(e){ad.prototype[e]=function(){var t;return(t=od.get(this))[e].apply(t,arguments)}}));var sd="undefined"!==typeof Gf.ResizeObserver?Gf.ResizeObserver:ad;var ud=function(e){var t=(0,r.useRef)(e);return t.current=e,t},ld=function(e){var t=ud(e);(0,r.useEffect)((function(){return function(){t.current()}}),[])},cd=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var fd=function(e){var t=(0,r.useRef)(0),n=cd((0,r.useState)(e),2),i=n[0],o=n[1],a=(0,r.useCallback)((function(e){cancelAnimationFrame(t.current),t.current=requestAnimationFrame((function(){o(e)}))}),[]);return ld((function(){cancelAnimationFrame(t.current)})),[i,a]},dd=function(e){return"function"===typeof e},hd=function(e){return"number"===typeof e},pd=!("undefined"===typeof window||!window.document||!window.document.createElement);function vd(e,t){if(pd)return e?dd(e)?e():"current"in e?e.current:e:t}function gd(e,t){if(e===t)return!0;for(var n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0}var md=function(e){return function(t,n,i){var o=(0,r.useRef)(!1),a=(0,r.useRef)([]),s=(0,r.useRef)([]),u=(0,r.useRef)();e((function(){var e,r=(Array.isArray(i)?i:[i]).map((function(e){return vd(e)}));if(!o.current)return o.current=!0,a.current=r,s.current=n,void(u.current=t());r.length===a.current.length&&gd(r,a.current)&&gd(n,s.current)||(null===(e=u.current)||void 0===e||e.call(u),a.current=r,s.current=n,u.current=t())})),ld((function(){var e;null===(e=u.current)||void 0===e||e.call(u),o.current=!1}))}},yd=md(r.useEffect),bd=md(r.useLayoutEffect),wd=pd?bd:yd,Ed=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var Sd=function(e){var t=Ed(fd(),2),n=t[0],r=t[1];return wd((function(){var t=vd(e);if(t){var n=new sd((function(e){e.forEach((function(e){var t=e.target,n=t.clientWidth,i=t.clientHeight;r({width:n,height:i})}))}));return n.observe(t),function(){n.disconnect()}}}),[],e),n},xd=n(4164),Td="8634e2507f52";function _d(e){var t=e.maxWidth;return(0,Ql.jsx)("div",{id:Td,"data-max-width":t})}function kd(e){var t=e.render,n=(0,r.useMemo)((function(){return document.createElement("div")}),[]),i=(0,r.useMemo)((function(){return document.getElementById(Td)}),[]),o=(0,r.useMemo)((function(){var e=null===i||void 0===i?void 0:i.getAttribute("data-max-width");if(e)try{return parseFloat(e)}catch(t){return}}),[i,null===i||void 0===i?void 0:i.getAttribute("data-max-width")]);return(0,r.useEffect)((function(){if(i)return i.appendChild(n),function(){i.removeChild(n)}}),[n,i]),xd.createPortal(t(o),n)}function Ad(e){var t=e.pwaAvailable,n=e.pwaInstall,i=e.children,o=Nf();Uf();var a=(0,r.useRef)(null),s=Sd(a),u=s?s.height:null,l=s&&s.width>=768?Math.min(s.height,window.innerHeight)/16*9:void 0,c="env(safe-area-inset-bottom)",f="calc(".concat(56,"px + ").concat(c,")");return(0,Ql.jsx)(Ql.Fragment,{children:(0,Ql.jsxs)("div",{className:"flex flex-col min-h-screen-fixed touch-pan-y no-link-highlight",ref:a,children:[(0,Ql.jsx)("div",{className:"flex flex-col flex-grow w-full mx-auto",style:{paddingBottom:o.isFullscreen?0:f,maxWidth:l},children:(0,Ql.jsx)("div",{className:"relative flex flex-col w-full flex-grow overflow-hidden",children:i(u?u-(o.isFullscreen?0:56):null)})}),!o.isFullscreen&&(0,Ql.jsx)("div",{className:"fixed bottom-0 left-0 right-0 bg-dark",style:{borderTop:"1px solid black",height:f,paddingBottom:c},children:(0,Ql.jsx)(vc,{maxWidth:l,pwaAvailable:t,pwaInstall:n})}),(0,Ql.jsx)(_d,{maxWidth:l})]})})}function Cd(){return Cd=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cd.apply(this,arguments)}function Od(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Id=["onClick","reloadDocument","replace","state","target","to"];function Rd(e){var n=e.basename,i=e.children,o=e.window,a=(0,r.useRef)();null==a.current&&(a.current=function(e){void 0===e&&(e={});var n=e.window,r=void 0===n?document.defaultView:n,i=r.history;function o(){var e=r.location,t=e.pathname,n=e.search,o=e.hash,a=i.state||{};return[a.idx,v({pathname:t,search:n,hash:o,state:a.usr||null,key:a.key||"default"})]}var a=null;r.addEventListener(m,(function(){if(a)d.call(a),a=null;else{var e=t.Pop,n=o(),r=n[0],i=n[1];if(d.length){if(null!=r){var s=l-r;s&&(a={action:e,location:i,retry:function(){A(-1*s)}},A(s))}}else k(e)}}));var s=t.Pop,u=o(),l=u[0],c=u[1],f=b(),d=b();function h(e){return"string"===typeof e?e:E(e)}function x(e,t){return void 0===t&&(t=null),v(p({pathname:c.pathname,hash:"",search:""},"string"===typeof e?S(e):e,{state:t,key:w()}))}function T(e,t){return[{usr:e.state,key:e.key,idx:t},h(e)]}function _(e,t,n){return!d.length||(d.call({action:e,location:t,retry:n}),!1)}function k(e){s=e;var t=o();l=t[0],c=t[1],f.call({action:s,location:c})}function A(e){i.go(e)}null==l&&(l=0,i.replaceState(p({},i.state,{idx:l}),""));var C={get action(){return s},get location(){return c},createHref:h,push:function e(n,o){var a=t.Push,s=x(n,o);if(_(a,s,(function(){e(n,o)}))){var u=T(s,l+1),c=u[0],f=u[1];try{i.pushState(c,"",f)}catch(d){r.location.assign(f)}k(a)}},replace:function e(n,r){var o=t.Replace,a=x(n,r);if(_(o,a,(function(){e(n,r)}))){var s=T(a,l),u=s[0],c=s[1];i.replaceState(u,"",c),k(o)}},go:A,back:function(){A(-1)},forward:function(){A(1)},listen:function(e){return f.push(e)},block:function(e){var t=d.push(e);return 1===d.length&&r.addEventListener(g,y),function(){t(),d.length||r.removeEventListener(g,y)}}};return C}({window:o}));var s=a.current,u=l((0,r.useState)({action:s.action,location:s.location}),2),c=u[0],f=u[1];return(0,r.useLayoutEffect)((function(){return s.listen(f)}),[s]),(0,r.createElement)(Q,{basename:n,children:i,location:c.location,navigationType:c.action,navigator:s})}var Ld=(0,r.forwardRef)((function(e,t){var n=e.onClick,i=e.reloadDocument,o=e.replace,a=void 0!==o&&o,s=e.state,u=e.target,l=e.to,c=Od(e,Id),f=H(l),d=function(e,t){var n=void 0===t?{}:t,i=n.target,o=n.replace,a=n.state,s=W(),u=V(),l=q(e);return(0,r.useCallback)((function(t){if(0===t.button&&(!i||"_self"===i)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(t)){t.preventDefault();var n=!!o||E(u)===E(l);s(e,{replace:n,state:a})}}),[u,s,l,o,a,i,e])}(l,{replace:a,state:s,target:u});return(0,r.createElement)("a",Cd({},c,{href:f,onClick:function(e){n&&n(e),e.defaultPrevented||i||d(e)},ref:t,target:u}))}));var Dd,Pd,Nd;function Md(){var e=z(uT.NEW),t=z(uT.FOLLOWING_FEED);return e?Dd.NEW:t?Dd.FOLLOWING:Dd.HOT}function jd(){var e=Md(),t=l((0,r.useState)(!1),2),n=t[0],i=t[1];return(0,Ql.jsxs)("div",{className:"absolute top-2 left-10 right-10 flex text-white justify-center",children:[(0,Ql.jsx)(Fd,{activeFeed:e,isExpanded:n,setIsExpanded:i}),e===Dd.FOLLOWING&&(0,Ql.jsx)("div",{className:"py-2 px-1"}),(0,Ql.jsx)(Ud,{to:uT.FOLLOWING_FEED,children:(0,Ql.jsx)(Bd,{label:"following",active:e===Dd.FOLLOWING,onClick:function(){return i(!1)}})})]})}function Fd(e){var t=e.activeFeed,n=e.isExpanded,r=e.setIsExpanded,i="flex flex-col bg-white rounded-md transition-all overflow-hidden duration-200 ease-in ";return n?(0,Ql.jsxs)("div",{className:i+"h-20 bg-opacity-20 w-17",children:[(0,Ql.jsx)(Bd,{label:t===Dd.HOT?"hot ".concat(n?"\u25b4":"\u25be"):"new ".concat(n?"\u25b4":"\u25be"),active:!0,onClick:function(){return r(!1)},className:"pl-3"}),(0,Ql.jsx)(Ud,{to:t===Dd.HOT?uT.NEW:uT.HOT_INDEX,children:(0,Ql.jsx)(Bd,{label:t===Dd.HOT?"new":"hot",active:!1,className:"pl-3"})})]}):t===Dd.FOLLOWING?(0,Ql.jsx)("div",{className:i+"h-10 bg-opacity-0 w-13",children:(0,Ql.jsx)(Ud,{to:uT.HOT_INDEX,children:(0,Ql.jsx)(Bd,{label:"hot",active:!1,className:"pl-3"})})}):(0,Ql.jsx)("div",{className:i+"h-10 bg-opacity-0 w-17",children:(0,Ql.jsx)(Bd,{label:t===Dd.HOT?"hot ".concat(n?"\u25b4":"\u25be"):"new ".concat(n?"\u25b4":"\u25be"),active:!0,className:"pl-3",onClick:function(){return r(!0)}})})}function Ud(e){var t=e.to,n=e.children;return(0,Ql.jsx)(hc,{to:t,onTap:function(){Yl({category:"Feed",action:"Changed Category",label:t})},children:n})}function Bd(e){var t=e.label,n=e.className,r=e.onClick,i=e.active;return(0,Ql.jsx)(dc,{onTap:r,className:"h-10 p-2 capitalize cursor-pointer ".concat(i?"font-extrabold":""," ").concat(null!==n&&void 0!==n?n:""),children:t})}function Hd(e){return e.type===Nd.POST}(function(e){e.HOT="HOT",e.NEW="NEW",e.FOLLOWING="FOLLOWING",e.USER="USER",e.HASHTAG="HASHTAG",e.COLLECTION="COLLECTION",e.LIKED="LIKED",e.HISTORY="HISTORY"})(Dd||(Dd={})),function(e){e.LATEST="LATEST",e.TOP="TOP",e.RANDOM="RANDOM"}(Pd||(Pd={})),function(e){e.POST="POST",e.CASH_COW="CASH_COW"}(Nd||(Nd={}));var Gd,Vd,zd={logo:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 133.53 244.57",height:"100%",width:"100%",children:(0,Ql.jsxs)("g",{transform:"translate(-65.599 -12.45)",strokeWidth:".23773",children:[(0,Ql.jsx)("g",{transform:"matrix(1.1753 0 0 1.0381 -29.125 0)",fill:"currentColor",children:(0,Ql.jsx)("path",{d:"m104.74 239.97h45.038v-130.01h30.49v-34.823h-31.418v-12.536q0-10.37 5.5717-14.394 5.5717-4.024 16.715-4.024 4.024 0 6.3456 0.15477 2.4763 0.15477 4.024 0.30954v-31.573q-2.3216-0.15477-6.9647-0.61908-4.4884-0.46431-12.536-0.46431-29.716 0-43.491 10.834-13.775 10.679-13.775 35.907v16.406h-24.144v34.823h24.144z"})}),(0,Ql.jsx)("g",{transform:"matrix(1.1753 0 0 1.0381 -29.125 0)",fill:"#fff",children:(0,Ql.jsx)("path",{d:"m117.45 247.59h45.038v-130.01h30.49v-34.823h-31.418v-12.536q0-10.37 5.5717-14.394t16.715-4.024q4.024 0 6.3456 0.15477 2.4763 0.15477 4.024 0.30954v-31.573q-2.3216-0.15477-6.9647-0.61908-4.4884-0.46431-12.536-0.46431-29.716 0-43.491 10.834-13.775 10.679-13.775 35.907v16.406h-24.144v34.823h24.144z",fill:"#fff",strokeWidth:".23773"})})]})}),heartEmpty:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:(0,Ql.jsx)("path",{d:"M142.18 28.465a1.996 1.996 0 0 1-.033.008c-39.318 0-75.4 15.712-101.74 44.28C14.38 100.988 0 139.606 0 181.544c0 43.143 16.005 82.553 50.718 124.44 31.057 37.474 75.88 75.697 127.87 119.99l.073.062a1.996 1.996 0 0 1 .02.016c17.73 15.109 37.833 32.244 58.69 50.482a28.263 28.263 0 0 0 18.632 7.003 28.284 28.284 0 0 0 18.628-6.995c20.904-18.282 41.04-35.443 58.802-50.576 51.975-44.295 96.794-82.512 127.86-119.99 34.712-41.883 50.714-81.293 50.714-124.44 0-41.941-14.374-80.56-40.402-108.79-26.342-28.57-62.43-44.281-101.74-44.281-29.364 0-56.16 9.246-79.849 27.568-11.958 9.247-22.806 20.578-32.383 33.816a1.996 1.996 0 0 1-3.236 0c-9.573-13.237-20.425-24.57-32.379-33.816h-.002c-23.684-18.317-50.477-27.565-79.833-27.568zm-.04 46.104a1.996 1.996 0 0 1 .005.004c19.116 0 35.926 5.78 51.647 17.935 13.96 10.798 24.375 25.192 30.409 35.29l.004.006.049.079a1.996 1.996 0 0 1 .004.006c6.587 11.035 18.873 18.022 31.73 18.022 12.859 0 25.147-6.986 31.734-18.022 6.032-10.108 16.474-24.558 30.468-35.385a1.996 1.996 0 0 1 .002 0c15.72-12.156 32.53-17.932 51.65-17.932 26.535 0 50.26 10.347 67.853 29.428 17.89 19.405 28.196 46.767 28.196 77.544 0 32.236-11.202 60.14-40.11 95.025-27.933 33.708-71.353 70.933-122.26 114.32-13.904 11.845-30.09 25.76-46.256 39.725a1.996 1.996 0 0 1-2.612 0c-16.091-13.935-32.223-27.825-46.084-39.638l-.09-.077.01.006-.074-.061a1.996 1.996 0 0 1-.014-.01c-50.88-43.36-94.275-80.573-122.19-114.27-28.912-34.886-40.114-62.79-40.114-95.025 0-30.776 10.308-58.137 28.196-77.542a1.996 1.996 0 0 1 0-.002c17.6-19.085 41.317-29.428 67.856-29.428z"})}),heartFull:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:(0,Ql.jsx)("path",{d:"M142.18 28.465c-0.011 0.0028-0.022 0.0054-0.033 8e-3 -39.318 0-75.4 15.712-101.74 44.28-26.027 28.235-40.407 66.853-40.407 108.79 0 43.143 16.005 82.553 50.718 124.44 31.057 37.474 75.88 75.697 127.87 119.99l0.073 0.062c7e-3 5e-3 0.0134 0.0106 0.02 0.016 17.73 15.109 37.833 32.244 58.69 50.482 5.156 4.5164 11.778 7.0052 18.632 7.003 6.8516 2e-3 13.471-2.484 18.628-6.995 20.904-18.282 41.04-35.443 58.802-50.576 51.975-44.295 96.794-82.512 127.86-119.99 34.712-41.883 50.714-81.293 50.714-124.44 0-41.941-14.374-80.56-40.402-108.79-26.342-28.57-62.43-44.281-101.74-44.281-29.364 0-56.16 9.246-79.849 27.568-11.958 9.247-22.806 20.578-32.383 33.816-0.79673 1.1029-2.4393 1.1029-3.236 0-9.573-13.237-20.425-24.57-32.379-33.816h-2e-3c-23.684-18.317-50.477-27.565-79.833-27.568z"})}),share:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 511.626 511.627",fill:"currentColor",children:(0,Ql.jsx)("path",{d:"M506.206,179.012L360.025,32.834c-3.617-3.617-7.898-5.426-12.847-5.426s-9.233,1.809-12.847,5.426   c-3.617,3.619-5.428,7.902-5.428,12.85v73.089h-63.953c-135.716,0-218.984,38.354-249.823,115.06C5.042,259.335,0,291.03,0,328.907   c0,31.594,12.087,74.514,36.259,128.762c0.57,1.335,1.566,3.614,2.996,6.849c1.429,3.233,2.712,6.088,3.854,8.565   c1.146,2.471,2.384,4.565,3.715,6.276c2.282,3.237,4.948,4.859,7.994,4.859c2.855,0,5.092-0.951,6.711-2.854   c1.615-1.902,2.424-4.284,2.424-7.132c0-1.718-0.238-4.236-0.715-7.569c-0.476-3.333-0.715-5.564-0.715-6.708   c-0.953-12.938-1.429-24.653-1.429-35.114c0-19.223,1.668-36.449,4.996-51.675c3.333-15.229,7.948-28.407,13.85-39.543   c5.901-11.14,13.512-20.745,22.841-28.835c9.325-8.09,19.364-14.702,30.118-19.842c10.756-5.141,23.413-9.186,37.974-12.135   c14.56-2.95,29.215-4.997,43.968-6.14s31.455-1.711,50.109-1.711h63.953v73.091c0,4.948,1.807,9.232,5.421,12.847   c3.62,3.613,7.901,5.424,12.847,5.424c4.948,0,9.232-1.811,12.854-5.424l146.178-146.183c3.617-3.617,5.424-7.898,5.424-12.847   C511.626,186.92,509.82,182.636,506.206,179.012z"})}),repeatOn:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",fill:"currentColor",children:(0,Ql.jsxs)("g",{children:[(0,Ql.jsx)("path",{d:"M341.552,85.334c-0.077-0.001-0.152-0.012-0.229-0.012H222.159l27.582-27.582c8.331-8.331,8.331-21.839,0-30.17 c-8.331-8.331-21.839-8.331-30.17,0l-64,64c-0.497,0.497-0.967,1.02-1.413,1.563c-0.202,0.246-0.378,0.506-0.568,0.759 c-0.228,0.304-0.463,0.601-0.674,0.917c-0.203,0.303-0.379,0.618-0.564,0.929c-0.171,0.286-0.351,0.566-0.509,0.861 c-0.169,0.317-0.313,0.643-0.465,0.966c-0.145,0.308-0.299,0.611-0.43,0.926c-0.13,0.314-0.235,0.635-0.349,0.953 c-0.122,0.338-0.251,0.672-0.356,1.018c-0.096,0.318-0.167,0.642-0.248,0.964c-0.089,0.353-0.188,0.701-0.259,1.061 c-0.074,0.372-0.118,0.748-0.171,1.122c-0.045,0.314-0.104,0.622-0.136,0.94c-0.068,0.693-0.105,1.388-0.105,2.084 c0,0.007-0.001,0.014-0.001,0.021c0,0.008,0.001,0.015,0.001,0.023c0.001,0.695,0.037,1.39,0.105,2.082 c0.031,0.318,0.091,0.627,0.136,0.941c0.054,0.375,0.097,0.75,0.171,1.122c0.071,0.36,0.17,0.708,0.259,1.061 c0.081,0.322,0.151,0.645,0.248,0.963c0.105,0.346,0.235,0.68,0.356,1.019c0.114,0.318,0.219,0.638,0.348,0.951 c0.131,0.316,0.285,0.619,0.43,0.927c0.152,0.323,0.296,0.649,0.465,0.965c0.158,0.295,0.338,0.576,0.51,0.862 c0.185,0.31,0.361,0.625,0.564,0.928c0.212,0.317,0.448,0.615,0.676,0.919c0.189,0.252,0.364,0.512,0.566,0.757 c0.446,0.544,0.916,1.067,1.413,1.564l64,64c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17l-27.582-27.582 h118.984c0.057,0,0.112,0.009,0.169,0.009c70.778,0,128,57.222,128,128c0,31.068-12.408,60.299-34.121,82.031 c-8.328,8.335-8.322,21.842,0.013,30.17c8.335,8.328,21.842,8.322,30.17-0.013c29.612-29.637,46.605-69.67,46.605-112.188 C511.979,161.736,435.783,85.464,341.552,85.334z"}),(0,Ql.jsx)("path",{d:"M358.39,418.083c0.227-0.303,0.462-0.6,0.673-0.915c0.203-0.304,0.379-0.619,0.565-0.931 c0.171-0.286,0.35-0.565,0.507-0.859c0.17-0.318,0.314-0.645,0.467-0.97c0.145-0.306,0.298-0.608,0.428-0.922 c0.13-0.315,0.236-0.637,0.35-0.957c0.121-0.337,0.25-0.669,0.354-1.013c0.097-0.32,0.168-0.646,0.249-0.969 c0.089-0.351,0.187-0.698,0.258-1.055c0.074-0.375,0.118-0.753,0.173-1.13c0.044-0.311,0.104-0.617,0.135-0.932 c0.138-1.4,0.138-2.811,0-4.211c-0.031-0.316-0.09-0.622-0.135-0.933c-0.054-0.377-0.098-0.755-0.172-1.13 c-0.071-0.358-0.169-0.705-0.258-1.056c-0.081-0.323-0.152-0.648-0.249-0.968c-0.104-0.345-0.234-0.677-0.355-1.014 c-0.115-0.32-0.22-0.642-0.35-0.957c-0.13-0.314-0.283-0.615-0.428-0.921c-0.153-0.325-0.297-0.653-0.468-0.971 c-0.157-0.293-0.336-0.572-0.506-0.857c-0.186-0.312-0.363-0.628-0.566-0.932c-0.211-0.315-0.445-0.611-0.671-0.913 c-0.191-0.255-0.368-0.516-0.571-0.764c-0.439-0.535-0.903-1.05-1.392-1.54c-0.007-0.008-0.014-0.016-0.021-0.023l-64-64 c-8.331-8.331-21.839-8.331-30.17,0c-8.331,8.331-8.331,21.839,0,30.17l27.582,27.582H170.836c-0.057,0-0.112-0.009-0.169-0.009 c-70.778,0-128-57.222-128-128c0-31.068,12.408-60.299,34.121-82.031c8.328-8.335,8.322-21.842-0.013-30.17 c-8.335-8.328-21.842-8.322-30.17,0.013C16.993,173.43,0,213.463,0,255.981c0,94.262,76.196,170.534,170.427,170.664 c0.077,0.001,0.152,0.012,0.229,0.012h119.163l-27.582,27.582c-8.331,8.331-8.331,21.839,0,30.17 c8.331,8.331,21.839,8.331,30.17,0l64-64c0.004-0.004,0.007-0.008,0.011-0.012c0.492-0.493,0.959-1.012,1.402-1.551 C358.024,418.597,358.2,418.337,358.39,418.083z"})]})}),chevronDown:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -350 350 350",fill:"currentColor",children:[(0,Ql.jsx)("path",{transform:"rotate(-90)",d:"M51.213,165.004L190.607,25.607c5.857-5.858,5.857-15.356-0.001-21.213   c-5.857-5.858-15.355-5.858-21.213,0.001l-150,150.004C16.58,157.211,15,161.026,15,165.004c0,3.979,1.581,7.794,4.394,10.606   l150,149.996C172.322,328.536,176.161,330,180,330s7.678-1.464,10.607-4.394c5.857-5.858,5.857-15.355-0.001-21.213L51.213,165.003   z"}),(0,Ql.jsx)("path",{transform:"rotate(-90)",d:"M171.213,165.004L310.607,25.607c5.858-5.858,5.858-15.356,0-21.213   c-5.857-5.858-15.355-5.858-21.213,0.001l-150,150.004c-2.813,2.813-4.393,6.628-4.393,10.606c0,3.979,1.581,7.794,4.394,10.606   l150,149.996C292.322,328.536,296.161,330,300,330c3.839,0,7.678-1.464,10.607-4.394c5.858-5.858,5.858-15.355,0-21.213   L171.213,165.003z"})]}),muted:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 530 530",height:"100%",width:"100%",fill:"currentColor",children:[(0,Ql.jsx)("path",{d:"m311.59 35.75c-3.9204 0.43798-7.7447 1.9779-10.951 4.5645a1.9372 1.9372 0 0 1-6e-3 0.0039l-153.62 122.89a1.9372 1.9372 0 0 1-1.2109 0.42578h-71.803c-20.545 0-37.373 16.828-37.373 37.373v128c0 20.545 16.828 37.373 37.373 37.373h71.803a1.9372 1.9372 0 0 1 1.2109 0.42578l153.62 122.91a1.9372 1.9372 0 0 1 4e-3 2e-3c7e-3 6e-3 0.0143 0.0119 0.0215 0.0176 3.8775 3.0677 8.6015 4.6445 13.346 4.6445 3.1407 0 6.3175-0.68567 9.2617-2.0938 1e-3 -6.3e-4 3e-3 -1e-3 4e-3 -2e-3a1.9372 1.9372 0 0 1 0.0254-0.0117c7.3634-3.5766 12.082-11.073 12.082-19.266v-416c0-8.192-4.7146-15.688-12.078-19.266-2e-3 -8.37e-4 -4e-3 -0.0011-6e-3 -2e-3a1.9372 1.9372 0 0 1-0.0332-0.01563c-3.6916-1.7608-7.7396-2.4147-11.662-1.9765zm-20.064 68.035a1.9372 1.9372 0 0 1 1.0976 1.7461v318.96a1.9372 1.9372 0 0 1-3.1484 1.5117l-113.38-90.703a1.9372 1.9372 0 0 1-0.72656-1.5117v-137.55a1.9372 1.9372 0 0 1 0.72656-1.5117l113.38-90.703a1.9372 1.9372 0 0 1 2.0508-0.23437zm-210.22 102.6h49.379a1.9372 1.9372 0 0 1 1.9375 1.9375v113.38a1.9372 1.9372 0 0 1-1.9375 1.9375h-49.379a1.9372 1.9372 0 0 1-1.9375-1.9375v-113.38a1.9372 1.9372 0 0 1 1.9375-1.9375z"}),(0,Ql.jsx)("path",{d:"M387.27 195.64c-4.64.081-9.768 1.709-14.098 6.04-6.74 6.74-7.739 14.995-6.33 20.311 1.446 5.458 4.83 8.961 4.83 8.961a1.99 1.99 0 0 1 .006.014l.002-.004.1.101a1.99 1.99 0 0 1 .008.008l32.59 32.59a1.99 1.99 0 0 1-.002 2.815l-31.85 31.783c-.039.039-.08.082-.123.129a1.99 1.99 0 0 1-.061.062s-5.34 5.33-6.002 13.578a16.8 16.8 0 0 0-.043 1.871c.143 4.494 2.037 9.736 6.379 14.078 6.582 6.583 15.022 7.22 20.359 5.676 5.483-1.586 9.072-4.9 9.088-4.914a1.99 1.99 0 0 1 .398-.275l-.379.257c.066-.059.131-.12.196-.185a1.99 1.99 0 0 1 .004-.004l32.047-32.047a1.99 1.99 0 0 1 2.812 0L468.717 328a1.99 1.99 0 0 1 .004.004c.06.06.121.116.182.172a1.99 1.99 0 0 1 .002.002c.009.008 3.636 3.357 9.119 4.943 5.337 1.544 13.778.907 20.359-5.676 4.342-4.342 6.236-9.584 6.379-14.078.02-.642.006-1.267-.043-1.87-.663-8.25-6.002-13.579-6.002-13.579a1.99 1.99 0 0 1-.06-.06 5.626 5.626 0 0 0-.124-.13 1.99 1.99 0 0 1-.002-.005l-31.314-31.25a1.99 1.99 0 0 1-.002-2.815l32.057-32.057a1.99 1.99 0 0 1 .008-.008c.035-.034.07-.067.102-.101l.002.006a1.99 1.99 0 0 1 .004-.016s3.384-3.502 4.83-8.96c1.408-5.317.41-13.573-6.33-20.313-6.928-6.928-16.085-6.942-21.512-4.728-5.16 2.105-8.44 5.52-8.924 6.047a1.99 1.99 0 0 1-.06.062L437.2 233.718a1.99 1.99 0 0 1-2.808 0l-30.724-30.658a1.99 1.99 0 0 1-.06-.062c-.484-.526-3.765-3.942-8.924-6.047-2.036-.83-4.63-1.36-7.415-1.31zm110.69 100.68v.01l.205.492a1.99 1.99 0 0 1-.205-.502z"})]}),unmuted:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 530 530",height:"100%",width:"100%",fill:"currentColor",children:[(0,Ql.jsx)("path",{d:"m311.59 35.75c-3.9204 0.43798-7.7447 1.9779-10.951 4.5645a1.9372 1.9372 0 0 1-6e-3 0.0039l-153.62 122.89a1.9372 1.9372 0 0 1-1.2109 0.42578h-71.803c-20.545 0-37.373 16.828-37.373 37.373v128c0 20.545 16.828 37.373 37.373 37.373h71.803a1.9372 1.9372 0 0 1 1.2109 0.42578l153.62 122.91a1.9372 1.9372 0 0 1 4e-3 2e-3c7e-3 6e-3 0.0143 0.0119 0.0215 0.0176 3.8775 3.0677 8.6015 4.6445 13.346 4.6445 3.1407 0 6.3175-0.68567 9.2617-2.0938 1e-3 -6.3e-4 3e-3 -1e-3 4e-3 -2e-3a1.9372 1.9372 0 0 1 0.0254-0.0117c7.3634-3.5766 12.082-11.073 12.082-19.266v-416c0-8.192-4.7146-15.688-12.078-19.266-2e-3 -8.37e-4 -4e-3 -0.0011-6e-3 -2e-3a1.9372 1.9372 0 0 1-0.0332-0.01563c-3.6916-1.7608-7.7396-2.4147-11.662-1.9765zm-20.064 68.035a1.9372 1.9372 0 0 1 1.0976 1.7461v318.96a1.9372 1.9372 0 0 1-3.1484 1.5117l-113.38-90.703a1.9372 1.9372 0 0 1-0.72656-1.5117v-137.55a1.9372 1.9372 0 0 1 0.72656-1.5117l113.38-90.703a1.9372 1.9372 0 0 1 2.0508-0.23437zm-210.22 102.6h49.379a1.9372 1.9372 0 0 1 1.9375 1.9375v113.38a1.9372 1.9372 0 0 1-1.9375 1.9375h-49.379a1.9372 1.9372 0 0 1-1.9375-1.9375v-113.38a1.9372 1.9372 0 0 1 1.9375-1.9375z"}),(0,Ql.jsx)("path",{d:"m387.63 140.3c-5.8493 0.04-11.74 2.3525-16.15 6.8086a1.6497 1.6497 0 0 1-6e-3 6e-3l-6e-3 8e-3c-8.8111 8.9473-8.7245 23.58 0.19141 32.404a1.6497 1.6497 0 0 1 6e-3 6e-3l2e-3 2e-3c22.856 22.617 35.41 52.862 35.41 85.471 0 32.605-12.552 62.846-35.402 85.461a1.6497 1.6497 0 0 1-2e-3 4e-3c-8.9519 8.8157-9.0409 23.491-0.19336 32.43 4.4677 4.5133 10.427 6.7891 16.283 6.7891 5.7941 0 11.679-2.2386 16.121-6.6289l6e-3 -6e-3a1.6497 1.6497 0 0 1 8e-3 -8e-3c31.6-31.203 49.027-73.219 49.027-118.04 9.9e-4 -44.824-17.429-86.839-49.027-118.08a1.6497 1.6497 0 0 1-2e-3 -4e-3l-8e-3 -6e-3 -2e-3 -2e-3c-4.4739-4.4225-10.411-6.6611-16.256-6.6211z"}),(0,Ql.jsx)("path",{d:"m443.82 91.105c-5.9113 0.02463-11.893 2.3889-16.375 7.0176-8.9522 9.2446-8.9057 24.479 0.15039 33.641a1.6966 1.6966 0 0 1 0 2e-3c35.004 35.499 54.23 82.713 54.23 133.23 0 50.522-19.229 97.74-54.238 133.24-9.0487 9.1628-9.0924 24.39-0.14257 33.633 4.5058 4.654 10.546 7.0254 16.479 7.0254 5.8644 0 11.823-2.3185 16.326-6.875a1.6966 1.6966 0 0 1 6e-3 -6e-3c43.806-44.403 68.006-103.81 68.006-167.02 0-63.191-24.189-122.6-67.982-167a1.6966 1.6966 0 0 1-0.0273-0.02344c-4.5233-4.5761-10.516-6.8888-16.43-6.8652a1.6966 1.6966 0 0 1-2e-3 -2e-3z"})]}),animatedSpinner:(0,Ql.jsxs)("svg",{viewBox:"0 0 38 38",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:[(0,Ql.jsx)("defs",{children:(0,Ql.jsxs)("linearGradient",{x1:"8.042%",y1:"0%",x2:"65.682%",y2:"23.865%",id:"a",children:[(0,Ql.jsx)("stop",{stopColor:"#fff",stopOpacity:"0",offset:"0%"}),(0,Ql.jsx)("stop",{stopColor:"#fff",stopOpacity:".631",offset:"63.146%"}),(0,Ql.jsx)("stop",{stopColor:"#fff",offset:"100%"})]})}),(0,Ql.jsx)("g",{fill:"none",fillRule:"evenodd",children:(0,Ql.jsxs)("g",{transform:"translate(1 1)",children:[(0,Ql.jsx)("path",{d:"M36 18c0-9.94-8.06-18-18-18",id:"Oval-2",stroke:"url(#a)",strokeWidth:"2",children:(0,Ql.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})}),(0,Ql.jsx)("circle",{fill:"#fff",cx:"36",cy:"18",r:"1",children:(0,Ql.jsx)("animateTransform",{attributeName:"transform",type:"rotate",from:"0 18 18",to:"360 18 18",dur:"0.9s",repeatCount:"indefinite"})})]})})]}),back:(0,Ql.jsx)("svg",{viewBox:"0 50 386.242 286.242",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{d:"M374.211,182.3H39.432l100.152-99.767c4.704-4.704,4.704-12.319,0-17.011 c-4.704-4.704-12.319-4.704-17.011,0L3.474,184.61c-4.632,4.632-4.632,12.379,0,17.011l119.1,119.1 c4.704,4.704,12.319,4.704,17.010,0c4.704-4.704,4.704-12.319,0-17.011L39.432,206.36h334.779c6.642,0,12.03-5.39,12.03-12.03 S380.852,182.3,374.212,182.3z"})}),hqOn:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 530 530",children:[(0,Ql.jsx)("path",{d:"M231.085 121.847c-5.925 0-11.92 2.368-16.139 6.374-4.22 4.007-6.76 9.74-6.844 15.447v93.263c.005 6.13.019 6.07-6.169 5.94h-66.32c-6.176.046-6.212.06-6.17-5.94v-93.263c-.1-6.83-3.817-13.68-9.58-17.665-5.761-3.983-13.691-5.184-20.442-3.092-4.523 1.402-8.614 4.23-11.44 7.91-2.825 3.679-4.436 8.272-4.503 12.847v242.671c.067 4.575 1.678 9.168 4.504 12.847 2.825 3.68 6.917 6.511 11.439 7.913 4.522 1.401 9.558 1.401 14.08 0 4.522-1.402 8.614-4.234 11.439-7.913 2.825-3.679 4.437-8.272 4.504-12.847v-93.263c.058-5.942.044-5.945 6.169-5.941h66.32c6.3.143 6.275.128 6.17 5.941v93.263c.067 4.575 1.678 9.168 4.503 12.847 2.826 3.68 6.917 6.509 11.44 7.91 6.751 2.092 14.682.891 20.442-3.093 5.762-3.984 9.48-10.834 9.58-17.664V143.668c-.084-5.706-2.624-11.44-6.844-15.447-4.22-4.006-10.214-6.374-16.138-6.374zM329.528 123.865c-8.734.008-13.804.025-13.804.025-5.28.017-10.691 2.19-14.417 5.79-3.726 3.6-5.967 8.821-5.967 13.905v242.84c0 5.084 2.243 10.305 5.97 13.906 3.727 3.6 9.137 5.773 14.416 5.79 0 0 20.225.063 49.67 0 21.186-.045 45.118-11.837 60.633-34.854 15.326-22.74 24.709-67.057 24.403-105.137-.307-38.346-6.393-77.801-24.469-107.47-15.515-22.958-39.409-34.723-60.568-34.77-14.721-.031-27.133-.032-35.867-.024zm15.421 39.402h.003c6.595.003 11.988-.004 20.353.014 3.073.007 7.78.442 12.606 3.117 4.74 2.628 9.23 7 13.807 13.79a5.14 4.95 0 0 1 .245.403c16.345 30.107 17.39 60.528 17.584 84.245.199 24.114-2.828 61.86-17.781 84.912a5.14 4.95 0 0 1-.048.074c-4.577 6.79-9.067 11.163-13.808 13.79-4.826 2.675-9.532 3.111-12.606 3.118-12.084.026-12.2.004-20.367 0-4.741-.003-8.694-3.812-8.694-8.379V171.645c-.001-4.571 3.959-8.381 8.706-8.378z"}),(0,Ql.jsx)("path",{d:"M25.654 1.882c-5.25 0-10.466 2.161-14.178 5.873-3.712 3.711-5.873 8.928-5.873 14.178 0 5.249 2.161 10.466 5.873 14.178 3.712 3.712 8.929 5.873 14.178 5.873h478.69c5.25 0 10.466-2.162 14.178-5.873 3.712-3.712 5.873-8.929 5.873-14.178 0-5.25-2.161-10.466-5.873-14.178-3.712-3.712-8.929-5.873-14.178-5.873zM25.654 488.013c-5.25 0-10.466 2.161-14.178 5.873-3.712 3.711-5.873 8.928-5.873 14.178 0 5.249 2.161 10.466 5.873 14.178 3.712 3.711 8.929 5.873 14.178 5.873h478.69c5.25 0 10.466-2.162 14.178-5.873 3.712-3.712 5.873-8.929 5.873-14.178 0-5.25-2.161-10.466-5.873-14.178-3.712-3.712-8.929-5.873-14.178-5.873z"})]}),hqOff:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 530 530",children:[(0,Ql.jsx)("path",{d:"m329.53 123.86c-8.734 8e-3 -13.804 0.025-13.804 0.025-5.28 0.017-10.691 2.19-14.417 5.79s-5.967 8.821-5.967 13.905v242.84c0 5.084 2.243 10.305 5.97 13.906 3.727 3.6 9.137 5.773 14.416 5.79 0 0 20.225 0.063 49.67 0 21.186-0.045 45.118-11.837 60.633-34.854 15.326-22.74 24.709-67.057 24.403-105.14-0.307-38.346-6.393-77.801-24.469-107.47-15.515-22.958-39.409-34.723-60.568-34.77-14.721-0.031-27.133-0.032-35.867-0.024zm15.421 39.402h3e-3c6.595 3e-3 11.988-4e-3 20.353 0.014 3.073 7e-3 7.78 0.442 12.606 3.117 4.74 2.628 9.23 7 13.807 13.79 0.0882 0.13055 0.16996 0.26503 0.245 0.403 16.345 30.107 17.39 60.528 17.584 84.245 0.199 24.114-2.828 61.86-17.781 84.912-0.0158 0.0248-0.0318 0.0495-0.048 0.074-4.577 6.79-9.067 11.163-13.808 13.79-4.826 2.675-9.532 3.111-12.606 3.118-12.084 0.026-12.2 4e-3 -20.367 0-4.741-3e-3 -8.694-3.812-8.694-8.379v-186.71c-1e-3 -4.571 3.959-8.381 8.706-8.378z"}),(0,Ql.jsx)("path",{d:"m25.654 1.882c-5.25 0-10.466 2.161-14.178 5.873-3.712 3.711-5.873 8.928-5.873 14.178 0 5.249 2.161 10.466 5.873 14.178s8.929 5.873 14.178 5.873h478.69c5.25 0 10.466-2.162 14.178-5.873 3.712-3.712 5.873-8.929 5.873-14.178 0-5.25-2.161-10.466-5.873-14.178s-8.929-5.873-14.178-5.873zm0 486.13c-5.25 0-10.466 2.161-14.178 5.873-3.712 3.711-5.873 8.928-5.873 14.178 0 5.249 2.161 10.466 5.873 14.178 3.712 3.711 8.929 5.873 14.178 5.873h478.69c5.25 0 10.466-2.162 14.178-5.873 3.712-3.712 5.873-8.929 5.873-14.178 0-5.25-2.161-10.466-5.873-14.178s-8.929-5.873-14.178-5.873z"}),(0,Ql.jsx)("path",{d:"m233.74 122.52c-13.084 0.12801-43.482 0.0391-43.482 0.0391h-0.0938c-11.152 0.0188-39.671-0.42184-62.416 20.879-30.527 28.589-37.689 76.107-37.949 114.38-0.13079 19.237 7.1708 27.018 27.053 27.109l39.953 0.042 57.51 0.14063c-1.7516 42.892-13.448 62.024-24.092 71.283-12.136 10.557-26.107 11.04-36.23 11.057-0.12798-4.1e-4 -30.076-0.0942-43.9 0.041-11.045 0.10735-19.912 9.1482-19.805 20.193 0.10734 11.046 9.1494 19.913 20.195 19.805 14.525-0.10371 29.051-0.0749 43.576-0.0391 11.152-0.0188 38.905-0.42646 62.416-20.879 23.348-20.311 38.358-54.445 38.322-117.36-0.01-17.801-10.611-23.799-27.174-24.024l-40.205-0.14648-57.51-0.14063c1.7516-42.892 13.448-62.024 24.092-71.283 12.136-10.557 26.107-11.04 36.23-11.057 0.12798 4.1e-4 30.076 0.0942 43.9-0.041 11.045-0.10735 19.912-9.1482 19.805-20.193-0.10734-11.046-9.1494-19.913-20.195-19.805z"})]}),cancel:(0,Ql.jsx)("svg",{viewBox:"0 0 512.001 512.001",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{d:"M284.286,256.002L506.143,34.144c7.811-7.811,7.811-20.475,0-28.285c-7.811-7.81-20.475-7.811-28.285,0L256,227.716    L34.143,5.859c-7.811-7.811-20.475-7.811-28.285,0c-7.81,7.811-7.811,20.476,0,28.285l221.857,221.857L5.858,477.859    c-7.811,7.811-7.811,20.475,0,28.285c3.905,3.905,9.024,5.857,14.143,5.857c5.119,0,10.237-1.952,14.143-5.857L256,284.287    l221.857,221.857c3.905,3.905,9.024,5.858,14.143,5.857s10.237-1.952,14.143-5.857c7.811-7.810,7.811-20.475,0-28.285    L284.286,256.002z"})}),reddit:(0,Ql.jsxs)("svg",{viewBox:"0 0 512 512",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:[(0,Ql.jsx)("path",{d:"m309.605469 343.347656c-11.46875 11.46875-36.042969 15.5625-53.554688 15.5625-17.5625 0-42.085937-4.09375-53.554687-15.5625-2.714844-2.714844-7.066406-2.714844-9.777344 0-2.714844 2.714844-2.714844 7.066406 0 9.777344 18.175781 18.175781 53.09375 19.609375 63.332031 19.609375s45.105469-1.433594 63.335938-19.609375c2.660156-2.714844 2.660156-7.066406 0-9.777344-2.714844-2.714844-7.066407-2.714844-9.78125 0zm0 0"}),(0,Ql.jsx)("path",{d:"m224 282.675781c0-14.695312-11.980469-26.675781-26.675781-26.675781-14.691407 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.984374 26.675781 26.675781 26.675781 14.695312 0 26.675781-11.980468 26.675781-26.675781zm0 0"}),(0,Ql.jsx)("path",{d:"m256 0c-141.363281 0-256 114.636719-256 256s114.636719 256 256 256 256-114.636719 256-256-114.636719-256-256-256zm148.53125 290.148438c.5625 3.6875.871094 7.425781.871094 11.214843 0 57.445313-66.867188 103.988281-149.351563 103.988281s-149.351562-46.542968-149.351562-103.988281c0-3.839843.308593-7.628906.871093-11.316406-13.003906-5.835937-22.066406-18.890625-22.066406-34.046875 0-20.582031 16.691406-37.324219 37.324219-37.324219 10.035156 0 19.097656 3.941407 25.804687 10.394531 25.90625-18.6875 61.75-30.621093 101.632813-31.644531 0-.511719 18.636719-89.292969 18.636719-89.292969.359375-1.738281 1.382812-3.226562 2.867187-4.195312 1.484375-.972656 3.277344-1.28125 5.019531-.921875l62.054688 13.207031c4.351562-8.804687 13.308594-14.898437 23.804688-14.898437 14.746093 0 26.675781 11.929687 26.675781 26.675781s-11.929688 26.675781-26.675781 26.675781c-14.285157 0-25.855469-11.265625-26.519532-25.394531l-55.554687-11.828125-16.996094 80.027344c39.167969 1.378906 74.34375 13.257812 99.839844 31.691406 6.707031-6.5 15.820312-10.496094 25.90625-10.496094 20.636719 0 37.324219 16.691407 37.324219 37.324219 0 15.257812-9.164063 28.3125-22.117188 34.148438zm0 0"}),(0,Ql.jsx)("path",{d:"m314.675781 256c-14.695312 0-26.675781 11.980469-26.675781 26.675781 0 14.691407 11.980469 26.675781 26.675781 26.675781 14.691407 0 26.675781-11.984374 26.675781-26.675781 0-14.695312-11.980468-26.675781-26.675781-26.675781zm0 0"})]}),discord:(0,Ql.jsx)("svg",{viewBox:"0 0 71 55",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{d:"M60.1045 4.8978C55.5792 2.8214 50.7265 1.2916 45.6527 0.41542C45.5603 0.39851 45.468 0.440769 45.4204 0.525289C44.7963 1.6353 44.105 3.0834 43.6209 4.2216C38.1637 3.4046 32.7345 3.4046 27.3892 4.2216C26.905 3.0581 26.1886 1.6353 25.5617 0.525289C25.5141 0.443589 25.4218 0.40133 25.3294 0.41542C20.2584 1.2888 15.4057 2.8186 10.8776 4.8978C10.8384 4.9147 10.8048 4.9429 10.7825 4.9795C1.57795 18.7309 -0.943561 32.1443 0.293408 45.3914C0.299005 45.4562 0.335386 45.5182 0.385761 45.5576C6.45866 50.0174 12.3413 52.7249 18.1147 54.5195C18.2071 54.5477 18.305 54.5139 18.3638 54.4378C19.7295 52.5728 20.9469 50.6063 21.9907 48.5383C22.0523 48.4172 21.9935 48.2735 21.8676 48.2256C19.9366 47.4931 18.0979 46.6 16.3292 45.5858C16.1893 45.5041 16.1781 45.304 16.3068 45.2082C16.679 44.9293 17.0513 44.6391 17.4067 44.3461C17.471 44.2926 17.5606 44.2813 17.6362 44.3151C29.2558 49.6202 41.8354 49.6202 53.3179 44.3151C53.3935 44.2785 53.4831 44.2898 53.5502 44.3433C53.9057 44.6363 54.2779 44.9293 54.6529 45.2082C54.7816 45.304 54.7732 45.5041 54.6333 45.5858C52.8646 46.6197 51.0259 47.4931 49.0921 48.2228C48.9662 48.2707 48.9102 48.4172 48.9718 48.5383C50.038 50.6034 51.2554 52.5699 52.5959 54.435C52.6519 54.5139 52.7526 54.5477 52.845 54.5195C58.6464 52.7249 64.529 50.0174 70.6019 45.5576C70.6551 45.5182 70.6887 45.459 70.6943 45.3942C72.1747 30.0791 68.2147 16.7757 60.1968 4.9823C60.1772 4.9429 60.1437 4.9147 60.1045 4.8978ZM23.7259 37.3253C20.2276 37.3253 17.3451 34.1136 17.3451 30.1693C17.3451 26.225 20.1717 23.0133 23.7259 23.0133C27.308 23.0133 30.1626 26.2532 30.1066 30.1693C30.1066 34.1136 27.28 37.3253 23.7259 37.3253ZM47.3178 37.3253C43.8196 37.3253 40.9371 34.1136 40.9371 30.1693C40.9371 26.225 43.7636 23.0133 47.3178 23.0133C50.9 23.0133 53.7545 26.2532 53.6986 30.1693C53.6986 34.1136 50.9 37.3253 47.3178 37.3253Z"})}),dotsVertical:(0,Ql.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})}),search:(0,Ql.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",fill:"none",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),home:(0,Ql.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"})}),profile:(0,Ql.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),fullscreen:(0,Ql.jsxs)("svg",{viewBox:"0 0 469.333 469.333",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:[(0,Ql.jsx)("path",{d:"M160,0H10.667C4.771,0,0,4.771,0,10.667V160c0,5.896,4.772,10.667,10.667,10.667S21.333,165.896,21.333,160V21.333H160 c5.896,0,10.667-4.771,10.667-10.667S165.896,0,160,0z"}),(0,Ql.jsx)("path",{d:"M458.667,0H309.333c-5.896,0-10.666,4.771-10.667,10.667s4.771,10.667,10.666,10.667H448V160 c0,5.896,4.771,10.667,10.667,10.667c5.896,0,10.667-4.771,10.667-10.667V10.667C469.333,4.771,464.563,0,458.667,0z"}),(0,Ql.jsx)("path",{d:"M458.667,298.667c-5.896,0-10.667,4.771-10.667,10.667V448H309.333c-5.896,0-10.667,4.771-10.667,10.667 c0,5.896,4.771,10.667,10.667,10.667h149.333c5.896,0,10.667-4.772,10.667-10.667V309.333 C469.333,303.437,464.563,298.667,458.667,298.667z"}),(0,Ql.jsx)("path",{d:"M160,448H21.333V309.333c0-5.896-4.771-10.667-10.667-10.667S0,303.437,0,309.333v149.333 c0,5.896,4.771,10.667,10.667,10.667H160c5.896,0,10.667-4.771,10.667-10.667C170.667,452.771,165.896,448,160,448z"})]}),minimize:(0,Ql.jsxs)("svg",{viewBox:"0 0 469.333 469.333",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",height:"100%",width:"100%",children:[(0,Ql.jsx)("path",{d:"M160,0c-5.896,0-10.667,4.771-10.667,10.667v138.667H10.667C4.771,149.333,0,154.104,0,160 c0,5.896,4.772,10.667,10.667,10.667H160c5.896,0,10.667-4.771,10.667-10.667V10.667C170.667,4.771,165.896,0,160,0z"}),(0,Ql.jsx)("path",{d:"M309.333,170.667h149.333c5.896,0,10.667-4.771,10.667-10.667c0-5.896-4.771-10.667-10.667-10.667H320V10.667 C320,4.771,315.229,0,309.333,0c-5.896,0-10.667,4.771-10.667,10.667V160C298.667,165.896,303.437,170.667,309.333,170.667z"}),(0,Ql.jsx)("path",{d:"M458.667,298.667H309.333c-5.896,0-10.667,4.771-10.667,10.667v149.333c0,5.896,4.771,10.667,10.667,10.667 c5.896,0,10.667-4.771,10.667-10.667V320h138.667c5.896,0,10.667-4.771,10.667-10.667 C469.333,303.437,464.563,298.667,458.667,298.667z"}),(0,Ql.jsx)("path",{d:"M160,298.667H10.667C4.771,298.667,0,303.437,0,309.334C0,315.229,4.771,320,10.667,320h138.667v138.667 c0,5.896,4.771,10.667,10.667,10.667c5.896,0,10.667-4.771,10.667-10.667V309.333C170.667,303.437,165.896,298.667,160,298.667z"})]}),verified:(0,Ql.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 122.88 116.87",height:"100%",width:"100%",children:[(0,Ql.jsx)("polygon",{fill:"currentColor",points:"61.37 8.24 80.43 0 90.88 17.79 111.15 22.32 109.15 42.85 122.88 58.43 109.2 73.87 111.15 94.55 91 99 80.43 116.87 61.51 108.62 42.45 116.87 32 99.08 11.73 94.55 13.73 74.01 0 58.43 13.68 42.99 11.73 22.32 31.88 17.87 42.45 0 61.37 8.24 61.37 8.24"}),(0,Ql.jsx)("path",{fill:"#fff",d:"M37.92,65c-6.07-6.53,3.25-16.26,10-10.1,2.38,2.17,5.84,5.34,8.24,7.49L74.66,39.66C81.1,33,91.27,42.78,84.91,49.48L61.67,77.2a7.13,7.13,0,0,1-9.9.44C47.83,73.89,42.05,68.5,37.92,65Z"})]}),shuffle:(0,Ql.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",height:"100%",width:"100%",children:(0,Ql.jsx)("path",{fill:"currentColor",d:"M745,10c11.3,0,21,4,29,12.1l163.3,163.3c7.9,7.9,11.8,17.4,11.8,28.7c0,11.5-3.9,21.2-11.8,29L774,406.5c-7.9,7.9-17.5,11.8-29,11.8c-11.3,0-20.9-4-28.9-12c-8-8-12-17.6-12-28.9c0-10.8,3.9-20.4,11.8-28.7l93.8-93.8H745c-38.3,0-74.2,8.3-107.8,25s-61.8,39.5-84.5,68.4C517.5,393.1,500,443.7,500,500c0,56.8-13.6,109.5-40.8,158.2c-14.5,26.2-32,49.7-52.6,70.5c-30.2,30.8-65.4,54.9-105.6,72.1c-40.2,17.2-82.7,25.8-127.6,25.8H91.7c-11.3,0-20.9-4-28.9-12c-8-8-12-17.6-12-28.9s4-20.9,12-28.9c8-8,17.6-12,28.9-12h81.7c38.5,0,74.5-8.3,108-24.9c33.5-16.6,61.6-39.3,84.4-68.3c35.1-44.7,52.6-95.3,52.6-151.8c0-56.8,13.6-109.5,40.8-158.2c14.7-26.4,32.2-49.8,52.6-70.2c30.2-30.8,65.4-54.9,105.6-72.3s82.7-26,127.6-26h64.8L716,79.9c-7.9-8.3-11.8-18-11.8-29c0-11.3,4-20.9,12-28.9C724.1,14,733.7,10,745,10L745,10z M745,581.7c11.3,0,21,4,29,12.1l163.3,163.3c7.9,7.9,11.8,17.5,11.8,29c0,11.3-3.9,20.8-11.8,28.7L774,978.2c-7.9,7.9-17.5,11.8-29,11.8c-11.3,0-20.9-3.9-28.9-11.8c-8-7.9-12-17.4-12-28.7c0-11.1,3.9-20.7,11.8-29l93.8-93.8H745c-44.9,0-87.4-8.6-127.6-25.8c-40.2-17.2-75.4-41.3-105.6-72.1c16.4-24,30-49.7,40.8-76.9c22.8,28.9,50.9,51.7,84.4,68.3c33.5,16.6,69.5,24.9,108,24.9h64.8L716,651.6c-7.9-8.3-11.8-18-11.8-29c0-11.3,4-20.9,12-28.9C724.1,585.7,733.7,581.7,745,581.7L745,581.7z M91.7,173.3h81.7c44.9,0,87.4,8.7,127.6,26c40.2,17.3,75.4,41.4,105.6,72.3c-16.6,24.5-30.2,50.1-40.8,76.9c-22.8-28.9-50.9-51.7-84.5-68.4s-69.5-25-107.8-25H91.7c-11.3,0-20.9-4-28.9-12c-8-8-12-17.6-12-28.9c0-11.3,4-20.9,12-28.9C70.8,177.4,80.4,173.4,91.7,173.3L91.7,173.3z"})})},Wd=(0,Ql.jsx)("svg",{height:"100%",width:"100%",fill:"currentColor",viewBox:"0 0 66.914 29.075",xmlns:"http://www.w3.org/2000/svg",children:(0,Ql.jsxs)("g",{transform:"translate(-4.8763 -65.867)",strokeLinejoin:"round",strokeMiterlimit:"12",children:[(0,Ql.jsx)("g",{transform:"rotate(-90 11.931 87.882)",children:(0,Ql.jsx)("path",{d:"m7.9199 80.828c-1.6788 0-3.043 1.3622-3.043 3.041v7.9375c0 1.6788 1.3642 3.043 3.043 3.043h7.9375c1.6788 0 3.041-1.3642 3.041-3.043v-7.9375c0-1.6788-1.3622-3.041-3.041-3.041zm0 0.79297h7.9375c1.2528 0 2.248 0.99526 2.248 2.248v7.9375c0 1.2528-0.99526 2.25-2.248 2.25h-7.9375c-1.2528 0-2.25-0.99721-2.25-2.25v-7.9375c0-1.2528 0.99721-2.248 2.25-2.248z"})}),(0,Ql.jsxs)("g",{transform:"rotate(180 19.44 87.882)",children:[(0,Ql.jsx)("path",{d:"m7.9199 80.828c-1.6788 0-3.043 1.3622-3.043 3.041v7.9375c0 1.6788 1.3642 3.043 3.043 3.043h7.9375c1.6788 0 3.041-1.3642 3.041-3.043v-7.9375c0-1.6788-1.3622-3.041-3.041-3.041zm0 0.79297h7.9375c1.2528 0 2.248 0.99526 2.248 2.248v7.9375c0 1.2528-0.99526 2.25-2.248 2.25h-7.9375c-1.2528 0-2.25-0.99721-2.25-2.25v-7.9375c0-1.2528 0.99721-2.248 2.25-2.248z"}),(0,Ql.jsxs)("g",{transform:"matrix(.18549 0 0 .18338 9.1301 36.555)",children:[(0,Ql.jsx)("path",{d:"m22.091 286.01h-14.447l7.2233-12.511z",strokeWidth:"4.3037"}),(0,Ql.jsx)("path",{d:"m14.867 271.34a2.1521 2.1521 0 0 0-1.8633 1.0742l-7.2227 12.512a2.1521 2.1521 0 0 0 1.8633 3.2285h14.445a2.1521 2.1521 0 0 0 1.8652-3.2285l-7.2246-12.512a2.1521 2.1521 0 0 0-1.8633-1.0742zm0 6.4551 3.4961 6.0547h-6.9922z"})]})]}),(0,Ql.jsx)("g",{transform:"rotate(90 26.95 102.99)",children:(0,Ql.jsx)("path",{d:"m7.9199 80.828c-1.6788 0-3.043 1.3622-3.043 3.041v7.9375c0 1.6788 1.3642 3.043 3.043 3.043h7.9375c1.6788 0 3.041-1.3642 3.041-3.043v-7.9375c0-1.6788-1.3622-3.041-3.041-3.041zm0 0.79297h7.9375c1.2528 0 2.248 0.99526 2.248 2.248v7.9375c0 1.2528-0.99526 2.25-2.248 2.25h-7.9375c-1.2528 0-2.25-0.99721-2.25-2.25v-7.9375c0-1.2528 0.99721-2.248 2.25-2.248z"})}),(0,Ql.jsx)("path",{d:"m23.025 65.868c-1.6788 0-3.043 1.3622-3.043 3.041v7.9375c0 1.6788 1.3642 3.043 3.043 3.043h7.9375c1.6788 0 3.041-1.3642 3.041-3.043v-7.9375c0-1.6788-1.3622-3.041-3.041-3.041zm0 0.79297h7.9375c1.2528 0 2.248 0.99526 2.248 2.248v7.9375c0 1.2528-0.99526 2.25-2.248 2.25h-7.9375c-1.2528 0-2.25-0.99721-2.25-2.25v-7.9375c0-1.2528 0.99721-2.248 2.25-2.248z"}),(0,Ql.jsxs)("g",{transform:"matrix(.18549 0 0 .18338 24.235 21.594)",children:[(0,Ql.jsx)("path",{d:"m22.091 286.01h-14.447l7.2233-12.511z",strokeWidth:"4.3037"}),(0,Ql.jsx)("path",{d:"m14.867 271.34a2.1521 2.1521 0 0 0-1.8633 1.0742l-7.2227 12.512a2.1521 2.1521 0 0 0 1.8633 3.2285h14.445a2.1521 2.1521 0 0 0 1.8652-3.2285l-7.2246-12.512a2.1521 2.1521 0 0 0-1.8633-1.0742zm0 6.4551 3.4961 6.0547h-6.9922z"})]}),(0,Ql.jsxs)("g",{transform:"translate(15.105 -14.961)",children:[(0,Ql.jsx)("path",{d:"m49.93 88.276h-2.6797l1.3398-2.2944z",strokeWidth:".79375"}),(0,Ql.jsx)("path",{d:"m48.59 85.586a0.39691 0.39691 0 0 0-0.3418 0.19531l-1.3398 2.2949a0.39691 0.39691 0 0 0 0.3418 0.59766h2.6797a0.39691 0.39691 0 0 0 0.34375-0.59766l-1.3398-2.2949a0.39691 0.39691 0 0 0-0.34375-0.19531zm0 1.1836 0.64844 1.1094h-1.2949z"}),(0,Ql.jsx)("path",{d:"m49.93 89.711h-2.6797l1.3398 2.2944z",color:"currentcolor",strokeWidth:".79375"}),(0,Ql.jsx)("path",{d:"m47.25 89.314a0.39691 0.39691 0 0 0-0.3418 0.5957l1.3398 2.2949a0.39691 0.39691 0 0 0 0.68555 0l1.3398-2.2949a0.39691 0.39691 0 0 0-0.34375-0.5957zm0.69336 0.79297h1.2949l-0.64844 1.1094z"})]}),(0,Ql.jsx)("path",{d:"m63.695 65.881c-4.4798 0-8.0937 3.6532-8.0938 8.1699v12.721c0 4.5167 3.6139 8.1699 8.0938 8.1699 4.4798 0 8.0957-3.6532 8.0957-8.1699v-12.721c0-4.5167-3.6159-8.1699-8.0957-8.1699zm0 0.78711c4.0532 0 7.3086 3.2847 7.3086 7.3828v12.721c0 4.0981-3.2554 7.3828-7.3086 7.3828-4.0532 0-7.3066-3.2847-7.3066-7.3828v-12.721c0-4.0981 3.2535-7.3828 7.3066-7.3828z"})]})}),Kd=(0,Ql.jsx)("svg",{height:"100%",width:"100%",fill:"currentColor",viewBox:"0 0 980.01 688.03",xmlns:"http://www.w3.org/2000/svg",children:(0,Ql.jsx)("g",{transform:"rotate(-90,417.01,427)",children:(0,Ql.jsxs)("g",{transform:"matrix(-.1 0 0 -.1 999.99 511)",children:[(0,Ql.jsx)("path",{d:"m1990.2 4579.6c-396.5-394.4-430.4-434.7-430.4-504.6 0-67.8 33.9-108.1 443.1-515.2 434.7-432.5 447.4-443.1 515.2-428.3 97.5 19.1 152.7 80.6 152.7 171.7 0 67.9-25.4 99.7-252.3 328.7l-254.4 254.4h720.9c534.3 0 707.28-12.762 797.19 24.563 114.5 57.3 125.09 220.03 19.113 293.54-72.699 50.425-74.2 42.4-788.8 42.4h-746.3l246 250.2c133.6 135.7 250.2 269.3 258.7 292.6 17 55.1-19.1 154.8-67.8 190.8-19.1 17-70 29.7-110.3 29.7-67.9-0.1-108.2-34-502.6-430.5z"}),(0,Ql.jsx)("path",{d:"m6919.9 4980.3c-57.2-42.4-82.7-131.5-57.2-197.2 10.6-33.9 127.2-167.5 258.7-296.8l237.5-239.6h-1477.9c-113.75-38.9-112.95-105.48-114.5-197.2 2.4252-76.674 33.825-101.07 59.225-124.47 40.3-40.3 72.175-28.226 784.58-34.626l746.3-6.4-252.3-252.3c-226.9-229-252.3-260.8-252.3-328.7 0-89.1 55.1-152.7 150.5-171.7 63.6-12.7 84.8 4.2 481.3 385.9 229 218.4 430.4 419.8 447.4 445.3 17 27.6 31.8 80.6 31.8 118.7 0 61.5-46.7 116.6-430.4 498.3-394.3 396.6-434.6 430.5-502.4 430.5-40.3 0-91.2-12.7-110.3-29.7z"}),(0,Ql.jsx)("path",{d:"m4613 4588.1c-172.67-27.874-461.9-261.13-468.6-504.7l-42.4-1577.5c-23.3-867.2-46.6-1619.9-53-1670.8l-12.7-93.3-103.9 165.4c-116.6 180.2-315.9 400.7-405 447.4-31.8 17-108.1 29.7-167.5 29.7-267.2 0-536.4-142.1-638.2-339.2-76.3-144.2-76.3-237.5 6.4-487.7 36-110.3 97.5-358.3 137.8-551.3 299-1422.7 527.9-1868 1443.9-2800.9l345.6-352v-360.4c0-267.1 8.5-388 33.9-474.9 110.2-373.2 396.5-659.4 771.8-769.7 163.3-50.9 1499.1-50.9 1687.7 0 358.3 93.3 619.1 335 746.3 695.5 48.8 137.8 55.1 186.6 63.6 606.4l8.5 455.9 59.4 95.4c93.3 144.2 205.7 402.9 313.8 720.9l99.7 286.2v1399.4c0 1378.2 0 1401.5-44.5 1496.9-63.6 133.6-167.5 246-292.6 311.7-93.3 48.8-134.69 76.537-289.49 76.537-178.1 0-187.61-21.337-274.51-91.337-48.8-38.2-89.1-65.7-93.3-63.6-2.1 4.2-14.8 86.9-29.7 184.5-57.2 409.2-273.5 623.4-631.8 623.4-118.8 0-180.2-10.6-271.4-53l-118.7-55.1-33.9 67.8c-70 133.6-159 224.8-288.4 288.4-167.5 84.8-330.8 89.1-515.2 12.7-70-29.7-133.6-53-142.1-53-10.6 0-17 417.7-17 928.7v926.6l-50.9 110.3c-63.6 133.6-190.8 260.8-326.5 324.4-106 50.6-203.59 68.838-407.1 44.3zm347.8-409.3 70-70 12.7-1070.7c8.5-589.4 14.9-1261.6 14.9-1494.8 0-356.2 6.4-432.5 33.9-472.8 50.9-74.2 125.1-93.3 209.9-59.4 89.1 38.2 103.9 84.8 148.4 500.4 21.2 180.2 48.8 328.7 65.7 356.2 110.3 171.7 436.8 197.2 506.8 40.3 17-38.2 59.4-258.7 95.4-491.9 57.2-388 67.9-428.3 118.7-470.7 72.1-63.6 165.4-63.6 231.1 4.2 50.9 48.8 53 61.5 53 347.7v294.7l65.7 55.1c120.9 101.8 364.7 59.4 434.7-76.3 23.3-42.4 46.7-176 63.6-356.2 17-156.9 48.8-400.7 72.1-538.6 48.8-290.5 84.8-352 205.7-352 108.1 0 165.4 70 195.1 237.5 53 303.2 146.3 483.4 252.3 483.4 82.7 0 190.8-63.6 237.5-137.8 40.3-67.9 42.4-101.8 42.4-1386.7v-1318.8l-86.9-269.3c-108.1-328.7-205.7-549.2-311.7-691.2l-78.5-108.1-10.6-519.5c-10.6-515.2-10.6-519.5-70-640.3-76.3-154.8-252.3-318-400.7-371.1-101.8-33.9-186.6-38.2-843.9-36.1-714.5 0-733.6 2.1-856.6 50.9-167.5 63.6-309.6 205.7-373.2 373.2-46.7 114.5-50.9 165.4-59.4 578.9l-8.5 455.9-364.7 360.4c-371.1 368.9-638.2 680.6-824.8 966.8-250.1 383.9-379.5 761.4-576.6 1685.8-42.4 199.3-106 447.4-139.9 553.4-74.2 235.4-78.4 324.4-12.7 385.9 55.1 50.9 146.3 89 216.3 89 112.4 0 330.8-265 477.1-581 70-148.4 95.4-239.6 139.9-502.5 55.1-330.8 99.6-458 182.3-515.3 72.1-50.9 171.7-42.4 229 19.1l50.9 53 61.5 2200.8c33.9 1208.6 70 2234.8 80.6 2277.2s53 112.4 91.2 154.8c63.6 65.7 82.7 74.2 182.3 74.2 95.3 0.2 118.6-8.3 178-67.7z"})]})})}),qd=(0,Ql.jsx)("svg",{height:"100%",width:"100%",viewBox:"0 0 2600 2600",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",children:(0,Ql.jsx)("g",{transform:"translate(0,2600) scale(1,-1)",stroke:"none",children:(0,Ql.jsx)("path",{d:"M1566 2515 c48 -61 139 -204 168 -265 l27 -55 -53 60 c-29 33 -78 86 -108 118 l-55 57 -105 21 c-153 29 -339 47 -564 55 l-200 7 96 -86 c101 -92 232 -228 249 -259 10 -18 9 -18 -18 -5 -15 8 -65 26 -111 40 -80 25 -86 25 -166 12 -83 -13 -309 -70 -333 -84 -9 -4 16 -22 71 -51 47 -24 111 -63 142 -88 62 -49 61 -54 -15 -66 -63 -10 -253 -73 -343 -113 l-78 -36 59 -27 c77 -37 84 -50 29 -50 l-44 0 12 -107 c14 -120 17 -189 15 -339 l-1 -101 -107 -7 c-59 -4 -113 -12 -120 -18 -8 -6 -13 -33 -13 -68 0 -54 3 -60 33 -84 60 -48 64 -53 71 -107 11 -80 54 -247 76 -290 26 -49 80 -93 154 -123 41 -16 81 -44 122 -83 175 -167 518 -283 839 -283 328 0 675 119 848 291 31 32 67 61 80 65 40 12 122 56 145 78 13 11 33 38 43 58 18 35 68 229 84 320 4 28 13 42 33 52 45 23 65 53 69 103 7 74 -4 82 -127 91 l-105 7 1 170 c1 153 3 173 22 205 11 19 24 53 28 74 6 36 5 39 -12 32 -10 -4 -35 -10 -54 -13 l-35 -6 33 28 c53 45 63 74 69 212 l6 126 -57 -47 c-60 -48 -154 -101 -164 -92 -3 3 4 37 15 75 20 69 20 70 1 112 -10 24 -44 81 -76 127 l-56 85 -17 -87 c-10 -47 -19 -92 -22 -99 -2 -6 -20 21 -41 61 -48 95 -115 204 -135 219 -44 35 -223 154 -276 183 l-60 34 31 -39z m-446 -85 c123 -11 349 -46 384 -60 35 -13 216 -197 325 -328 110 -135 110 -135 92 -245 l-8 -48 49 48 49 48 -14 -40 c-48 -135 -51 -139 -148 -185 -77 -35 -270 -110 -285 -110 -2 0 10 13 28 29 28 25 32 35 36 92 4 72 -22 268 -39 284 -8 7 -9 -3 -4 -35 3 -25 2 -99 -4 -165 -10 -118 -11 -120 -43 -147 -18 -15 -45 -34 -60 -43 l-27 -15 25 43 c24 44 24 44 9 125 -9 44 -24 105 -35 136 -23 68 -72 178 -76 173 -2 -2 7 -59 20 -128 13 -68 27 -153 31 -189 6 -64 6 -66 -37 -130 l-42 -65 -6 41 c-4 27 -21 62 -50 100 -45 61 -190 208 -197 200 -3 -2 25 -41 61 -87 81 -102 129 -190 121 -221 -5 -22 -10 -19 -73 40 -37 35 -96 83 -132 107 -72 48 -205 115 -230 115 -13 1 -13 2 1 10 16 9 147 -2 191 -16 35 -11 17 15 -59 86 -95 88 -209 165 -328 222 l-89 43 74 17 c141 33 166 33 262 -2 102 -37 237 -105 318 -160 33 -22 61 -40 64 -40 7 0 -87 135 -178 255 -33 44 -98 119 -145 168 l-85 87 70 0 c38 0 121 -5 184 -10z m981 -820 c14 -47 3 -64 -68 -110 l-43 -27 64 -32 c62 -30 63 -32 70 -77 3 -26 6 -82 6 -124 l0 -77 -137 -7 c-158 -8 -441 -33 -526 -46 -31 -5 -70 -18 -85 -28 -48 -34 -97 -35 -171 -3 -52 23 -97 32 -216 45 -124 13 -439 36 -507 36 -16 0 -18 10 -18 73 0 39 3 96 6 124 6 46 11 55 39 71 17 11 49 25 70 32 l39 13 -35 18 c-19 9 -49 33 -67 52 l-34 35 48 16 c61 21 109 20 214 -3 84 -19 246 -73 325 -107 l40 -18 -50 -7 c-27 -4 -77 -8 -110 -9 -82 -2 -55 -11 163 -56 l177 -36 90 17 c178 33 441 134 610 233 39 22 75 41 82 41 7 1 18 -17 24 -39z m-1326 -620 c167 -15 327 -40 356 -56 15 -7 29 -24 33 -37 12 -47 -26 -278 -61 -372 -33 -89 -82 -106 -268 -94 -213 13 -444 67 -525 122 -50 33 -70 75 -107 225 -45 185 -44 204 17 215 49 9 447 7 555 -3z m1600 2 l40 -8 -1 -54 c-1 -57 -43 -242 -68 -301 -30 -71 -93 -107 -256 -149 -111 -28 -268 -49 -391 -52 -170 -4 -200 21 -239 198 -23 102 -36 240 -26 277 4 16 17 29 35 35 40 14 214 41 331 51 120 10 522 12 575 3z m-1037 -175 c6 -7 18 -55 26 -107 22 -136 61 -254 97 -294 47 -54 105 -71 234 -70 61 1 139 6 175 13 36 6 79 14 95 17 23 4 15 -4 -35 -33 -337 -201 -833 -219 -1195 -44 -55 27 -109 56 -120 65 l-20 17 20 -5 c11 -3 65 -13 120 -21 184 -28 314 -15 380 36 44 36 90 167 115 334 8 48 19 85 28 93 20 16 67 16 80 -1z"})})});function Yd(e){var t=e.onClick,n=e.children,r=e.variant,i=e.size,o="bg-brand border-brand text-light hover:bg-brand-weak hover:border-brand-weak";r===Gd.DARK&&(o="bg-dark border-dark text-light hover:text-light-extreme hover:bg-dark-weak"),r===Gd.LIGHT&&(o="bg-light border-dark text-dark hover:text-dark-extreme hover:bg-light-weak");var a="text-base py-1 px-2";return i===Vd.SMALL&&(a="text-sm py-0.5 px-2"),i===Vd.BIG&&(a="text-lg py-2 px-4"),(0,Ql.jsx)("div",{className:"".concat(o," ").concat(a," rounded-md border font-medium cursor-pointer inline-block select-none"),onClick:function(e){return t&&t(e)},children:n})}function $d(e){var t=e.className,n=e.onClick,i=e.icon,o=e.isActive,a=e.style,s=e.children,u=l((0,r.useState)(!1),2),c=u[0],f=u[1];return(0,Ql.jsxs)("button",{className:"flex flex-row items-center gap-x-1 h-6 py-0 rounded-md text-sm font-semibold border pointer-events-auto select-none cursor-pointer \n            ".concat(i?"pl-1 pr-2":"px-2"," \n            ").concat(null!==t&&void 0!==t?t:""," transition-colors duration-100 ease-in bg-white ").concat(c||o?"bg-opacity-20":"bg-opacity-0 hover-hover:hover:bg-opacity-20"),style:a,onClick:n,onTouchStart:function(){return f(!0)},onTouchEnd:function(){return f(!1)},onMouseDown:function(){return f(!0)},onMouseUp:function(){return f(!1)},onMouseOut:function(){return f(!1)},children:[i&&(0,Ql.jsx)("div",{className:"w-4 h-4",children:i}),s]})}function Xd(e){var t=e.icon,n=e.onClick,i=e.isActive,o=e.showCircle,a=l((0,r.useState)(!1),2),s=a[0],u=a[1],c=o?"bg-opacity-20":"bg-opacity-0";return(0,Ql.jsx)(dc,{onTap:n,children:(0,Ql.jsx)("button",{className:"h-12 w-12 p-3 rounded-full cursor-pointer outline-hidden bg-white transition-colors duration-200 ease-in ".concat(s||i?"text-dark bg-opacity-100":"text-white ".concat(c," hover-hover:hover:bg-opacity-20")),onTouchStart:function(){return u(!0)},onTouchEnd:function(){return u(!1)},onMouseDown:function(){return u(!0)},onMouseUp:function(){return u(!1)},onMouseOut:function(){return u(!1)},children:(0,Ql.jsx)("div",{className:"flex justify-center items-center object-center h-full w-full",children:t})})})}function Qd(e){var t=e.icon,n=e.onClick,i=e.active,o=l((0,r.useState)(!1),2),a=o[0],s=o[1];return(0,Ql.jsx)(dc,{onTap:n,children:(0,Ql.jsx)("button",{className:"h-12 w-12 p-3 rounded-full cursor-pointer outline-hidden bg-white ".concat(i?"text-brand-strong hover-hover:hover:text-brand":"text-white text-opacity-70 hover-hover:hover:text-opacity-100"," transition-colors duration-100 ease-in ").concat(a?"bg-opacity-20":"bg-opacity-0"),onTouchStart:function(){return s(!0)},onTouchEnd:function(){return s(!1)},onMouseDown:function(){return s(!0)},onMouseUp:function(){return s(!1)},onMouseOut:function(){return s(!1)},children:(0,Ql.jsx)("div",{className:"flex justify-center items-center object-center h-full w-full",children:t})})})}function Jd(){var e=Nf();return(0,Ql.jsx)("div",{className:"absolute top-2.5 right-2.5 pointer-events-auto select-none",children:(0,Ql.jsx)(Xd,{icon:(0,Ql.jsx)("div",{className:"scale-125",children:zd.dotsVertical}),onClick:function(){return e.setSettingsOpen(!e.isSettingsOpen)}})})}!function(e){e.PRIMARY="PRIMARY",e.DARK="DARK",e.LIGHT="LIGHT"}(Gd||(Gd={})),function(e){e.NORMAL="NORMAL",e.SMALL="SMALL",e.BIG="BIG"}(Vd||(Vd={}));var Zd=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))}));var eh,th=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"}))}));function nh(e){var t=e.isError,n=e.isLoading,r=e.numPosts,i=e.errorText,o=e.loadingText,a=e.children;return n?(0,Ql.jsx)(rh,{loadingText:o}):void 0!==r&&r<1?(0,Ql.jsx)(ih,{}):t?(0,Ql.jsx)(oh,{loadingText:null!==i&&void 0!==i?i:"There has been an error, please try again later. Error-Code KOHQJ7"}):(0,Ql.jsx)(Ql.Fragment,{children:a})}function rh(e){var t=e.loadingText;return(0,Ql.jsxs)("div",{className:"flex-grow w-full flex-col flex items-center justify-center",children:[(0,Ql.jsx)("div",{className:"h-28 animate-bounce text-brand",children:zd.logo}),(0,Ql.jsx)("div",{className:"text-2xl p-6",children:null!==t&&void 0!==t?t:"Loading..."})]})}function ih(){return(0,Ql.jsxs)("div",{className:"w-full flex-grow flex-col flex items-center justify-center text-coolGray-300 p-8",children:[(0,Ql.jsx)("div",{className:"text-8xl font-bold",children:"404"}),(0,Ql.jsx)("div",{className:"text-2xl p-6 font-bold",children:"No posts found"}),(0,Ql.jsx)("div",{className:"text-md text-center px-8",children:"You have currently no posts liked. Click on the like button in the feed to add posts. If you are not logged in it is possible that likes will be lost after some time."})]})}function oh(e){var t=e.loadingText;return(0,Ql.jsxs)("div",{className:"w-full h-full flex-col flex items-center justify-center",children:[(0,Ql.jsx)(Zd,{className:"h-28 w-24"}),(0,Ql.jsx)("div",{className:"text-2xl p-6",children:t}),(0,Ql.jsx)(ah,{text:"Reload",onClick:function(){return window.location.reload()},icon:eh.REFRESH})]})}function ah(e){var t=e.text,n=e.onClick,r=e.icon,i=e.isSubmit;return(0,Ql.jsxs)("button",{className:"bg-brand border-brand text-light font-semibold py-2 px-4 rounded-full inline-flex items-center h-14",type:i?"submit":"button",onClick:n,children:[r&&(0,Ql.jsx)("div",{className:"fill-current w-4 h-4 mr-2",children:(0,Ql.jsx)(th,{})}),(0,Ql.jsx)("span",{className:"mx-auto",children:t})]})}function sh(e){var t=e.children;return Gl("".concat(t," - FikFap")),(0,Ql.jsx)("h1",{className:"text-3xl font-bold pb-8",children:t})}function uh(){var e=W();return(0,Ql.jsx)(Xd,{icon:zd.back,onClick:function(){window.history.state&&window.history.state.idx>0?e(-1):e("/")}})}function lh(){return window.history.state&&window.history.state.idx>0?(0,Ql.jsx)(uh,{}):null}function ch(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function fh(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nl(e)););return e}function dh(){return dh="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=fh(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},dh.apply(this,arguments)}!function(e){e.REFRESH="REFRESH"}(eh||(eh={}));var hh=Oh(),ph=function(e){return _h(e,hh)},vh=Oh();ph.write=function(e){return _h(e,vh)};var gh=Oh();ph.onStart=function(e){return _h(e,gh)};var mh=Oh();ph.onFrame=function(e){return _h(e,mh)};var yh=Oh();ph.onFinish=function(e){return _h(e,yh)};var bh=[];ph.setTimeout=function(e,t){var n=ph.now()+t,r={time:n,handler:e,cancel:function e(){var t=bh.findIndex((function(t){return t.cancel==e}));~t&&bh.splice(t,1),xh-=~t?1:0}};return bh.splice(wh(n),0,r),xh+=1,kh(),r};var wh=function(e){return~(~bh.findIndex((function(t){return t.time>e}))||~bh.length)};ph.cancel=function(e){gh.delete(e),mh.delete(e),yh.delete(e),hh.delete(e),vh.delete(e)},ph.sync=function(e){Th=!0,ph.batchedUpdates(e),Th=!1},ph.throttle=function(e){var t;function n(){try{e.apply(void 0,fl(t))}finally{t=null}}function r(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];t=r,ph.onStart(n)}return r.handler=e,r.cancel=function(){gh.delete(n),t=null},r};var Eh="undefined"!=typeof window?window.requestAnimationFrame:function(){};ph.use=function(e){return Eh=e},ph.now="undefined"!=typeof performance?function(){return performance.now()}:Date.now,ph.batchedUpdates=function(e){return e()},ph.catch=console.error,ph.frameLoop="always",ph.advance=function(){"demand"!==ph.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Ch()};var Sh=-1,xh=0,Th=!1;function _h(e,t){Th?(t.delete(e),e(0)):(t.add(e),kh())}function kh(){Sh<0&&(Sh=0,"demand"!==ph.frameLoop&&Eh(Ah))}function Ah(){~Sh&&(Eh(Ah),ph.batchedUpdates(Ch))}function Ch(){var e=Sh;Sh=ph.now();var t=wh(Sh);t&&(Ih(bh.splice(0,t),(function(e){return e.handler()})),xh-=t),xh?(gh.flush(),hh.flush(e?Math.min(64,Sh-e):16.667),mh.flush(),vh.flush(),yh.flush()):Sh=-1}function Oh(){var e=new Set,t=e;return{add:function(n){xh+=t!=e||e.has(n)?0:1,e.add(n)},delete:function(n){return xh-=t==e&&e.has(n)?1:0,e.delete(n)},flush:function(n){t.size&&(e=new Set,xh-=t.size,Ih(t,(function(t){return t(n)&&e.add(t)})),xh+=e.size,t=e)}}}function Ih(e,t){e.forEach((function(e){try{t(e)}catch(bc){ph.catch(bc)}}))}function Rh(){}var Lh={arr:Array.isArray,obj:function(e){return!!e&&"Object"===e.constructor.name},fun:function(e){return"function"===typeof e},str:function(e){return"string"===typeof e},num:function(e){return"number"===typeof e},und:function(e){return void 0===e}};function Dh(e,t){if(Lh.arr(e)){if(!Lh.arr(t)||e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}var Ph=function(e,t){return e.forEach(t)};function Nh(e,t,n){if(Lh.arr(e))for(var r=0;r<e.length;r++)t.call(n,e[r],"".concat(r));else for(var i in e)e.hasOwnProperty(i)&&t.call(n,e[i],i)}var Mh=function(e){return Lh.und(e)?[]:Lh.arr(e)?e:[e]};function jh(e,t){if(e.size){var n=Array.from(e);e.clear(),Ph(n,t)}}var Fh,Uh,Bh=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return jh(e,(function(e){return e.apply(void 0,n)}))},Hh=function(){return"undefined"===typeof window||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent)},Gh=null,Vh=!1,zh=Rh,Wh=function(e){e.to&&(Uh=e.to),e.now&&(ph.now=e.now),void 0!==e.colors&&(Gh=e.colors),null!=e.skipAnimation&&(Vh=e.skipAnimation),e.createStringInterpolator&&(Fh=e.createStringInterpolator),e.requestAnimationFrame&&ph.use(e.requestAnimationFrame),e.batchedUpdates&&(ph.batchedUpdates=e.batchedUpdates),e.willAdvance&&(zh=e.willAdvance),e.frameLoop&&(ph.frameLoop=e.frameLoop)},Kh=Object.freeze({__proto__:null,get createStringInterpolator(){return Fh},get to(){return Uh},get colors(){return Gh},get skipAnimation(){return Vh},get willAdvance(){return zh},assign:Wh}),qh=new Set,Yh=[],$h=[],Xh=0,Qh={get idle(){return!qh.size&&!Yh.length},start:function(e){Xh>e.priority?(qh.add(e),ph.onStart(Jh)):(Zh(e),ph(tp))},advance:tp,sort:function(e){if(Xh)ph.onFrame((function(){return Qh.sort(e)}));else{var t=Yh.indexOf(e);~t&&(Yh.splice(t,1),ep(e))}},clear:function(){Yh=[],qh.clear()}};function Jh(){qh.forEach(Zh),qh.clear(),ph(tp)}function Zh(e){Yh.includes(e)||ep(e)}function ep(e){Yh.splice(function(e,t){var n=e.findIndex(t);return n<0?e.length:n}(Yh,(function(t){return t.priority>e.priority})),0,e)}function tp(e){for(var t=$h,n=0;n<Yh.length;n++){var r=Yh[n];Xh=r.priority,r.idle||(zh(r),r.advance(e),r.idle||t.push(r))}return Xh=0,($h=Yh).length=0,(Yh=t).length>0}var np="[-+]?\\d*\\.?\\d+",rp=np+"%";function ip(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var op=new RegExp("rgb"+ip(np,np,np)),ap=new RegExp("rgba"+ip(np,np,np,np)),sp=new RegExp("hsl"+ip(np,rp,rp)),up=new RegExp("hsla"+ip(np,rp,rp,np)),lp=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,cp=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,fp=/^#([0-9a-fA-F]{6})$/,dp=/^#([0-9a-fA-F]{8})$/;function hp(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function pp(e,t,n){var r=n<.5?n*(1+t):n+t-n*t,i=2*n-r,o=hp(i,r,e+1/3),a=hp(i,r,e),s=hp(i,r,e-1/3);return Math.round(255*o)<<24|Math.round(255*a)<<16|Math.round(255*s)<<8}function vp(e){var t=parseInt(e,10);return t<0?0:t>255?255:t}function gp(e){return(parseFloat(e)%360+360)%360/360}function mp(e){var t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function yp(e){var t=parseFloat(e);return t<0?0:t>100?1:t/100}function bp(e){var t=function(e){var t;return"number"===typeof e?e>>>0===e&&e>=0&&e<=4294967295?e:null:(t=fp.exec(e))?parseInt(t[1]+"ff",16)>>>0:Gh&&void 0!==Gh[e]?Gh[e]:(t=op.exec(e))?(vp(t[1])<<24|vp(t[2])<<16|vp(t[3])<<8|255)>>>0:(t=ap.exec(e))?(vp(t[1])<<24|vp(t[2])<<16|vp(t[3])<<8|mp(t[4]))>>>0:(t=lp.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=dp.exec(e))?parseInt(t[1],16)>>>0:(t=cp.exec(e))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=sp.exec(e))?(255|pp(gp(t[1]),yp(t[2]),yp(t[3])))>>>0:(t=up.exec(e))?(pp(gp(t[1]),yp(t[2]),yp(t[3]))|mp(t[4]))>>>0:null}(e);if(null===t)return e;var n=(16711680&(t=t||0))>>>16,r=(65280&t)>>>8,i=(255&t)/255;return"rgba(".concat((4278190080&t)>>>24,", ").concat(n,", ").concat(r,", ").concat(i,")")}var wp=function e(t,n,r){if(Lh.fun(t))return t;if(Lh.arr(t))return e({range:t,output:n,extrapolate:r});if(Lh.str(t.output[0]))return Fh(t);var i=t,o=i.output,a=i.range||[0,1],s=i.extrapolateLeft||i.extrapolate||"extend",u=i.extrapolateRight||i.extrapolate||"extend",l=i.easing||function(e){return e};return function(e){var t=function(e,t){for(var n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,a);return function(e,t,n,r,i,o,a,s,u){var l=u?u(e):e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,a[t],a[t+1],o[t],o[t+1],l,s,u,i.map)}};function Ep(){return Ep=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ep.apply(this,arguments)}var Sp=Symbol.for("FluidValue.get"),xp=Symbol.for("FluidValue.observers"),Tp=function(e){return Boolean(e&&e[Sp])},_p=function(e){return e&&e[Sp]?e[Sp]():e},kp=function(e){return e[xp]||null};function Ap(e,t){var n=e[xp];n&&n.forEach((function(e){!function(e,t){e.eventObserved?e.eventObserved(t):e(t)}(e,t)}))}var Cp=Zu((function e(t){if(Qu(this,e),this[Sp]=void 0,this[xp]=void 0,!t&&!(t=this.get))throw Error("Unknown getter");Op(this,t)})),Op=function(e,t){return Dp(e,Sp,t)};function Ip(e,t){if(e[Sp]){var n=e[xp];n||Dp(e,xp,n=new Set),n.has(t)||(n.add(t),e.observerAdded&&e.observerAdded(n.size,t))}return t}function Rp(e,t){var n=e[xp];if(n&&n.has(t)){var r=n.size-1;r?n.delete(t):e[xp]=null,e.observerRemoved&&e.observerRemoved(r,t)}}var Lp,Dp=function(e,t,n){return Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})},Pp=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Np=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,Mp=new RegExp("(".concat(Pp.source,")(%|[a-z]+)"),"i"),jp=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Fp=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,Up=function e(t){var n=l(Bp(t),2),r=n[0],i=n[1];if(!r||Hh())return t;var o=window.getComputedStyle(document.documentElement).getPropertyValue(r);if(o)return o.trim();if(i&&i.startsWith("--")){var a=window.getComputedStyle(document.documentElement).getPropertyValue(i);return a||t}return i&&Fp.test(i)?e(i):i||t},Bp=function(e){var t=Fp.exec(e);if(!t)return[,];var n=l(t,3);return[n[1],n[2]]},Hp=function(e,t,n,r,i){return"rgba(".concat(Math.round(t),", ").concat(Math.round(n),", ").concat(Math.round(r),", ").concat(i,")")},Gp=function(e){Lp||(Lp=Gh?new RegExp("(".concat(Object.keys(Gh).join("|"),")(?!\\w)"),"g"):/^\b$/);var t=e.output.map((function(e){return _p(e).replace(Fp,Up).replace(Np,bp).replace(Lp,bp)})),n=t.map((function(e){return e.match(Pp).map(Number)})),r=n[0].map((function(e,t){return n.map((function(e){if(!(t in e))throw Error('The arity of each "output" value must be equal');return e[t]}))})),i=r.map((function(t){return wp(Ep({},e,{output:t}))}));return function(e){var n,r=!Mp.test(t[0])&&(null==(n=t.find((function(e){return Mp.test(e)})))?void 0:n.replace(Pp,"")),o=0;return t[0].replace(Pp,(function(){return"".concat(i[o++](e)).concat(r||"")})).replace(jp,Hp)}},Vp="react-spring: ",zp=function(e){var t=e,n=!1;if("function"!=typeof t)throw new TypeError("".concat(Vp,"once requires a function parameter"));return function(){n||(t.apply(void 0,arguments),n=!0)}},Wp=zp(console.warn);function Kp(){Wp("".concat(Vp,'The "interpolate" function is deprecated in v9 (use "to" instead)'))}var qp=zp(console.warn);function Yp(e){return Lh.str(e)&&("#"==e[0]||/\d/.test(e)||!Hh()&&Fp.test(e)||e in(Gh||{}))}var $p=Hh()?r.useEffect:r.useLayoutEffect;function Xp(){var e=(0,r.useState)()[1],t=function(){var e=(0,r.useRef)(!1);return $p((function(){return e.current=!0,function(){e.current=!1}}),[]),e}();return function(){t.current&&e(Math.random())}}var Qp=function(e){return(0,r.useEffect)(e,Jp)},Jp=[];function Zp(e){var t=(0,r.useRef)();return(0,r.useEffect)((function(){t.current=e})),t.current}var ev=Symbol.for("Animated:node"),tv=function(e){return e&&e[ev]},nv=function(e,t){return n=e,r=ev,i=t,Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0});var n,r,i},rv=function(e){return e&&e[ev]&&e[ev].getPayload()},iv=function(){function e(){Qu(this,e),this.payload=void 0,nv(this,this)}return Zu(e,[{key:"getPayload",value:function(){return this.payload||[]}}]),e}(),ov=function(e){tl(n,e);var t=al(n);function n(e){var r;return Qu(this,n),(r=t.call(this)).done=!0,r.elapsedTime=void 0,r.lastPosition=void 0,r.lastVelocity=void 0,r.v0=void 0,r.durationProgress=0,r._value=e,Lh.num(r._value)&&(r.lastPosition=r._value),r}return Zu(n,[{key:"getPayload",value:function(){return[this]}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(e,t){return Lh.num(e)&&(this.lastPosition=e,t&&(e=Math.round(e/t)*t,this.done&&(this.lastPosition=e))),this._value!==e&&(this._value=e,!0)}},{key:"reset",value:function(){var e=this.done;this.done=!1,Lh.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,e&&(this.lastVelocity=null),this.v0=null)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(iv),av=function(e){tl(n,e);var t=al(n);function n(e){var r;return Qu(this,n),(r=t.call(this,0))._string=null,r._toString=void 0,r._toString=wp({output:[e,e]}),r}return Zu(n,[{key:"getValue",value:function(){var e=this._string;return null==e?this._string=this._toString(this._value):e}},{key:"setValue",value:function(e){if(Lh.str(e)){if(e==this._string)return!1;this._string=e,this._value=1}else{if(!dh(nl(n.prototype),"setValue",this).call(this,e))return!1;this._string=null}return!0}},{key:"reset",value:function(e){e&&(this._toString=wp({output:[this.getValue(),e]})),this._value=0,dh(nl(n.prototype),"reset",this).call(this)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(ov),sv={dependencies:null},uv=function(e){tl(n,e);var t=al(n);function n(e){var r;return Qu(this,n),(r=t.call(this)).source=e,r.setValue(e),r}return Zu(n,[{key:"getValue",value:function(e){var t={};return Nh(this.source,(function(n,r){var i;(i=n)&&i[ev]===i?t[r]=n.getValue(e):Tp(n)?t[r]=_p(n):e||(t[r]=n)})),t}},{key:"setValue",value:function(e){this.source=e,this.payload=this._makePayload(e)}},{key:"reset",value:function(){this.payload&&Ph(this.payload,(function(e){return e.reset()}))}},{key:"_makePayload",value:function(e){if(e){var t=new Set;return Nh(e,this._addToPayload,t),Array.from(t)}}},{key:"_addToPayload",value:function(e){var t=this;sv.dependencies&&Tp(e)&&sv.dependencies.add(e);var n=rv(e);n&&Ph(n,(function(e){return t.add(e)}))}}]),n}(iv),lv=function(e){tl(n,e);var t=al(n);function n(e){return Qu(this,n),t.call(this,e)}return Zu(n,[{key:"getValue",value:function(){return this.source.map((function(e){return e.getValue()}))}},{key:"setValue",value:function(e){var t=this.getPayload();return e.length==t.length?t.map((function(t,n){return t.setValue(e[n])})).some(Boolean):(dh(nl(n.prototype),"setValue",this).call(this,e.map(cv)),!0)}}],[{key:"create",value:function(e){return new n(e)}}]),n}(uv);function cv(e){return(Yp(e)?av:ov).create(e)}function fv(e){var t=tv(e);return t?t.constructor:Lh.arr(e)?lv:Yp(e)?av:ov}function dv(){return dv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dv.apply(this,arguments)}var hv=function(e,t){var n=!Lh.fun(e)||e.prototype&&e.prototype.isReactComponent;return(0,r.forwardRef)((function(i,o){var a=(0,r.useRef)(null),s=n&&(0,r.useCallback)((function(e){a.current=function(e,t){e&&(Lh.fun(e)?e(t):e.current=t);return t}(o,e)}),[o]),u=function(e,t){var n=new Set;sv.dependencies=n,e.style&&(e=dv({},e,{style:t.createAnimatedStyle(e.style)}));return e=new uv(e),sv.dependencies=null,[e,n]}(i,t),c=l(u,2),f=c[0],d=c[1],h=Xp(),p=function(){var e=a.current;n&&!e||!1===(!!e&&t.applyAnimatedValues(e,f.getValue(!0)))&&h()},v=new pv(p,d),g=(0,r.useRef)();$p((function(){return g.current=v,Ph(d,(function(e){return Ip(e,v)})),function(){g.current&&(Ph(g.current.deps,(function(e){return Rp(e,g.current)})),ph.cancel(g.current.update))}})),(0,r.useEffect)(p,[]),Qp((function(){return function(){var e=g.current;Ph(e.deps,(function(t){return Rp(t,e)}))}}));var m=t.getComponentProps(f.getValue());return r.createElement(e,dv({},m,{ref:s}))}))},pv=function(){function e(t,n){Qu(this,e),this.update=t,this.deps=n}return Zu(e,[{key:"eventObserved",value:function(e){"change"==e.type&&ph.write(this.update)}}]),e}();var vv=Symbol.for("AnimatedComponent"),gv=function(e){return Lh.str(e)?e:e&&Lh.str(e.displayName)?e.displayName:Lh.fun(e)&&e.name||null};function mv(){return mv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mv.apply(this,arguments)}function yv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Lh.fun(e)?e.apply(void 0,n):e}var bv=function(e,t){return!0===e||!!(t&&e&&(Lh.fun(e)?e(t):Mh(e).includes(t)))},wv=function(e,t){return Lh.obj(e)?t&&e[t]:e},Ev=function(e,t){return!0===e.default?e[t]:e.default?e.default[t]:void 0},Sv=function(e){return e},xv=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Sv,n=Tv;e.default&&!0!==e.default&&(e=e.default,n=Object.keys(e));var r,i={},o=qu(n);try{for(o.s();!(r=o.n()).done;){var a=r.value,s=t(e[a],a);Lh.und(s)||(i[a]=s)}}catch(u){o.e(u)}finally{o.f()}return i},Tv=["config","onProps","onStart","onChange","onPause","onResume","onRest"],_v={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function kv(e){var t=function(e){var t={},n=0;if(Nh(e,(function(e,r){_v[r]||(t[r]=e,n++)})),n)return t}(e);if(t){var n={to:t};return Nh(e,(function(e,r){return r in t||(n[r]=e)})),n}return mv({},e)}function Av(e){return e=_p(e),Lh.arr(e)?e.map(Av):Yp(e)?Kh.createStringInterpolator({range:[0,1],output:[e,e]})(1):e}function Cv(e){for(var t in e)return!0;return!1}function Ov(e){return Lh.fun(e)||Lh.arr(e)&&Lh.obj(e[0])}function Iv(e,t){var n;null==(n=e.ref)||n.delete(e),null==t||t.delete(e)}function Rv(e,t){var n;t&&e.ref!==t&&(null==(n=e.ref)||n.delete(e),t.add(e),e.ref=t)}var Lv=1.70158,Dv=1.525*Lv,Pv=Lv+1,Nv=2*Math.PI/3,Mv=2*Math.PI/4.5,jv=function(e){var t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},Fv=mv({},{tension:170,friction:26},{mass:1,damping:1,easing:{linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return 1-(1-e)*(1-e)},easeInOutQuad:function(e){return e<.5?2*e*e:1-Math.pow(-2*e+2,2)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return 1-Math.pow(1-e,3)},easeInOutCubic:function(e){return e<.5?4*e*e*e:1-Math.pow(-2*e+2,3)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-Math.pow(1-e,4)},easeInOutQuart:function(e){return e<.5?8*e*e*e*e:1-Math.pow(-2*e+2,4)/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return 1-Math.pow(1-e,5)},easeInOutQuint:function(e){return e<.5?16*e*e*e*e*e:1-Math.pow(-2*e+2,5)/2},easeInSine:function(e){return 1-Math.cos(e*Math.PI/2)},easeOutSine:function(e){return Math.sin(e*Math.PI/2)},easeInOutSine:function(e){return-(Math.cos(Math.PI*e)-1)/2},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*e-10)},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2},easeInCirc:function(e){return 1-Math.sqrt(1-Math.pow(e,2))},easeOutCirc:function(e){return Math.sqrt(1-Math.pow(e-1,2))},easeInOutCirc:function(e){return e<.5?(1-Math.sqrt(1-Math.pow(2*e,2)))/2:(Math.sqrt(1-Math.pow(-2*e+2,2))+1)/2},easeInBack:function(e){return Pv*e*e*e-Lv*e*e},easeOutBack:function(e){return 1+Pv*Math.pow(e-1,3)+Lv*Math.pow(e-1,2)},easeInOutBack:function(e){return e<.5?Math.pow(2*e,2)*(7.189819*e-Dv)/2:(Math.pow(2*e-2,2)*((Dv+1)*(2*e-2)+Dv)+2)/2},easeInElastic:function(e){return 0===e?0:1===e?1:-Math.pow(2,10*e-10)*Math.sin((10*e-10.75)*Nv)},easeOutElastic:function(e){return 0===e?0:1===e?1:Math.pow(2,-10*e)*Math.sin((10*e-.75)*Nv)+1},easeInOutElastic:function(e){return 0===e?0:1===e?1:e<.5?-Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*Mv)/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*Mv)/2+1},easeInBounce:function(e){return 1-jv(1-e)},easeOutBounce:jv,easeInOutBounce:function(e){return e<.5?(1-jv(1-2*e))/2:(1+jv(2*e-1))/2}}.linear,clamp:!1}),Uv=Zu((function e(){Qu(this,e),this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,Fv)}));function Bv(e,t){if(Lh.und(t.decay)){var n=!Lh.und(t.tension)||!Lh.und(t.friction);!n&&Lh.und(t.frequency)&&Lh.und(t.damping)&&Lh.und(t.mass)||(e.duration=void 0,e.decay=void 0),n&&(e.frequency=void 0)}else e.duration=void 0}var Hv=[],Gv=Zu((function e(){Qu(this,e),this.changed=!1,this.values=Hv,this.toValues=null,this.fromValues=Hv,this.to=void 0,this.from=void 0,this.config=new Uv,this.immediate=!1}));function Vv(e,t){var n=t.key,r=t.props,i=t.defaultProps,o=t.state,a=t.actions;return new Promise((function(t,s){var u,l,c,f=bv(null!=(u=r.cancel)?u:null==i?void 0:i.cancel,n);if(f)v();else{Lh.und(r.pause)||(o.paused=bv(r.pause,n));var d=null==i?void 0:i.pause;!0!==d&&(d=o.paused||bv(d,n)),l=yv(r.delay||0,n),d?(o.resumeQueue.add(p),a.pause()):(a.resume(),p())}function h(){o.resumeQueue.add(p),o.timeouts.delete(c),c.cancel(),l=c.time-ph.now()}function p(){l>0&&!Kh.skipAnimation?(o.delayed=!0,c=ph.setTimeout(v,l),o.pauseQueue.add(h),o.timeouts.add(c)):v()}function v(){o.delayed&&(o.delayed=!1),o.pauseQueue.delete(h),o.timeouts.delete(c),e<=(o.cancelId||0)&&(f=!0);try{a.start(mv({},r,{callId:e,cancel:f}),t)}catch(n){s(n)}}}))}var zv=function(e,t){return 1==t.length?t[0]:t.some((function(e){return e.cancelled}))?qv(e.get()):t.every((function(e){return e.noop}))?Wv(e.get()):Kv(e.get(),t.every((function(e){return e.finished})))},Wv=function(e){return{value:e,noop:!0,finished:!0,cancelled:!1}},Kv=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{value:e,finished:t,cancelled:n}},qv=function(e){return{value:e,cancelled:!0,finished:!1}};function Yv(e,t,n,r){var i=t.callId,o=t.parentId,a=t.onRest,s=n.asyncTo,u=n.promise;return o||e!==s||t.reset?n.promise=h(f().mark((function l(){var c,d,p,v,g,m,y,b;return f().wrap((function(l){for(;;)switch(l.prev=l.next){case 0:if(n.asyncId=i,n.asyncTo=e,c=xv(t,(function(e,t){return"onRest"===t?void 0:e})),v=new Promise((function(e,t){return d=e,p=t})),g=function(e){var t=i<=(n.cancelId||0)&&qv(r)||i!==n.asyncId&&Kv(r,!1);if(t)throw e.result=t,p(e),e},m=function(e,t){var o=new Xv,a=new Qv;return h(f().mark((function s(){var u,l;return f().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(!Kh.skipAnimation){s.next=5;break}throw $v(n),a.result=Kv(r,!1),p(a),a;case 5:return g(o),(u=Lh.obj(e)?mv({},e):mv({},t,{to:e})).parentId=i,Nh(c,(function(e,t){Lh.und(u[t])&&(u[t]=e)})),s.next=11,r.start(u);case 11:if(l=s.sent,g(o),!n.paused){s.next=16;break}return s.next=16,new Promise((function(e){n.resumeQueue.add(e)}));case 16:return s.abrupt("return",l);case 17:case"end":return s.stop()}}),s)})))()},!Kh.skipAnimation){l.next=9;break}return $v(n),l.abrupt("return",Kv(r,!1));case 9:return l.prev=9,b=Lh.arr(e)?function(){var e=h(f().mark((function e(t){var n,r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=qu(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,m(i);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()(e):Promise.resolve(e(m,r.stop.bind(r))),l.next=13,Promise.all([b.then(d),v]);case 13:y=Kv(r.get(),!0,!1),l.next=27;break;case 16:if(l.prev=16,l.t0=l.catch(9),!(l.t0 instanceof Xv)){l.next=22;break}y=l.t0.result,l.next=27;break;case 22:if(!(l.t0 instanceof Qv)){l.next=26;break}y=l.t0.result,l.next=27;break;case 26:throw l.t0;case 27:return l.prev=27,i==n.asyncId&&(n.asyncId=o,n.asyncTo=o?s:void 0,n.promise=o?u:void 0),l.finish(27);case 30:return Lh.fun(a)&&ph.batchedUpdates((function(){a(y,r,r.item)})),l.abrupt("return",y);case 32:case"end":return l.stop()}}),l,null,[[9,16,27,30]])})))():u}function $v(e,t){jh(e.timeouts,(function(e){return e.cancel()})),e.pauseQueue.clear(),e.resumeQueue.clear(),e.asyncId=e.asyncTo=e.promise=void 0,t&&(e.cancelId=t)}var Xv=function(e){tl(n,e);var t=al(n);function n(){var e;return Qu(this,n),(e=t.call(this,"An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")).result=void 0,e}return Zu(n)}(ul(Error)),Qv=function(e){tl(n,e);var t=al(n);function n(){var e;return Qu(this,n),(e=t.call(this,"SkipAnimationSignal")).result=void 0,e}return Zu(n)}(ul(Error)),Jv=function(e){return e instanceof eg},Zv=1,eg=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).id=Zv++,e.key=void 0,e._priority=0,e}return Zu(n,[{key:"priority",get:function(){return this._priority},set:function(e){this._priority!=e&&(this._priority=e,this._onPriorityChange(e))}},{key:"get",value:function(){var e=tv(this);return e&&e.getValue()}},{key:"to",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kh.to(this,t)}},{key:"interpolate",value:function(){Kp();for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Kh.to(this,t)}},{key:"toJSON",value:function(){return this.get()}},{key:"observerAdded",value:function(e){1==e&&this._attach()}},{key:"observerRemoved",value:function(e){0==e&&this._detach()}},{key:"_attach",value:function(){}},{key:"_detach",value:function(){}},{key:"_onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Ap(this,{type:"change",parent:this,value:e,idle:t})}},{key:"_onPriorityChange",value:function(e){this.idle||Qh.sort(this),Ap(this,{type:"priority",parent:this,priority:e})}}]),n}(Cp),tg=Symbol.for("SpringPhase"),ng=function(e){return(1&e[tg])>0},rg=function(e){return(2&e[tg])>0},ig=function(e){return(4&e[tg])>0},og=function(e,t){return t?e[tg]|=3:e[tg]&=-3},ag=function(e,t){return t?e[tg]|=4:e[tg]&=-5},sg=function(e){tl(n,e);var t=al(n);function n(e,r){var i;if(Qu(this,n),(i=t.call(this)).key=void 0,i.animation=new Gv,i.queue=void 0,i.defaultProps={},i._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},i._pendingCalls=new Set,i._lastCallId=0,i._lastToId=0,i._memoizedDuration=0,!Lh.und(e)||!Lh.und(r)){var o=Lh.obj(e)?mv({},e):mv({},r,{from:e});Lh.und(o.default)&&(o.default=!0),i.start(o)}return i}return Zu(n,[{key:"idle",get:function(){return!(rg(this)||this._state.asyncTo)||ig(this)}},{key:"goal",get:function(){return _p(this.animation.to)}},{key:"velocity",get:function(){var e=tv(this);return e instanceof ov?e.lastVelocity||0:e.getPayload().map((function(e){return e.lastVelocity||0}))}},{key:"hasAnimated",get:function(){return ng(this)}},{key:"isAnimating",get:function(){return rg(this)}},{key:"isPaused",get:function(){return ig(this)}},{key:"isDelayed",get:function(){return this._state.delayed}},{key:"advance",value:function(e){var t=this,n=!0,r=!1,i=this.animation,o=i.config,a=i.toValues,s=rv(i.to);!s&&Tp(i.to)&&(a=Mh(_p(i.to))),i.values.forEach((function(u,l){if(!u.done){var c=u.constructor==av?1:s?s[l].lastPosition:a[l],f=i.immediate,d=c;if(!f){if(d=u.lastPosition,o.tension<=0)return void(u.done=!0);var h,p=u.elapsedTime+=e,v=i.fromValues[l],g=null!=u.v0?u.v0:u.v0=Lh.arr(o.velocity)?o.velocity[l]:o.velocity;if(Lh.und(o.duration))if(o.decay){var m=!0===o.decay?.998:o.decay,y=Math.exp(-(1-m)*p);d=v+g/(1-m)*(1-y),f=Math.abs(u.lastPosition-d)<.1,h=g*y}else{h=null==u.lastVelocity?g:u.lastVelocity;for(var b=o.precision||(v==c?.005:Math.min(1,.001*Math.abs(c-v))),w=o.restVelocity||b/10,E=o.clamp?0:o.bounce,S=!Lh.und(E),x=v==c?u.v0>0:v<c,T=Math.ceil(e/1),_=0;_<T&&(Math.abs(h)>w||!(f=Math.abs(c-d)<=b));++_){S&&(d==c||d>c==x)&&(h=-h*E,d=c),d+=1*(h+=1*((1e-6*-o.tension*(d-c)+.001*-o.friction*h)/o.mass))}}else{var k=1;o.duration>0&&(t._memoizedDuration!==o.duration&&(t._memoizedDuration=o.duration,u.durationProgress>0&&(u.elapsedTime=o.duration*u.durationProgress,p=u.elapsedTime+=e)),k=(k=(o.progress||0)+p/t._memoizedDuration)>1?1:k<0?0:k,u.durationProgress=k),h=((d=v+o.easing(k)*(c-v))-u.lastPosition)/e,f=1==k}u.lastVelocity=h,Number.isNaN(d)&&(console.warn("Got NaN while animating:",t),f=!0)}s&&!s[l].done&&(f=!1),f?u.done=!0:n=!1,u.setValue(d,o.round)&&(r=!0)}}));var u=tv(this),l=u.getValue();if(n){var c=_p(i.to);l===c&&!r||o.decay?r&&o.decay&&this._onChange(l):(u.setValue(c),this._onChange(c)),this._stop()}else r&&this._onChange(l)}},{key:"set",value:function(e){var t=this;return ph.batchedUpdates((function(){t._stop(),t._focus(e),t._set(e)})),this}},{key:"pause",value:function(){this._update({pause:!0})}},{key:"resume",value:function(){this._update({pause:!1})}},{key:"finish",value:function(){var e=this;if(rg(this)){var t=this.animation,n=t.to,r=t.config;ph.batchedUpdates((function(){e._onStart(),r.decay||e._set(n,!1),e._stop()}))}return this}},{key:"update",value:function(e){return(this.queue||(this.queue=[])).push(e),this}},{key:"start",value:function(e,t){var n,r=this;return Lh.und(e)?(n=this.queue||[],this.queue=[]):n=[Lh.obj(e)?e:mv({},t,{to:e})],Promise.all(n.map((function(e){return r._update(e)}))).then((function(e){return zv(r,e)}))}},{key:"stop",value:function(e){var t=this,n=this.animation.to;return this._focus(this.get()),$v(this._state,e&&this._lastCallId),ph.batchedUpdates((function(){return t._stop(n,e)})),this}},{key:"reset",value:function(){this._update({reset:!0})}},{key:"eventObserved",value:function(e){"change"==e.type?this._start():"priority"==e.type&&(this.priority=e.priority+1)}},{key:"_prepareNode",value:function(e){var t=this.key||"",n=e.to,r=e.from;(null==(n=Lh.obj(n)?n[t]:n)||Ov(n))&&(n=void 0),null==(r=Lh.obj(r)?r[t]:r)&&(r=void 0);var i={to:n,from:r};if(!ng(this)){if(e.reverse){var o=[r,n];n=o[0],r=o[1]}r=_p(r),Lh.und(r)?tv(this)||this._set(n):this._set(r)}return i}},{key:"_update",value:function(e,t){var n=this,r=mv({},e),i=this.key,o=this.defaultProps;r.default&&Object.assign(o,xv(r,(function(e,t){return/^on/.test(t)?wv(e,i):e}))),pg(this,r,"onProps"),vg(this,"onProps",r,this);var a=this._prepareNode(r);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");var s=this._state;return Vv(++this._lastCallId,{key:i,props:r,defaultProps:o,state:s,actions:{pause:function(){ig(n)||(ag(n,!0),Bh(s.pauseQueue),vg(n,"onPause",Kv(n,ug(n,n.animation.to)),n))},resume:function(){ig(n)&&(ag(n,!1),rg(n)&&n._resume(),Bh(s.resumeQueue),vg(n,"onResume",Kv(n,ug(n,n.animation.to)),n))},start:this._merge.bind(this,a)}}).then((function(e){if(r.loop&&e.finished&&(!t||!e.noop)){var i=lg(r);if(i)return n._update(i,!0)}return e}))}},{key:"_merge",value:function(e,t,n){var r=this;if(t.cancel)return this.stop(!0),n(qv(this));var i=!Lh.und(e.to),o=!Lh.und(e.from);if(i||o){if(!(t.callId>this._lastToId))return n(qv(this));this._lastToId=t.callId}var a=this.key,s=this.defaultProps,u=this.animation,l=u.to,c=u.from,f=e.to,d=void 0===f?l:f,h=e.from,p=void 0===h?c:h;if(!o||i||t.default&&!Lh.und(d)||(d=p),t.reverse){var v=[p,d];d=v[0],p=v[1]}var g=!Dh(p,c);g&&(u.from=p),p=_p(p);var m=!Dh(d,l);m&&this._focus(d);var y=Ov(t.to),b=u.config,w=b.decay,E=b.velocity;(i||o)&&(b.velocity=0),t.config&&!y&&function(e,t,n){for(var r in n&&(Bv(n=mv({},n),t),t=mv({},n,t)),Bv(e,t),Object.assign(e,t),Fv)null==e[r]&&(e[r]=Fv[r]);var i=e.mass,o=e.frequency,a=e.damping;Lh.und(o)||(o<.01&&(o=.01),a<0&&(a=0),e.tension=Math.pow(2*Math.PI/o,2)*i,e.friction=4*Math.PI*a*i/o)}(b,yv(t.config,a),t.config!==s.config?yv(s.config,a):void 0);var S=tv(this);if(!S||Lh.und(d))return n(Kv(this,!0));var x=Lh.und(t.reset)?o&&!t.default:!Lh.und(p)&&bv(t.reset,a),T=x?p:this.get(),_=Av(d),k=Lh.num(_)||Lh.arr(_)||Yp(_),A=!y&&(!k||bv(s.immediate||t.immediate,a));if(m){var C=fv(d);if(C!==S.constructor){if(!A)throw Error("Cannot animate between ".concat(S.constructor.name," and ").concat(C.name,', as the "to" prop suggests'));S=this._set(_)}}var O=S.constructor,I=Tp(d),R=!1;if(!I){var L=x||!ng(this)&&g;(m||L)&&(I=!(R=Dh(Av(T),_))),(Dh(u.immediate,A)||A)&&Dh(b.decay,w)&&Dh(b.velocity,E)||(I=!0)}if(R&&rg(this)&&(u.changed&&!x?I=!0:I||this._stop(l)),!y&&((I||Tp(l))&&(u.values=S.getPayload(),u.toValues=Tp(d)?null:O==av?[1]:Mh(_)),u.immediate!=A&&(u.immediate=A,A||x||this._set(l)),I)){var D=u.onRest;Ph(hg,(function(e){return pg(r,t,e)}));var P=Kv(this,ug(this,l));Bh(this._pendingCalls,P),this._pendingCalls.add(n),u.changed&&ph.batchedUpdates((function(){u.changed=!x,null==D||D(P,r),x?yv(s.onRest,P):null==u.onStart||u.onStart(P,r)}))}x&&this._set(T),y?n(Yv(t.to,t,this._state,this)):I?this._start():rg(this)&&!m?this._pendingCalls.add(n):n(Wv(T))}},{key:"_focus",value:function(e){var t=this.animation;e!==t.to&&(kp(this)&&this._detach(),t.to=e,kp(this)&&this._attach())}},{key:"_attach",value:function(){var e=0,t=this.animation.to;Tp(t)&&(Ip(t,this),Jv(t)&&(e=t.priority+1)),this.priority=e}},{key:"_detach",value:function(){var e=this.animation.to;Tp(e)&&Rp(e,this)}},{key:"_set",value:function(e){var t=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=_p(e);if(!Lh.und(r)){var i=tv(this);if(!i||!Dh(r,i.getValue())){var o=fv(r);i&&i.constructor==o?i.setValue(r):nv(this,o.create(r)),i&&ph.batchedUpdates((function(){t._onChange(r,n)}))}}return tv(this)}},{key:"_onStart",value:function(){var e=this.animation;e.changed||(e.changed=!0,vg(this,"onStart",Kv(this,ug(this,e.to)),this))}},{key:"_onChange",value:function(e,t){t||(this._onStart(),yv(this.animation.onChange,e,this)),yv(this.defaultProps.onChange,e,this),dh(nl(n.prototype),"_onChange",this).call(this,e,t)}},{key:"_start",value:function(){var e=this.animation;tv(this).reset(_p(e.to)),e.immediate||(e.fromValues=e.values.map((function(e){return e.lastPosition}))),rg(this)||(og(this,!0),ig(this)||this._resume())}},{key:"_resume",value:function(){Kh.skipAnimation?this.finish():Qh.start(this)}},{key:"_stop",value:function(e,t){if(rg(this)){og(this,!1);var n=this.animation;Ph(n.values,(function(e){e.done=!0})),n.toValues&&(n.onChange=n.onPause=n.onResume=void 0),Ap(this,{type:"idle",parent:this});var r=t?qv(this.get()):Kv(this.get(),ug(this,null!=e?e:n.to));Bh(this._pendingCalls,r),n.changed&&(n.changed=!1,vg(this,"onRest",r,this))}}}]),n}(eg);function ug(e,t){var n=Av(t);return Dh(Av(e.get()),n)}function lg(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.loop,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.to,r=yv(t);if(r){var i=!0!==r&&kv(r),o=(i||e).reverse,a=!i||i.reset;return cg(mv({},e,{loop:t,default:!1,pause:void 0,to:!o||Ov(n)?n:void 0,from:a?e.from:void 0,reset:a},i))}}function cg(e){var t=e=kv(e),n=t.to,r=t.from,i=new Set;return Lh.obj(n)&&dg(n,i),Lh.obj(r)&&dg(r,i),e.keys=i.size?Array.from(i):null,e}function fg(e){var t=cg(e);return Lh.und(t.default)&&(t.default=xv(t)),t}function dg(e,t){Nh(e,(function(e,n){return null!=e&&t.add(n)}))}var hg=["onStart","onRest","onChange","onPause","onResume"];function pg(e,t,n){e.animation[n]=t[n]!==Ev(t,n)?wv(t[n],e.key):void 0}function vg(e,t){for(var n,r,i,o,a,s,u=arguments.length,l=new Array(u>2?u-2:0),c=2;c<u;c++)l[c-2]=arguments[c];null==(i=(o=e.animation)[t])||(n=i).call.apply(n,[o].concat(l)),null==(a=(s=e.defaultProps)[t])||(r=a).call.apply(r,[s].concat(l))}var gg=["onStart","onChange","onRest"],mg=1,yg=function(){function e(t,n){Qu(this,e),this.id=mg++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),n&&(this._flush=n),t&&this.start(mv({default:!0},t))}return Zu(e,[{key:"idle",get:function(){return!this._state.asyncTo&&Object.values(this.springs).every((function(e){return e.idle&&!e.isDelayed&&!e.isPaused}))}},{key:"item",get:function(){return this._item},set:function(e){this._item=e}},{key:"get",value:function(){var e={};return this.each((function(t,n){return e[n]=t.get()})),e}},{key:"set",value:function(e){for(var t in e){var n=e[t];Lh.und(n)||this.springs[t].set(n)}}},{key:"update",value:function(e){return e&&this.queue.push(cg(e)),this}},{key:"start",value:function(e){var t=this.queue;return e?t=Mh(e).map(cg):this.queue=[],this._flush?this._flush(this,t):(kg(this,t),bg(this,t))}},{key:"stop",value:function(e,t){if(e!==!!e&&(t=e),t){var n=this.springs;Ph(Mh(t),(function(t){return n[t].stop(!!e)}))}else $v(this._state,this._lastAsyncId),this.each((function(t){return t.stop(!!e)}));return this}},{key:"pause",value:function(e){if(Lh.und(e))this.start({pause:!0});else{var t=this.springs;Ph(Mh(e),(function(e){return t[e].pause()}))}return this}},{key:"resume",value:function(e){if(Lh.und(e))this.start({pause:!1});else{var t=this.springs;Ph(Mh(e),(function(e){return t[e].resume()}))}return this}},{key:"each",value:function(e){Nh(this.springs,e)}},{key:"_onFrame",value:function(){var e=this,t=this._events,n=t.onStart,r=t.onChange,i=t.onRest,o=this._active.size>0,a=this._changed.size>0;(o&&!this._started||a&&!this._started)&&(this._started=!0,jh(n,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=e.get(),r(i,e,e._item)})));var s=!o&&this._started,u=a||s&&i.size?this.get():null;a&&r.size&&jh(r,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})),s&&(this._started=!1,jh(i,(function(t){var n=l(t,2),r=n[0],i=n[1];i.value=u,r(i,e,e._item)})))}},{key:"eventObserved",value:function(e){if("change"==e.type)this._changed.add(e.parent),e.idle||this._active.add(e.parent);else{if("idle"!=e.type)return;this._active.delete(e.parent)}ph.onFrame(this._onFrame)}}]),e}();function bg(e,t){return Promise.all(t.map((function(t){return wg(e,t)}))).then((function(t){return zv(e,t)}))}function wg(e,t,n){return Eg.apply(this,arguments)}function Eg(){return Eg=h(f().mark((function e(t,n,r){var i,o,a,s,u,l,c,d,h,p,v,g,m;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=n.keys,o=n.to,a=n.from,s=n.loop,u=n.onRest,l=n.onResolve,c=Lh.obj(n.default)&&n.default,s&&(n.loop=!1),!1===o&&(n.to=null),!1===a&&(n.from=null),(d=Lh.arr(o)||Lh.fun(o)?o:void 0)?(n.to=void 0,n.onRest=void 0,c&&(c.onRest=void 0)):Ph(gg,(function(e){var r=n[e];if(Lh.fun(r)){var i=t._events[e];n[e]=function(e){var t=e.finished,n=e.cancelled,o=i.get(r);o?(t||(o.finished=!1),n&&(o.cancelled=!0)):i.set(r,{value:null,finished:t||!1,cancelled:n||!1})},c&&(c[e]=n[e])}})),h=t._state,n.pause===!h.paused?(h.paused=n.pause,Bh(n.pause?h.pauseQueue:h.resumeQueue)):h.paused&&(n.pause=!0),p=(i||Object.keys(t.springs)).map((function(e){return t.springs[e].start(n)})),v=!0===n.cancel||!0===Ev(n,"cancel"),(d||v&&h.asyncId)&&p.push(Vv(++t._lastAsyncId,{props:n,state:h,actions:{pause:Rh,resume:Rh,start:function(e,n){v?($v(h,t._lastAsyncId),n(qv(t))):(e.onRest=u,n(Yv(d,e,h,t)))}}})),!h.paused){e.next=15;break}return e.next=15,new Promise((function(e){h.resumeQueue.add(e)}));case 15:return e.t0=zv,e.t1=t,e.next=19,Promise.all(p);case 19:if(e.t2=e.sent,g=(0,e.t0)(e.t1,e.t2),!s||!g.finished||r&&g.noop){e.next=26;break}if(!(m=lg(n,s,o))){e.next=26;break}return kg(t,[m]),e.abrupt("return",wg(t,m,!0));case 26:return l&&ph.batchedUpdates((function(){return l(g,t,t.item)})),e.abrupt("return",g);case 28:case"end":return e.stop()}}),e)}))),Eg.apply(this,arguments)}function Sg(e,t){var n=mv({},e.springs);return t&&Ph(Mh(t),(function(e){Lh.und(e.keys)&&(e=cg(e)),Lh.obj(e.to)||(e=mv({},e,{to:void 0})),_g(n,e,(function(e){return Tg(e)}))})),xg(e,n),n}function xg(e,t){Nh(t,(function(t,n){e.springs[n]||(e.springs[n]=t,Ip(t,e))}))}function Tg(e,t){var n=new sg;return n.key=e,t&&Ip(n,t),n}function _g(e,t,n){t.keys&&Ph(t.keys,(function(r){(e[r]||(e[r]=n(r)))._prepareNode(t)}))}function kg(e,t){Ph(t,(function(t){_g(e.springs,t,(function(t){return Tg(t,e)}))}))}function Ag(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Cg,Og,Ig=["children"],Rg=function(e){var t=e.children,n=Ag(e,Ig),i=(0,r.useContext)(Lg),o=n.pause||!!i.pause,a=n.immediate||!!i.immediate;n=function(e,t){var n=l((0,r.useState)((function(){return{inputs:t,result:e()}})),1)[0],i=(0,r.useRef)(),o=i.current,a=o;if(a){var s=Boolean(t&&a.inputs&&function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,a.inputs));s||(a={inputs:t,result:e()})}else a=n;return(0,r.useEffect)((function(){i.current=a,o==n&&(n.inputs=n.result=void 0)}),[a]),a.result}((function(){return{pause:o,immediate:a}}),[o,a]);var s=Lg.Provider;return r.createElement(s,{value:n},t)},Lg=(Cg=Rg,Og={},Object.assign(Cg,r.createContext(Og)),Cg.Provider._context=Cg,Cg.Consumer._context=Cg,Cg);Rg.Provider=Lg.Provider,Rg.Consumer=Lg.Consumer;var Dg=function(){var e=[],t=function(t){qp("".concat(Vp,'Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions'));var r=[];return Ph(e,(function(e,i){if(Lh.und(t))r.push(e.start());else{var o=n(t,e,i);o&&r.push(e.start(o))}})),r};t.current=e,t.add=function(t){e.includes(t)||e.push(t)},t.delete=function(t){var n=e.indexOf(t);~n&&e.splice(n,1)},t.pause=function(){var t=arguments;return Ph(e,(function(e){return e.pause.apply(e,fl(t))})),this},t.resume=function(){var t=arguments;return Ph(e,(function(e){return e.resume.apply(e,fl(t))})),this},t.set=function(t){Ph(e,(function(e){return e.set(t)}))},t.start=function(t){var n=this,r=[];return Ph(e,(function(e,i){if(Lh.und(t))r.push(e.start());else{var o=n._getProps(t,e,i);o&&r.push(e.start(o))}})),r},t.stop=function(){var t=arguments;return Ph(e,(function(e){return e.stop.apply(e,fl(t))})),this},t.update=function(t){var n=this;return Ph(e,(function(e,r){return e.update(n._getProps(t,e,r))})),this};var n=function(e,t,n){return Lh.fun(e)?e(n,t):e};return t._getProps=n,t};function Pg(e,t,n){var i=arguments,o=Lh.fun(t)&&t;o&&!n&&(n=[]);var a=(0,r.useMemo)((function(){return o||3==i.length?Dg():void 0}),[]),s=(0,r.useRef)(0),u=Xp(),l=(0,r.useMemo)((function(){return{ctrls:[],queue:[],flush:function(e,t){var n=Sg(e,t);return s.current>0&&!l.queue.length&&!Object.keys(n).some((function(t){return!e.springs[t]}))?bg(e,t):new Promise((function(r){xg(e,n),l.queue.push((function(){r(bg(e,t))})),u()}))}}}),[]),c=(0,r.useRef)(fl(l.ctrls)),f=[],d=Zp(e)||0;function h(e,n){for(var r=e;r<n;r++){var i=c.current[r]||(c.current[r]=new yg(null,l.flush)),a=o?o(r,i):t[r];a&&(f[r]=fg(a))}}(0,r.useMemo)((function(){Ph(c.current.slice(e,d),(function(e){Iv(e,a),e.stop(!0)})),c.current.length=e,h(d,e)}),[e]),(0,r.useMemo)((function(){h(0,Math.min(d,e))}),n);var p=c.current.map((function(e,t){return Sg(e,f[t])})),v=(0,r.useContext)(Rg),g=Zp(v),m=v!==g&&Cv(v);$p((function(){s.current++,l.ctrls=c.current;var e=l.queue;e.length&&(l.queue=[],Ph(e,(function(e){return e()}))),Ph(c.current,(function(e,t){null==a||a.add(e),m&&e.start({default:v});var n=f[t];n&&(Rv(e,n.ref),e.ref?e.queue.push(n):e.start(n))}))})),Qp((function(){return function(){Ph(l.ctrls,(function(e){return e.stop(!0)}))}}));var y=p.map((function(e){return mv({},e)}));return a?[y,a]:y}var Ng;!function(e){e.MOUNT="mount",e.ENTER="enter",e.UPDATE="update",e.LEAVE="leave"}(Ng||(Ng={}));var Mg=function(e){tl(n,e);var t=al(n);function n(e,r){var i;Qu(this,n),(i=t.call(this)).key=void 0,i.idle=!0,i.calc=void 0,i._active=new Set,i.source=e,i.calc=wp.apply(void 0,fl(r));var o=i._get(),a=fv(o);return nv(il(i),a.create(o)),i}return Zu(n,[{key:"advance",value:function(e){var t=this._get();Dh(t,this.get())||(tv(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&Fg(this._active)&&Ug(this)}},{key:"_get",value:function(){var e=Lh.arr(this.source)?this.source.map(_p):Mh(_p(this.source));return this.calc.apply(this,fl(e))}},{key:"_start",value:function(){var e=this;this.idle&&!Fg(this._active)&&(this.idle=!1,Ph(rv(this),(function(e){e.done=!1})),Kh.skipAnimation?(ph.batchedUpdates((function(){return e.advance()})),Ug(this)):Qh.start(this))}},{key:"_attach",value:function(){var e=this,t=1;Ph(Mh(this.source),(function(n){Tp(n)&&Ip(n,e),Jv(n)&&(n.idle||e._active.add(n),t=Math.max(t,n.priority+1))})),this.priority=t,this._start()}},{key:"_detach",value:function(){var e=this;Ph(Mh(this.source),(function(t){Tp(t)&&Rp(t,e)})),this._active.clear(),Ug(this)}},{key:"eventObserved",value:function(e){"change"==e.type?e.idle?this.advance():(this._active.add(e.parent),this._start()):"idle"==e.type?this._active.delete(e.parent):"priority"==e.type&&(this.priority=Mh(this.source).reduce((function(e,t){return Math.max(e,(Jv(t)?t.priority:0)+1)}),0))}}]),n}(eg);function jg(e){return!1!==e.idle}function Fg(e){return!e.size||Array.from(e).every(jg)}function Ug(e){e.idle||(e.idle=!0,Ph(rv(e),(function(e){e.done=!0})),Ap(e,{type:"idle",parent:e}))}Kh.assign({createStringInterpolator:Gp,to:function(e,t){return new Mg(e,t)}});Qh.advance;function Bg(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var Hg=["style","children","scrollTop","scrollLeft"],Gg=/^--/;function Vg(e,t){return null==t||"boolean"===typeof t||""===t?"":"number"!==typeof t||0===t||Gg.test(e)||Wg.hasOwnProperty(e)&&Wg[e]?(""+t).trim():t+"px"}var zg={};var Wg={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Kg=["Webkit","Ms","Moz","O"];Wg=Object.keys(Wg).reduce((function(e,t){return Kg.forEach((function(n){return e[function(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}(n,t)]=e[t]})),e}),Wg);var qg=["x","y","z"],Yg=/^(matrix|translate|scale|rotate|skew)/,$g=/^(translate)/,Xg=/^(rotate|skew)/,Qg=function(e,t){return Lh.num(e)&&0!==e?e+t:e},Jg=function e(t,n){return Lh.arr(t)?t.every((function(t){return e(t,n)})):Lh.num(t)?t===n:parseFloat(t)===n},Zg=function(e){tl(n,e);var t=al(n);function n(e){Qu(this,n);var r=e.x,i=e.y,o=e.z,a=Bg(e,qg),s=[],u=[];return(r||i||o)&&(s.push([r||0,i||0,o||0]),u.push((function(e){return["translate3d(".concat(e.map((function(e){return Qg(e,"px")})).join(","),")"),Jg(e,0)]}))),Nh(a,(function(e,t){if("transform"===t)s.push([e||""]),u.push((function(e){return[e,""===e]}));else if(Yg.test(t)){if(delete a[t],Lh.und(e))return;var n=$g.test(t)?"px":Xg.test(t)?"deg":"";s.push(Mh(e)),u.push("rotate3d"===t?function(e){var t=l(e,4),r=t[0],i=t[1],o=t[2],a=t[3];return["rotate3d(".concat(r,",").concat(i,",").concat(o,",").concat(Qg(a,n),")"),Jg(a,0)]}:function(e){return["".concat(t,"(").concat(e.map((function(e){return Qg(e,n)})).join(","),")"),Jg(e,t.startsWith("scale")?1:0)]})}})),s.length&&(a.transform=new em(s,u)),t.call(this,a)}return Zu(n)}(uv),em=function(e){tl(n,e);var t=al(n);function n(e,r){var i;return Qu(this,n),(i=t.call(this))._value=null,i.inputs=e,i.transforms=r,i}return Zu(n,[{key:"get",value:function(){return this._value||(this._value=this._get())}},{key:"_get",value:function(){var e=this,t="",n=!0;return Ph(this.inputs,(function(r,i){var o=_p(r[0]),a=l(e.transforms[i](Lh.arr(o)?o:r.map(_p)),2),s=a[0],u=a[1];t+=" "+s,n=n&&u})),n?"none":t}},{key:"observerAdded",value:function(e){var t=this;1==e&&Ph(this.inputs,(function(e){return Ph(e,(function(e){return Tp(e)&&Ip(e,t)}))}))}},{key:"observerRemoved",value:function(e){var t=this;0==e&&Ph(this.inputs,(function(e){return Ph(e,(function(e){return Tp(e)&&Rp(e,t)}))}))}},{key:"eventObserved",value:function(e){"change"==e.type&&(this._value=null),Ap(this,e)}}]),n}(Cp),tm=["scrollTop","scrollLeft"];Kh.assign({batchedUpdates:xd.unstable_batchedUpdates,createStringInterpolator:Gp,colors:{transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199}});var nm=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.applyAnimatedValues,r=void 0===n?function(){return!1}:n,i=t.createAnimatedStyle,o=void 0===i?function(e){return new uv(e)}:i,a=t.getComponentProps,s=void 0===a?function(e){return e}:a,u={applyAnimatedValues:r,createAnimatedStyle:o,getComponentProps:s},l=function e(t){var n=gv(t)||"Anonymous";return(t=Lh.str(t)?e[t]||(e[t]=hv(t,u)):t[vv]||(t[vv]=hv(t,u))).displayName="Animated(".concat(n,")"),t};return Nh(e,(function(t,n){Lh.arr(e)&&(n=gv(t)),l[n]=l(t)})),{animated:l}}(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],{applyAnimatedValues:function(e,t){if(!e.nodeType||!e.setAttribute)return!1;var n="filter"===e.nodeName||e.parentNode&&"filter"===e.parentNode.nodeName,r=t,i=r.style,o=r.children,a=r.scrollTop,s=r.scrollLeft,u=Bg(r,Hg),l=Object.values(u),c=Object.keys(u).map((function(t){return n||e.hasAttribute(t)?t:zg[t]||(zg[t]=t.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()})))}));for(var f in void 0!==o&&(e.textContent=o),i)if(i.hasOwnProperty(f)){var d=Vg(f,i[f]);Gg.test(f)?e.style.setProperty(f,d):e.style[f]=d}c.forEach((function(t,n){e.setAttribute(t,l[n])})),void 0!==a&&(e.scrollTop=a),void 0!==s&&(e.scrollLeft=s)},createAnimatedStyle:function(e){return new Zg(e)},getComponentProps:function(e){return Bg(e,tm)}}),rm=nm.animated;function im(e,t,n){return Math.max(t,Math.min(e,n))}var om=function(e,t){return void 0===e&&(e=t),Array.isArray(e)?e:[e,e]},am=function(e,t){return[e[0]+t[0],e[1]+t[1]]},sm=function(e,t){return[e[0]-t[0],e[1]-t[1]]},um=function(e,t){e[0]+=t[0],e[1]+=t[1]};function lm(e,t,n){return 0===t||Math.abs(t)===1/0?Math.pow(e,5*n):e*t*n/(t+n*e)}function cm(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.15;return 0===r?im(e,t,n):e<t?-lm(t-e,n-t,r)+t:e>n?+lm(e-n,n-t,r)+n:e}function fm(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function hm(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?dm(Object(n),!0).forEach((function(t){fm(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dm(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var pm={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function vm(e){return e?e[0].toUpperCase()+e.slice(1):""}var gm=["enter","leave"];function mm(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return e&&!gm.includes(t)}function ym(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=pm[e],i=r&&r[t]||t;return"on"+vm(e)+vm(i)+(mm(n,i)?"Capture":"")}var bm=["gotpointercapture","lostpointercapture"];function wm(e){var t=e.substring(2).toLowerCase(),n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));var r=bm.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function Em(e){return"touches"in e}function Sm(e){return Em(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function xm(e){return Em(e)?function(e){return"touchend"===e.type||"touchcancel"===e.type?e.changedTouches:e.targetTouches}(e)[0]:e}function Tm(e,t){var n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,o=(t.clientY+e.clientY)/2,a=Math.hypot(n,r);return{angle:-180*Math.atan2(n,r)/Math.PI,distance:a,origin:[i,o]}}function _m(e){return function(e){return Array.from(e.touches).filter((function(t){var n,r;return t.target===e.currentTarget||(null===(n=e.currentTarget)||void 0===n||null===(r=n.contains)||void 0===r?void 0:r.call(n,t.target))}))}(e).map((function(e){return e.identifier}))}function km(e,t){var n=l(Array.from(e.touches).filter((function(e){return t.includes(e.identifier)})),2);return Tm(n[0],n[1])}function Am(e){var t=xm(e);return Em(e)?t.identifier:t.pointerId}function Cm(e){var t=xm(e);return[t.clientX,t.clientY]}function Om(e){var t=e.deltaX,n=e.deltaY,r=e.deltaMode;return 1===r?(t*=40,n*=40):2===r&&(t*=800,n*=800),[t,n]}function Im(e){if("function"===typeof e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.apply(void 0,n)}return e}function Rm(){}function Lm(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?Rm:1===t.length?t[0]:function(){var e,n,r=qu(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;e=i.apply(this,arguments)||e}}catch(o){r.e(o)}finally{r.f()}return e}}function Dm(e,t){return Object.assign({},t,e||{})}var Pm=function(){function e(t,n,r){Qu(this,e),this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}return Zu(e,[{key:"state",get:function(){return this.ctrl.state[this.key]},set:function(e){this.ctrl.state[this.key]=e}},{key:"shared",get:function(){return this.ctrl.state.shared}},{key:"eventStore",get:function(){return this.ctrl.gestureEventStores[this.key]}},{key:"timeoutStore",get:function(){return this.ctrl.gestureTimeoutStores[this.key]}},{key:"config",get:function(){return this.ctrl.config[this.key]}},{key:"sharedConfig",get:function(){return this.ctrl.config.shared}},{key:"handler",get:function(){return this.ctrl.handlers[this.key]}},{key:"reset",value:function(){var e=this.state,t=this.shared,n=this.ingKey,r=this.args;t[n]=e._active=e.active=e._blocked=e._force=!1,e._step=[!1,!1],e.intentional=!1,e._movement=[0,0],e._distance=[0,0],e._direction=[0,0],e._delta=[0,0],e._bounds=[[-1/0,1/0],[-1/0,1/0]],e.args=r,e.axis=void 0,e.memo=void 0,e.elapsedTime=0,e.direction=[0,0],e.distance=[0,0],e.overflow=[0,0],e._movementBound=[!1,!1],e.velocity=[0,0],e.movement=[0,0],e.delta=[0,0],e.timeStamp=0}},{key:"start",value:function(e){var t=this.state,n=this.config;t._active||(this.reset(),this.computeInitial(),t._active=!0,t.target=e.target,t.currentTarget=e.currentTarget,t.lastOffset=n.from?Im(n.from,t):t.offset,t.offset=t.lastOffset),t.startTime=t.timeStamp=e.timeStamp}},{key:"computeValues",value:function(e){var t=this.state;t._values=e,t.values=this.config.transform(e)}},{key:"computeInitial",value:function(){var e=this.state;e._initial=e._values,e.initial=e.values}},{key:"compute",value:function(e){var t=this.state,n=this.config,r=this.shared;t.args=this.args;var i=0;if(e&&(t.event=e,n.preventDefault&&e.cancelable&&t.event.preventDefault(),t.type=e.type,r.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,r.locked=!!document.pointerLockElement,Object.assign(r,function(e){var t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){var n=e.shiftKey,r=e.altKey,i=e.metaKey,o=e.ctrlKey;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:o})}return t}(e)),r.down=r.pressed=r.buttons%2===1||r.touches>0,i=e.timeStamp-t.timeStamp,t.timeStamp=e.timeStamp,t.elapsedTime=t.timeStamp-t.startTime),t._active){var o=t._delta.map(Math.abs);um(t._distance,o)}this.axisIntent&&this.axisIntent(e);var a=l(t._movement,2),s=a[0],u=a[1],c=l(n.threshold,2),f=c[0],d=c[1],h=t._step,p=t.values;if(n.hasCustomTransform?(!1===h[0]&&(h[0]=Math.abs(s)>=f&&p[0]),!1===h[1]&&(h[1]=Math.abs(u)>=d&&p[1])):(!1===h[0]&&(h[0]=Math.abs(s)>=f&&Math.sign(s)*f),!1===h[1]&&(h[1]=Math.abs(u)>=d&&Math.sign(u)*d)),t.intentional=!1!==h[0]||!1!==h[1],t.intentional){var v=[0,0];if(n.hasCustomTransform){var g=l(p,2),m=g[0],y=g[1];v[0]=!1!==h[0]?m-h[0]:0,v[1]=!1!==h[1]?y-h[1]:0}else v[0]=!1!==h[0]?s-h[0]:0,v[1]=!1!==h[1]?u-h[1]:0;this.restrictToAxis&&!t._blocked&&this.restrictToAxis(v);var b=t.offset,w=t._active&&!t._blocked||t.active;w&&(t.first=t._active&&!t.active,t.last=!t._active&&t.active,t.active=r[this.ingKey]=t._active,e&&(t.first&&("bounds"in n&&(t._bounds=Im(n.bounds,t)),this.setup&&this.setup()),t.movement=v,this.computeOffset()));var E=l(t.offset,2),S=E[0],x=E[1],T=l(t._bounds,2),_=l(T[0],2),k=_[0],A=_[1],C=l(T[1],2),O=C[0],I=C[1];t.overflow=[S<k?-1:S>A?1:0,x<O?-1:x>I?1:0],t._movementBound[0]=!!t.overflow[0]&&(!1===t._movementBound[0]?t._movement[0]:t._movementBound[0]),t._movementBound[1]=!!t.overflow[1]&&(!1===t._movementBound[1]?t._movement[1]:t._movementBound[1]);var R=t._active&&n.rubberband||[0,0];if(t.offset=function(e,t,n){var r=l(t,2),i=r[0],o=r[1],a=l(n,2),s=a[0],u=a[1],c=l(e,2),f=l(c[0],2),d=f[0],h=f[1],p=l(c[1],2),v=p[0],g=p[1];return[cm(i,d,h,s),cm(o,v,g,u)]}(t._bounds,t.offset,R),t.delta=sm(t.offset,b),this.computeMovement(),w&&(!t.last||i>32)){t.delta=sm(t.offset,b);var L=t.delta.map(Math.abs);um(t.distance,L),t.direction=t.delta.map(Math.sign),t._direction=t._delta.map(Math.sign),!t.first&&i>0&&(t.velocity=[L[0]/i,L[1]/i])}}}},{key:"emit",value:function(){var e=this.state,t=this.shared,n=this.config;if(e._active||this.clean(),!e._blocked&&e.intentional||e._force||n.triggerAllEvents){var r=this.handler(hm(hm(hm({},t),e),{},Yu({},this.aliasKey,e.values)));void 0!==r&&(e.memo=r)}}},{key:"clean",value:function(){this.eventStore.clean(),this.timeoutStore.clean()}}]),e}();var Nm=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"aliasKey","xy"),e}return Zu(n,[{key:"reset",value:function(){dh(nl(n.prototype),"reset",this).call(this),this.state.axis=void 0}},{key:"init",value:function(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}},{key:"computeOffset",value:function(){this.state.offset=am(this.state.lastOffset,this.state.movement)}},{key:"computeMovement",value:function(){this.state.movement=sm(this.state.offset,this.state.lastOffset)}},{key:"axisIntent",value:function(e){var t=this.state,n=this.config;if(!t.axis&&e){var r="object"===typeof n.axisThreshold?n.axisThreshold[Sm(e)]:n.axisThreshold;t.axis=function(e,t){var n=l(e,2),r=n[0],i=n[1],o=Math.abs(r),a=Math.abs(i);return o>a&&o>t?"x":a>o&&a>t?"y":void 0}(t._movement,r)}t._blocked=(n.lockDirection||!!n.axis)&&!t.axis||!!n.axis&&n.axis!==t.axis}},{key:"restrictToAxis",value:function(e){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":e[1]=0;break;case"y":e[0]=0}}}]),n}(Pm),Mm=function(e){return e},jm=.15,Fm={enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},eventOptions:function(e,t,n){return hm(hm({},n.shared.eventOptions),e)},preventDefault:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},triggerAllEvents:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},rubberband:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return[jm,jm];case!1:return[0,0];default:return om(e)}},from:function(e){return"function"===typeof e?e:null!=e?om(e):void 0},transform:function(e,t,n){var r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||Mm},threshold:function(e){return om(e,0)}};var Um=hm(hm({},Fm),{},{axis:function(e,t,n){var r=n.axis;if(this.lockDirection="lock"===r,!this.lockDirection)return r},axisThreshold:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e},bounds:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("function"===typeof e)return function(t){return Um.bounds(e(t))};if("current"in e)return function(){return e.current};if("function"===typeof HTMLElement&&e instanceof HTMLElement)return e;var t=e.left,n=void 0===t?-1/0:t,r=e.right,i=void 0===r?1/0:r,o=e.top,a=void 0===o?-1/0:o,s=e.bottom,u=void 0===s?1/0:s;return[[n,i],[a,u]]}}),Bm=10,Hm={ArrowRight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[Bm*e,0]},ArrowLeft:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[-10*e,0]},ArrowUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,-10*e]},ArrowDown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return[0,Bm*e]}},Gm=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","dragging"),e}return Zu(n,[{key:"reset",value:function(){dh(nl(n.prototype),"reset",this).call(this);var e=this.state;e._pointerId=void 0,e._pointerActive=!1,e._keyboardActive=!1,e._preventScroll=!1,e._delayed=!1,e.swipe=[0,0],e.tap=!1,e.canceled=!1,e.cancel=this.cancel.bind(this)}},{key:"setup",value:function(){var e=this.state;if(e._bounds instanceof HTMLElement){var t=e._bounds.getBoundingClientRect(),n=e.currentTarget.getBoundingClientRect(),r={left:t.left-n.left+e.offset[0],right:t.right-n.right+e.offset[0],top:t.top-n.top+e.offset[1],bottom:t.bottom-n.bottom+e.offset[1]};e._bounds=Um.bounds(r)}}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout((function(){e.compute(),e.emit()}),0))}},{key:"setActive",value:function(){this.state._active=this.state._pointerActive||this.state._keyboardActive}},{key:"clean",value:function(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,dh(nl(n.prototype),"clean",this).call(this)}},{key:"pointerDown",value:function(e){var t=this.config,n=this.state;if(null==e.buttons||(Array.isArray(t.pointerButtons)?t.pointerButtons.includes(e.buttons):-1===t.pointerButtons||t.pointerButtons===e.buttons)){var r=this.ctrl.setEventIds(e);t.pointerCapture&&e.target.setPointerCapture(e.pointerId),r&&r.size>1&&n._pointerActive||(this.start(e),this.setupPointer(e),n._pointerId=Am(e),n._pointerActive=!0,this.computeValues(Cm(e)),this.computeInitial(),t.preventScrollAxis&&"mouse"!==Sm(e)?(n._active=!1,this.setupScrollPrevention(e)):t.delay>0?(this.setupDelayTrigger(e),t.triggerAllEvents&&(this.compute(e),this.emit())):this.startPointerDrag(e))}}},{key:"startPointerDrag",value:function(e){var t=this.state;t._active=!0,t._preventScroll=!0,t._delayed=!1,this.compute(e),this.emit()}},{key:"pointerMove",value:function(e){var t=this.state,n=this.config;if(t._pointerActive&&(t.type!==e.type||e.timeStamp!==t.timeStamp)){var r=Am(e);if(void 0===t._pointerId||r===t._pointerId){var i=Cm(e);return document.pointerLockElement===e.target?t._delta=[e.movementX,e.movementY]:(t._delta=sm(i,t._values),this.computeValues(i)),um(t._movement,t._delta),this.compute(e),t._delayed&&t.intentional?(this.timeoutStore.remove("dragDelay"),t.active=!1,void this.startPointerDrag(e)):n.preventScrollAxis&&!t._preventScroll?t.axis?t.axis===n.preventScrollAxis||"xy"===n.preventScrollAxis?(t._active=!1,void this.clean()):(this.timeoutStore.remove("startPointerDrag"),void this.startPointerDrag(e)):void 0:void this.emit()}}}},{key:"pointerUp",value:function(e){this.ctrl.setEventIds(e);try{this.config.pointerCapture&&e.target.hasPointerCapture(e.pointerId)&&e.target.releasePointerCapture(e.pointerId)}catch(T){0}var t=this.state,n=this.config;if(t._active&&t._pointerActive){var r=Am(e);if(void 0===t._pointerId||r===t._pointerId){this.state._pointerActive=!1,this.setActive(),this.compute(e);var i=l(t._distance,2),o=i[0],a=i[1];if(t.tap=o<=n.tapsThreshold&&a<=n.tapsThreshold,t.tap&&n.filterTaps)t._force=!0;else{var s=l(t.direction,2),u=s[0],c=s[1],f=l(t.velocity,2),d=f[0],h=f[1],p=l(t.movement,2),v=p[0],g=p[1],m=l(n.swipe.velocity,2),y=m[0],b=m[1],w=l(n.swipe.distance,2),E=w[0],S=w[1],x=n.swipe.duration;t.elapsedTime<x&&(Math.abs(d)>y&&Math.abs(v)>E&&(t.swipe[0]=u),Math.abs(h)>b&&Math.abs(g)>S&&(t.swipe[1]=c))}this.emit()}}}},{key:"pointerClick",value:function(e){this.state.tap||(e.preventDefault(),e.stopPropagation())}},{key:"setupPointer",value:function(e){var t=this.config,n=t.device;t.pointerLock&&e.currentTarget.requestPointerLock(),t.pointerCapture||(this.eventStore.add(this.sharedConfig.window,n,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,n,"cancel",this.pointerUp.bind(this)))}},{key:"pointerClean",value:function(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}},{key:"preventScroll",value:function(e){this.state._preventScroll&&e.cancelable&&e.preventDefault()}},{key:"setupScrollPrevention",value:function(e){this.state._preventScroll=!1,function(e){"persist"in e&&"function"===typeof e.persist&&e.persist()}(e);var t=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",t),this.eventStore.add(this.sharedConfig.window,"touch","cancel",t),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,e)}},{key:"setupDelayTrigger",value:function(e){var t=this;this.state._delayed=!0,this.timeoutStore.add("dragDelay",(function(){t.state._step=[0,0],t.startPointerDrag(e)}),this.config.delay)}},{key:"keyDown",value:function(e){var t=Hm[e.key];if(t){var n=this.state,r=e.shiftKey?10:e.altKey?.1:1;this.start(e),n._delta=t(r),n._keyboardActive=!0,um(n._movement,n._delta),this.compute(e),this.emit()}}},{key:"keyUp",value:function(e){e.key in Hm&&(this.state._keyboardActive=!1,this.setActive(),this.compute(e),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;e(t,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(e(t,"change",this.pointerMove.bind(this)),e(t,"end",this.pointerUp.bind(this)),e(t,"cancel",this.pointerUp.bind(this)),e("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(e("key","down",this.keyDown.bind(this)),e("key","up",this.keyUp.bind(this))),this.config.filterTaps&&e("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}]),n}(Nm);var Vm="undefined"!==typeof window&&window.document&&window.document.createElement;function zm(){return Vm&&"ontouchstart"in window||Vm&&window.navigator.maxTouchPoints>1}var Wm={isBrowser:Vm,gesture:function(){try{return"constructor"in GestureEvent}catch(bc){return!1}}(),touch:zm(),touchscreen:zm(),pointer:Vm&&"onpointerdown"in window,pointerLock:Vm&&"exitPointerLock"in window.document},Km={mouse:0,touch:0,pen:8},qm=hm(hm({},Um),{},{device:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).touch,o=void 0!==i&&i,a=r.lock,s=void 0!==a&&a,u=r.mouse,l=void 0!==u&&u;return this.pointerLock=s&&Wm.pointerLock,Wm.touch&&o?"touch":this.pointerLock?"mouse":Wm.pointer&&!l?"pointer":Wm.touch?"touch":"mouse"},preventScrollAxis:function(e,t,n){var r=n.preventScroll;if(this.preventScrollDelay="number"===typeof r?r:r||void 0===r&&e?250:void 0,Wm.touchscreen&&!1!==r)return e||(void 0!==r?"y":void 0)},pointerCapture:function(e,t,n){var r=n.pointer,i=(r=void 0===r?{}:r).capture,o=void 0===i||i,a=r.buttons,s=void 0===a?1:a;return this.pointerButtons=s,!this.pointerLock&&"pointer"===this.device&&o},keys:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},threshold:function(e,t,n){var r=n.filterTaps,i=void 0!==r&&r,o=n.tapsThreshold,a=void 0===o?3:o,s=n.axis,u=om(e,i?a:(void 0===s?void 0:s)?1:0);return this.filterTaps=i,this.tapsThreshold=a,u},swipe:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.velocity,n=void 0===t?.5:t,r=e.distance,i=void 0===r?50:r,o=e.duration,a=void 0===o?250:o;return{velocity:this.transform(om(n)),distance:this.transform(om(i)),duration:a}},delay:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(e){case!0:return 180;case!1:return 0;default:return e}},axisThreshold:function(e){return e?hm(hm({},Km),e):Km}});var Ym=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","pinching"),fm(il(e),"aliasKey","da"),e}return Zu(n,[{key:"init",value:function(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}},{key:"reset",value:function(){dh(nl(n.prototype),"reset",this).call(this);var e=this.state;e._touchIds=[],e.canceled=!1,e.cancel=this.cancel.bind(this),e.turns=0}},{key:"computeOffset",value:function(){var e=this.state,t=e.type,n=e.movement,r=e.lastOffset;this.state.offset="wheel"===t?am(n,r):[(1+n[0])*r[0],n[1]+r[1]]}},{key:"computeMovement",value:function(){var e=this.state,t=e.offset,n=e.lastOffset;this.state.movement=[t[0]/n[0],t[1]-n[1]]}},{key:"axisIntent",value:function(){var e=this.state,t=l(e._movement,2),n=t[0],r=t[1];if(!e.axis){var i=30*Math.abs(n)-Math.abs(r);i<0?e.axis="angle":i>0&&(e.axis="scale")}}},{key:"restrictToAxis",value:function(e){this.config.lockDirection&&("scale"===this.state.axis?e[1]=0:"angle"===this.state.axis&&(e[0]=0))}},{key:"cancel",value:function(){var e=this,t=this.state;t.canceled||setTimeout((function(){t.canceled=!0,t._active=!1,e.compute(),e.emit()}),0)}},{key:"touchStart",value:function(e){this.ctrl.setEventIds(e);var t=this.state,n=this.ctrl.touchIds;if((!t._active||!t._touchIds.every((function(e){return n.has(e)})))&&!(n.size<2)){this.start(e),t._touchIds=Array.from(n).slice(0,2);var r=km(e,t._touchIds);this.pinchStart(e,r)}}},{key:"pointerStart",value:function(e){if(null==e.buttons||e.buttons%2===1){this.ctrl.setEventIds(e),e.target.setPointerCapture(e.pointerId);var t=this.state,n=t._pointerEvents,r=this.ctrl.pointerIds;if((!t._active||!Array.from(n.keys()).every((function(e){return r.has(e)})))&&(n.size<2&&n.set(e.pointerId,e),!(t._pointerEvents.size<2))){this.start(e);var i=Tm.apply(void 0,fl(Array.from(n.values())));this.pinchStart(e,i)}}}},{key:"pinchStart",value:function(e,t){this.state.origin=t.origin,this.computeValues([t.distance,t.angle]),this.computeInitial(),this.compute(e),this.emit()}},{key:"touchMove",value:function(e){if(this.state._active){var t=km(e,this.state._touchIds);this.pinchMove(e,t)}}},{key:"pointerMove",value:function(e){var t=this.state._pointerEvents;if(t.has(e.pointerId)&&t.set(e.pointerId,e),this.state._active){var n=Tm.apply(void 0,fl(Array.from(t.values())));this.pinchMove(e,n)}}},{key:"pinchMove",value:function(e,t){var n=this.state,r=n._values[1],i=t.angle-r,o=0;Math.abs(i)>270&&(o+=Math.sign(i)),this.computeValues([t.distance,t.angle-360*o]),n.origin=t.origin,n.turns=o,n._movement=[n._values[0]/n._initial[0]-1,n._values[1]-n._initial[1]],this.compute(e),this.emit()}},{key:"touchEnd",value:function(e){var t=this;this.ctrl.setEventIds(e),this.state._active&&this.state._touchIds.some((function(e){return!t.ctrl.touchIds.has(e)}))&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"pointerEnd",value:function(e){var t=this.state;this.ctrl.setEventIds(e);try{e.target.releasePointerCapture(e.pointerId)}catch(n){}t._pointerEvents.has(e.pointerId)&&t._pointerEvents.delete(e.pointerId),t._active&&t._pointerEvents.size<2&&(t._active=!1,this.compute(e),this.emit())}},{key:"gestureStart",value:function(e){e.cancelable&&e.preventDefault();var t=this.state;t._active||(this.start(e),this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY],this.compute(e),this.emit())}},{key:"gestureMove",value:function(e){if(e.cancelable&&e.preventDefault(),this.state._active){var t=this.state;this.computeValues([e.scale,e.rotation]),t.origin=[e.clientX,e.clientY];var n=t._movement;t._movement=[e.scale-1,e.rotation],t._delta=sm(t._movement,n),this.compute(e),this.emit()}}},{key:"gestureEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"wheel",value:function(e){var t=this.config.modifierKey;t&&!e[t]||(this.state._active?this.wheelChange(e):this.wheelStart(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}},{key:"wheelStart",value:function(e){this.start(e),this.wheelChange(e)}},{key:"wheelChange",value:function(e){"uv"in e||e.cancelable&&e.preventDefault();var t=this.state;t._delta=[-Om(e)[1]/100*t.offset[0],0],um(t._movement,t._delta),this.state.origin=[e.clientX,e.clientY],this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){var t=this.config.device;t&&(e(t,"start",this[t+"Start"].bind(this)),e(t,"change",this[t+"Move"].bind(this)),e(t,"end",this[t+"End"].bind(this)),e(t,"cancel",this[t+"End"].bind(this))),e("wheel","",this.wheel.bind(this),{passive:!1})}}]),n}(Pm),$m=hm(hm({},Fm),{},{device:function(e,t,n){var r=n.shared,i=n.pointer,o=(i=void 0===i?{}:i).touch,a=void 0!==o&&o;if(r.target&&!Wm.touch&&Wm.gesture)return"gesture";if(Wm.touch&&a)return"touch";if(Wm.touchscreen){if(Wm.pointer)return"pointer";if(Wm.touch)return"touch"}},bounds:function(e,t,n){var r=n.scaleBounds,i=void 0===r?{}:r,o=n.angleBounds,a=void 0===o?{}:o,s=function(e){var t=Dm(Im(i,e),{min:-1/0,max:1/0});return[t.min,t.max]},u=function(e){var t=Dm(Im(a,e),{min:-1/0,max:1/0});return[t.min,t.max]};return"function"!==typeof i&&"function"!==typeof a?[s(),u()]:function(e){return[s(e),u(e)]}},threshold:function(e,t,n){this.lockDirection="lock"===n.axis;var r=om(e,this.lockDirection?[.1,3]:0);return r},modifierKey:function(e){return void 0===e?"ctrlKey":e}}),Xm=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","moving"),e}return Zu(n,[{key:"move",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.state._active?this.moveChange(e):this.moveStart(e),this.timeoutStore.add("moveEnd",this.moveEnd.bind(this)))}},{key:"moveStart",value:function(e){this.start(e),this.computeValues(Cm(e)),this.compute(e),this.computeInitial(),this.emit()}},{key:"moveChange",value:function(e){if(this.state._active){var t=Cm(e),n=this.state;n._delta=sm(t,n._values),um(n._movement,n._delta),this.computeValues(t),this.compute(e),this.emit()}}},{key:"moveEnd",value:function(e){this.state._active&&(this.state._active=!1,this.compute(e),this.emit())}},{key:"bind",value:function(e){e("pointer","change",this.move.bind(this)),e("pointer","leave",this.moveEnd.bind(this))}}]),n}(Nm),Qm=hm(hm({},Um),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),Jm=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","scrolling"),e}return Zu(n,[{key:"scroll",value:function(e){this.state._active||this.start(e),this.scrollChange(e),this.timeoutStore.add("scrollEnd",this.scrollEnd.bind(this))}},{key:"scrollChange",value:function(e){e.cancelable&&e.preventDefault();var t=this.state,n=function(e){var t,n,r=e.currentTarget,i=r.scrollX,o=r.scrollY,a=r.scrollLeft,s=r.scrollTop;return[null!==(t=null!==i&&void 0!==i?i:a)&&void 0!==t?t:0,null!==(n=null!==o&&void 0!==o?o:s)&&void 0!==n?n:0]}(e);t._delta=sm(n,t._values),um(t._movement,t._delta),this.computeValues(n),this.compute(e),this.emit()}},{key:"scrollEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("scroll","",this.scroll.bind(this))}}]),n}(Nm),Zm=Um,ey=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","wheeling"),e}return Zu(n,[{key:"wheel",value:function(e){this.state._active||this.start(e),this.wheelChange(e),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this))}},{key:"wheelChange",value:function(e){var t=this.state;t._delta=Om(e),um(t._movement,t._delta);var n=l(t.overflow,2),r=n[0],i=n[1],o=l(t._delta,2),a=o[0],s=o[1],u=l(t._direction,2),c=u[0],f=u[1];(r<0&&a>0&&c<0||r>0&&a<0&&c>0)&&(t._movement[0]=t._movementBound[0]),(i<0&&s>0&&f<0||i>0&&s<0&&f>0)&&(t._movement[1]=t._movementBound[1]),this.compute(e),this.emit()}},{key:"wheelEnd",value:function(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}},{key:"bind",value:function(e){e("wheel","",this.wheel.bind(this))}}]),n}(Nm),ty=Um,ny=function(e){tl(n,e);var t=al(n);function n(){var e;Qu(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return fm(il(e=t.call.apply(t,[this].concat(i))),"ingKey","hovering"),e}return Zu(n,[{key:"enter",value:function(e){this.config.mouseOnly&&"mouse"!==e.pointerType||(this.start(e),this.computeValues(Cm(e)),this.compute(e),this.emit())}},{key:"leave",value:function(e){if(!this.config.mouseOnly||"mouse"===e.pointerType){var t=this.state;if(t._active){t._active=!1;var n=Cm(e);t._movement=t._delta=sm(n,t._values),this.computeValues(n),this.compute(e),t.delta=t.movement,this.emit()}}}},{key:"bind",value:function(e){e("pointer","enter",this.enter.bind(this)),e("pointer","leave",this.leave.bind(this))}}]),n}(Nm),ry=hm(hm({},Um),{},{mouseOnly:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e}}),iy=new Map,oy=new Map;function ay(e){iy.set(e.key,e.engine),oy.set(e.key,e.resolver)}var sy={key:"drag",engine:Gm,resolver:qm},uy={key:"hover",engine:ny,resolver:ry},ly={key:"move",engine:Xm,resolver:Qm},cy={key:"pinch",engine:Ym,resolver:$m},fy={key:"scroll",engine:Jm,resolver:Zm},dy={key:"wheel",engine:ey,resolver:ty};function hy(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var py={target:function(e){if(e)return function(){return"current"in e?e.current:e}},enabled:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},window:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Wm.isBrowser?window:void 0;return e})),eventOptions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.passive,n=void 0===t||t,r=e.capture,i=void 0!==r&&r;return{passive:n,capture:i}},transform:function(e){return e}},vy=["target","eventOptions","window","enabled","transform"];function gy(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n={},r=0,i=Object.entries(t);r<i.length;r++){var o=l(i[r],2),a=o[0],s=o[1];switch(typeof s){case"function":n[a]=s.call(n,e[a],a,e);break;case"object":n[a]=gy(e[a],s);break;case"boolean":s&&(n[a]=e[a])}}return n}var my=function(){function e(t,n){Qu(this,e),fm(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}return Zu(e,[{key:"add",value:function(e,t,n,r,i){var o=this._listeners,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=pm[e],r=n&&n[t]||t;return e+r}(t,n),s=hm(hm({},this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{}),i);e.addEventListener(a,r,s);var u=function t(){e.removeEventListener(a,r,s),o.delete(t)};return o.add(u),u}},{key:"clean",value:function(){this._listeners.forEach((function(e){return e()})),this._listeners.clear()}}]),e}(),yy=function(){function e(){Qu(this,e),fm(this,"_timeouts",new Map)}return Zu(e,[{key:"add",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:140;this.remove(e);for(var i=arguments.length,o=new Array(i>3?i-3:0),a=3;a<i;a++)o[a-3]=arguments[a];this._timeouts.set(e,(n=window).setTimeout.apply(n,[t,r].concat(o)))}},{key:"remove",value:function(e){var t=this._timeouts.get(e);t&&window.clearTimeout(t)}},{key:"clean",value:function(){this._timeouts.forEach((function(e){window.clearTimeout(e)})),this._timeouts.clear()}}]),e}(),by=function(){function e(t){Qu(this,e),fm(this,"gestures",new Set),fm(this,"_targetEventStore",new my(this)),fm(this,"gestureEventStores",{}),fm(this,"gestureTimeoutStores",{}),fm(this,"handlers",{}),fm(this,"config",{}),fm(this,"pointerIds",new Set),fm(this,"touchIds",new Set),fm(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),function(e,t){t.drag&&wy(e,"drag");t.wheel&&wy(e,"wheel");t.scroll&&wy(e,"scroll");t.move&&wy(e,"move");t.pinch&&wy(e,"pinch");t.hover&&wy(e,"hover")}(this,t)}return Zu(e,[{key:"setEventIds",value:function(e){return Em(e)?(this.touchIds=new Set(_m(e)),this.touchIds):"pointerId"in e?("pointerup"===e.type||"pointercancel"===e.type?this.pointerIds.delete(e.pointerId):"pointerdown"===e.type&&this.pointerIds.add(e.pointerId),this.pointerIds):void 0}},{key:"applyHandlers",value:function(e,t){this.handlers=e,this.nativeHandlers=t}},{key:"applyConfig",value:function(e,t){this.config=function(e,t){var n=e,r=n.target,i=n.eventOptions,o=n.window,a=n.enabled,s=n.transform,u=hy(n,vy),l={shared:gy({target:r,eventOptions:i,window:o,enabled:a,transform:s},py)};if(t){var c=oy.get(t);l[t]=gy(hm({shared:l.shared},u),c)}else for(var f in u){var d=oy.get(f);d&&(l[f]=gy(hm({shared:l.shared},u[f]),d))}return l}(e,t)}},{key:"clean",value:function(){this._targetEventStore.clean();var e,t=qu(this.gestures);try{for(t.s();!(e=t.n()).done;){var n=e.value;this.gestureEventStores[n].clean(),this.gestureTimeoutStores[n].clean()}}catch(r){t.e(r)}finally{t.f()}}},{key:"effect",value:function(){var e=this;return this.config.shared.target&&this.bind(),function(){return e._targetEventStore.clean()}}},{key:"bind",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i,o=this.config.shared,a={};if(!o.target||(i=o.target())){if(o.enabled){var s,u=qu(this.gestures);try{for(u.s();!(s=u.n()).done;){var l=s.value,c=this.config[l],f=Ey(a,c.eventOptions,!!i);if(c.enabled){var d=iy.get(l);new d(this,n,l).bind(f)}}}catch(S){u.e(S)}finally{u.f()}var h=Ey(a,o.eventOptions,!!i),p=function(t){h(t,"",(function(r){return e.nativeHandlers[t](hm(hm({},e.state.shared),{},{event:r,args:n}))}),void 0,!0)};for(var v in this.nativeHandlers)p(v)}for(var g in a)a[g]=Lm.apply(void 0,fl(a[g]));if(!i)return a;for(var m in a){var y=wm(m),b=y.device,w=y.capture,E=y.passive;this._targetEventStore.add(i,b,"",a[m],{capture:w,passive:E})}}}}]),e}();function wy(e,t){e.gestures.add(t),e.gestureEventStores[t]=new my(e,t),e.gestureTimeoutStores[t]=new yy}var Ey=function(e,t,n){return function(r,i,o){var a,s,u=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=null!==(a=u.capture)&&void 0!==a?a:t.capture,f=null!==(s=u.passive)&&void 0!==s?s:t.passive,d=l?r:ym(r,i,c);n&&f&&(d+="Passive"),e[d]=e[d]||[],e[d].push(o)}},Sy=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function xy(e,t,n,r,i,o){if(e.has(n)&&iy.has(r)){var a=n+"Start",s=n+"End";i[r]=function(e){var r=void 0;return e.first&&a in t&&t[a](e),n in t&&(r=t[n](e)),e.last&&s in t&&t[s](e),r},o[r]=o[r]||{}}}function Ty(e,t){var n=function(e){var t={},n={},r=new Set;for(var i in e)Sy.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}(e),r=l(n,3),i=r[0],o=r[1],a=r[2],s={};return xy(a,i,"onDrag","drag",s,t),xy(a,i,"onWheel","wheel",s,t),xy(a,i,"onScroll","scroll",s,t),xy(a,i,"onPinch","pinch",s,t),xy(a,i,"onMove","move",s,t),xy(a,i,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:o}}function _y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=r.useMemo((function(){return new by(e)}),[]);if(o.applyHandlers(e,i),o.applyConfig(t,n),r.useEffect(o.effect.bind(o)),r.useEffect((function(){return o.clean.bind(o)}),[]),void 0===t.target)return o.bind.bind(o)}function ky(e,t){var n=([sy,cy,fy,dy,ly,uy].forEach(ay),function(e,t){var n=Ty(e,t||{}),r=n.handlers,i=n.nativeHandlers;return _y(r,n.config,void 0,i)});return n(e,t||{})}var Ay,Cy,Oy=n(2104),Iy=n.n(Oy);function Ry(e){var t=e.indexState,n=e.content,i=e.height,o=e.onContentExhaustion,a=e.onFirstInteraction,s=e.render,u=(0,r.useRef)([Cy.UP,Cy.MID,Cy.DOWN]),c=n.length-1,f=l((0,r.useState)(1),2),d=f[0],h=f[1],p=Pg(3,(function(e){return{y:u.current[e]*(i||1),immediate:!1,config:{tension:340,clamp:!0}}})),v=l(p,2),g=v[0],m=v[1],y=ky({onDrag:function(e){return function(e){if(!e.down&&Math.abs(e.movement[1])>.45*(i||1))e.movement[1]<0?w(Ay.NEXT):w(Ay.PREV);else if(e.swipe[1])e.swipe[1]<0?w(Ay.NEXT):w(Ay.PREV);else{var t=e.down?e.movement[1]:0;m.start((function(n){return{y:u.current[n]*(i||1)+t,immediate:e.down}}))}}(e)},onWheelStart:function(e){return w(e.event.deltaY>0?Ay.NEXT:Ay.PREV)}},{drag:{swipe:{distance:3,velocity:[.2,.2],duration:400},axis:"y"}});Iy()("uparrow",(function(){w(Ay.PREV)})),Iy()("downarrow",(function(){w(Ay.NEXT)}));var b=(0,r.useRef)(!1);function w(e,n){e===Ay.NEXT&&t.current===c||e===Ay.PREV&&0===t.current?m.start((function(e){return{y:u.current[e]*(i||1),immediate:!1,onRest:2===e?n:void 0}})):(h([0,1,2].find((function(t){return Ly(u.current[t],e)===Cy.MID}))),m.start((function(r){return{y:(u.current[r]-e)*(i||1),immediate:!1,onRest:function(){2===r&&(!function(e){u.current=u.current.map((function(t){return Ly(t,e)})),t.setCurrent(t.current+e)}(e),n&&n())}}}))),!1===b.current&&(b.current=!0,a&&a())}(0,r.useLayoutEffect)((function(){m.start((function(e){return{y:u.current[e]*(i||1),immediate:!0}}))}),[t.current,i||1]),(0,r.useEffect)((function(){c-t.current-1<=2&&c>0&&o&&o(n)}),[t.current]);var E={next:function(){return new Promise((function(e,t){try{w(Ay.NEXT,e)}catch(bc){t(bc)}}))},previous:function(){return new Promise((function(e,t){try{w(Ay.NEXT,e)}catch(bc){t(bc)}}))}};return(0,Ql.jsx)("div",Xu(Xu({className:"relative flex-grow touch-none overflow-hidden"},y()),{},{children:[0,1,2].map((function(e){return(0,Ql.jsx)(rm.div,{className:"absolute top-0 bottom-0 left-0 right-0 will-change-transform",style:g[e],children:s(e,n[t.current+u.current[e]],d===e,E)},e)}))}))}function Ly(e,t){return t===Ay.NEXT?e===Cy.UP?Cy.DOWN:e-1:e===Cy.DOWN?Cy.UP:e+1}!function(e){e[e.NEXT=1]="NEXT",e[e.PREV=-1]="PREV"}(Ay||(Ay={})),function(e){e[e.UP=-1]="UP",e[e.MID=0]="MID",e[e.DOWN=1]="DOWN"}(Cy||(Cy={}));var Dy=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"}))})),Py=function(){var e=window.sessionStorage.getItem(Rt);return e||(e=Gu(),window.sessionStorage.setItem(Rt,e),e)},Ny=function(){var e=window.localStorage.getItem(Ct);return e||(e=Gu(),window.localStorage.setItem(Ct,e),e)},My=function(e){window.localStorage.setItem(Ct,e);var t=jy();t=t.map((function(t){return t.userViewsId=e,t}));var n=JSON.stringify(t);window.localStorage.setItem(Ot,n)},jy=function(){var e=window.localStorage.getItem(Ot);return e?JSON.parse(e):[]},Fy=function(){var e=window.localStorage.getItem(Ot);if(e){var t=JSON.parse(e).filter((function(e,t,n){return n.map((function(e){return e.post.id})).indexOf(e.post.id)==t})).filter((function(e,t,n){return n.map((function(e){return e.post.videoUrl})).indexOf(e.post.videoUrl)==t}));return t}return[]},Uy=function(){var e=h(f().mark((function e(){var t,n,r,i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=jy(),!((n=t.filter((function(e){return!e.isSubmitted}))).length>30)){e.next=10;break}return r=t.map((function(e){return e.isSubmitted=!0,e})),i=JSON.stringify(r),window.localStorage.setItem(Ot,i),o=n.filter((function(e){return!e.post.noViewServerReport})),a=o.map((function(e){return Gy(e)})),e.next=10,Nl("views",{method:"post",json:{postViews:a}});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),By=function(e,t,n){var r={id:Gu(),userViewsId:Ny(),sessionId:Py(),post:e,postTimeMs:t,viewTimeMs:n,createdAt:new Date,isSubmitted:!1},i=jy();i.unshift(r),i.length>200&&(i=i.slice(0,200));var o=JSON.stringify(i);window.localStorage.setItem(Ot,o);var a,s=function(){var e=window.localStorage.getItem(It);if(!e)return window.localStorage.setItem(It,"1"),1;var t=parseInt(e,10);if(isNaN(t))return console.error("Could not count views"),-1;var n=t+1;return window.localStorage.setItem(It,n.toString()),n}();2!==s&&(s%25!==0||(!(a=s/25)||a&a-1))||Nl("user",{method:"patch",json:{countTotalViews:s}}),Uy()};function Hy(){return Hy=h(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=Fy(),!t){e.next=5;break}if(!(r=n.findIndex((function(e){return e.post.id===t})))){e.next=5;break}return e.abrupt("return",n.slice(r,r+10).map((function(e){return e.post})));case 5:return e.abrupt("return",n.slice(0,10).map((function(e){return e.post})));case 6:case"end":return e.stop()}}),e)}))),Hy.apply(this,arguments)}var Gy=function(e){var t,n;return{id:e.id,userViewsId:e.userViewsId,sessionId:e.sessionId,postId:e.post.id,postHashtagId:null!==(t=e.post.hashtags)&&void 0!==t&&t.length?e.post.hashtags[0].id:null,postUserId:(null===(n=e.post.author)||void 0===n?void 0:n.id)||null,postTimeMs:e.postTimeMs,viewTimeMs:e.viewTimeMs,createdAt:e.createdAt}};var Vy=(0,r.createContext)(void 0);function zy(e){var t=e.children,n=W(),i=Zl(),o=i.authed,a=i.authController,s=l((0,r.useState)(void 0),2),u=s[0],c=s[1],d=l((0,r.useState)([]),2),p=d[0],v=d[1],g=l((0,r.useState)([]),2),m=g[0],y=g[1],b=l((0,r.useState)([]),2),w=b[0],E=b[1],S=l((0,r.useState)([]),2),x=S[0],T=S[1];function _(){return k.apply(this,arguments)}function k(){return(k=h(f().mark((function e(){var t,r,i,o,s,u,l;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nl("user");case 3:return t=e.sent,e.next=6,t.json();case 6:r=e.sent,i=r.user,o=r.followedHashtags,s=r.followedUsers,u=r.collections,l=r.likes,c(i),v(s),y(o),E(u),My(i.viewsId),T(l),e.next=27;break;case 16:if(e.prev=16,e.t0=e.catch(0),!(e.t0 instanceof ll&&"HTTPError"===e.t0.name&&401===e.t0.response.status)){e.next=26;break}return e.next=21,a.logOut();case 21:return e.sent.state===ql.SUCCESS&&(n(uT.HOT_INDEX),location.reload()),e.abrupt("return");case 26:throw e.t0;case 27:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function A(){return C.apply(this,arguments)}function C(){return(C=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("follows/users");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,v(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return I.apply(this,arguments)}function I(){return(I=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("follows/hashtags");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,y(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(){return L.apply(this,arguments)}function L(){return L=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,E(t);case 6:case"end":return e.stop()}}),e)}))),L.apply(this,arguments)}function D(){return(D=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yl({category:"Feed",action:"Followed User",label:t}),e.next=3,Nl("follows/users",{method:"post",json:{username:t}});case 3:return e.next=5,A();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function P(){return(P=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yl({category:"Feed",action:"Unfollowed User",label:t}),e.next=3,Nl("follows/users/username/".concat(t),{method:"delete"});case 3:return e.next=5,A();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function N(){return(N=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yl({category:"Feed",action:"Followed Hashtag",label:t}),e.next=3,Nl("follows/hashtags",{method:"post",json:{label:t}});case 3:return e.next=5,O();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function M(){return(M=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yl({category:"Feed",action:"Unfollowed Hashtag",label:t}),e.next=3,Nl("follows/hashtags/label/".concat(t),{method:"delete"});case 3:return e.next=5,O();case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=h(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections/".concat(t),{method:"get"});case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function F(){return(F=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections/".concat(t),{method:"delete"});case 2:return n=e.sent,R(),e.abrupt("return",204===n.status);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){return(U=h(f().mark((function e(t,n){var r,i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections/".concat(t),{method:"PUT",json:{label:n}});case 2:return r=e.sent,R(),e.next=6,r.json();case 6:return i=e.sent,e.abrupt("return",i);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(){return(B=h(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(t="My Collection"),e.next=3,Nl("collections",{method:"post",json:{label:t}});case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,R(),e.abrupt("return",r);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function H(){return(H=h(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections/".concat(n,"/posts"),{method:"post",json:{postId:t}});case 2:return r=e.sent,R(),e.abrupt("return",200===r.status);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function G(){return(G=h(f().mark((function e(t,n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("collections/".concat(n,"/posts/").concat(t),{method:"delete"});case 2:return r=e.sent,R(),e.abrupt("return",204===r.status);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=h(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={postId:t,userId:u&&u.id||"",createdAt:new Date},T([].concat(fl(x),[n])),Yl({category:"Feed",action:"Toggled Like",label:"Like"}),e.next=5,Nl("likes",{method:"post",json:{postId:t}});case 5:return r=e.sent,e.abrupt("return",204===r.status);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function z(){return(z=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(fl(x.filter((function(e){return e.postId!=t})))),Yl({category:"Feed",action:"Toggled Like",label:"Delete Like"}),e.next=4,Nl("likes/".concat(t),{method:"delete"});case 4:return n=e.sent,e.abrupt("return",204===n.status);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,r.useEffect)((function(){return h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:void 0!==o&&_();case 1:case"end":return e.stop()}}),e)})))(),function(){c(void 0),v([]),y([]),E([]),T([])}}),[o]);var K={user:u,followedUsers:p,followedHashtags:m,followUser:function(e){return D.apply(this,arguments)},unfollowUser:function(e){return P.apply(this,arguments)},followHashtag:function(e){return N.apply(this,arguments)},unfollowHashtag:function(e){return M.apply(this,arguments)},collections:w,createCollection:function(e){return B.apply(this,arguments)},getCollection:function(e){return j.apply(this,arguments)},editCollection:function(e,t){return U.apply(this,arguments)},deleteCollection:function(e){return F.apply(this,arguments)},addPostToCollection:function(e,t){return H.apply(this,arguments)},removePostFromCollection:function(e,t){return G.apply(this,arguments)},likes:x,likePost:function(e){return V.apply(this,arguments)},deleteLikePost:function(e){return z.apply(this,arguments)}};return(0,Ql.jsx)(Vy.Provider,{value:K,children:t})}var Wy=function(){var e=r.useContext(Vy);if(e)return e;throw new Error("UserContext is not defined. Probably useUser is used outside of its provider.")};function Ky(e,t){var n=l((0,r.useState)(e.followedUsers.some((function(e){return e.username===t}))),2),i=n[0],o=n[1],a=(0,r.useRef)(!1);return(0,r.useEffect)((function(){o(e.followedUsers.some((function(e){return e.username===t}))),a.current=!1}),[e.followedUsers]),[i,function(){t&&!a.current&&(i?e.unfollowUser(t):e.followUser(t),o(!i),a.current=!0)}]}function qy(e,t){var n=l((0,r.useState)(e.followedHashtags.some((function(e){return e.label===t}))),2),i=n[0],o=n[1],a=(0,r.useRef)(!1);return(0,r.useEffect)((function(){o(e.followedHashtags.some((function(e){return e.label===t}))),a.current=!1}),[e.followedHashtags]),[i,function(){t&&!a.current&&(i?e.unfollowHashtag(t):e.followHashtag(t),o(!i),a.current=!0)}]}function Yy(e){var t,n,r,i=e.content,o=l(Ky(Wy(),null!==(t=null===(n=i.author)||void 0===n?void 0:n.username)&&void 0!==t?t:""),2),a=o[0],s=o[1];return(0,Ql.jsxs)("div",{className:"absolute bottom-5 left-5 right-20 pointer-events-none",children:[i.author&&i.author.username&&(0,Ql.jsxs)("div",{className:"flex flex-row items-center gap-x-2",children:[(0,Ql.jsx)(Jy,{userName:i.author.username,isVerified:i.author.isVerified}),(0,Ql.jsx)(dc,{onTap:s,children:(0,Ql.jsx)($d,{icon:a?(0,Ql.jsx)(Dy,{}):void 0,style:a?{borderColor:"rgba(255,255,255,0.5)"}:void 0,children:a?"Following":"Follow"})})]}),(0,Ql.jsx)("div",{className:"pointer-events-auto pb-2 text-sm",children:i.label}),(0,Ql.jsxs)("div",{className:"flex flex-row gap-2 flex-wrap",children:[i.hashtags&&(null===(r=i.hashtags)||void 0===r?void 0:r.length)>0&&i.hashtags[0].label&&(0,Ql.jsx)(Qy,{hashtag:i.hashtags[0].label}),(0,Ql.jsx)(Xy,{})]})]})}function $y(e){var t=e.children;return(0,Ql.jsx)("button",{className:"flex flex-row items-center gap-x-2 px-2 h-6 rounded-md text-sm font-semibold whitespace-nowrap pointer-events-auto select-none cursor-pointer bg-white bg-opacity-20",children:t})}function Xy(){return(0,Ql.jsx)(pc,{eventLabel:"redgifs-live-sex-link",target:"_blank",to:"https://go.goaserv.com/redirect.go?pid=390&spaceid=1214579&subid=fikfap",children:(0,Ql.jsx)($y,{children:(0,Ql.jsx)("div",{children:"Live Sex"})})})}function Qy(e){var t=e.hashtag,n=Fl(t);return(0,Ql.jsx)(hc,{to:A(uT.HASHTAG,{hashtag:t}),onTap:function(){return Yl({category:"Feed",action:"Goto Hashtag",label:t})},children:(0,Ql.jsx)($y,{children:n})})}function Jy(e){var t=e.userName,n=e.isVerified;return(0,Ql.jsx)(hc,{to:A(uT.USER,{userName:t}),onTap:function(){return Yl({category:"Feed",action:"Clicked on User",label:t})},children:(0,Ql.jsxs)("div",{className:"flex items-center",children:[(0,Ql.jsx)("h1",{className:"text-bold pointer-events-auto cursor-pointer mt-2",children:"@".concat(t)}),n&&(0,Ql.jsx)("div",{className:"ml-1 h-3 w-3 text-brand",children:zd.verified})]})})}var Zy,eb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"}))}));function tb(e){var t=e.imageSrc,n=(0,r.useMemo)((function(){return function(e){switch(e){case Zy.CRAK:return Yl({category:"Feed",action:"Displayed Ad",label:"crakrevenue",nonInteraction:!0}),{eventLabel:"sidebar-crakrevenue-link",refLink:_t,bgColor:"bg-violet-600",borderColor:"border-violet-600",animationClass:"story-pulsating-violet-700"};case Zy.CARK_FIXED_EPC:return Yl({category:"Feed",action:"Displayed Ad",label:"crakrevenue-fixed-epc",nonInteraction:!0}),{eventLabel:"sidebar-crakrevenue-fixed-epc-link",refLink:kt,bgColor:"bg-violet-600",borderColor:"border-violet-600",animationClass:"story-pulsating-violet-700"};case Zy.STRIP:return Yl({category:"Feed",action:"Displayed Ad",label:"stripcash",nonInteraction:!0}),{eventLabel:"sidebar-stripcash-fikfapcams-link",refLink:At,bgColor:"bg-brand",borderColor:"border-brand",animationClass:"story-pulsating-brand"}}}(function(){if(navigator.languages&&navigator.languages.some((function(e){return nb.includes(e)})))return Zy.CARK_FIXED_EPC;return Zy.STRIP}())}),[]),i=n.eventLabel,o=n.refLink,a=n.bgColor,s=n.borderColor,u=n.animationClass,l=null!==t&&void 0!==t?t:Pt;return(0,Ql.jsx)(pc,{className:"p-2",eventLabel:i,to:o,target:"_blank",children:(0,Ql.jsxs)("div",{className:"w-12 h-12 rounded-full flex items-center justify-center overflow-hidden border-2 relative mb-1 ".concat(u," ").concat(s),children:[(0,Ql.jsx)("div",{className:"absolute top-0 w-10 flex justify-center",children:(0,Ql.jsx)("div",{className:"font-bold text-center rounded-b select-none ".concat(a),style:{fontSize:"0.4em",lineHeight:"1",padding:"2px"},children:"LIVE"})}),(0,Ql.jsx)("img",{loading:"eager",src:l,style:{minHeight:"40px",minWidth:"40px"},onError:function(e){e.target.onerror=null,e.target.src=Pt}})]})})}!function(e){e.CRAK="CRAK",e.CARK_FIXED_EPC="CARK_FIXED_EPC",e.STRIP="STRIP"}(Zy||(Zy={}));var nb=["en-CA","fr-CA","en-US","en-NZ","en-UK","en-AU"];function rb(e){var t=e.content,n=e.settings,r=e.isLiked,i=e.toggleIsLiked;return(0,Ql.jsxs)("div",{className:"absolute flex flex-col w-16 bottom-2 right-0.5 items-center select-none",children:[(0,Ql.jsx)(tb,{imageSrc:t.imageUrl}),(0,Ql.jsxs)("div",{className:"flex flex-col w-14",children:[(0,Ql.jsx)(ib,{icon:r?(0,Ql.jsx)("div",{className:"drop-shadow",children:zd.heartFull}):zd.heartEmpty,onClick:i,className:r?"text-brand":"",children:Vl((t.score?t.score:0)+(r?1:0))}),(0,Ql.jsx)(ib,{icon:n.isHQ?zd.hqOn:zd.hqOff,onClick:n.toggleHQ}),(0,Ql.jsx)(ib,{icon:n.isMute?zd.muted:zd.unmuted,onClick:n.toggleMute}),(0,Ql.jsx)(pc,{eventLabel:"redgifs-source-link",target:"_blank",to:t.sourceLink,children:(0,Ql.jsx)(ib,{icon:(0,Ql.jsx)(eb,{}),children:"Source"})})]})]})}function ib(e){var t=e.icon,n=e.onClick,r=e.children,i=e.className;return(0,Ql.jsxs)(dc,{className:"p-3.5 cursor-pointer",onTap:function(){return n&&n()},children:[(0,Ql.jsx)("div",{className:(r?"pb-1 ":"")+i,children:t}),r&&(0,Ql.jsx)("div",{className:"flex justify-center text-center text-xs select-none",children:r})]})}function ob(){return(0,r.useEffect)((function(){Yl({category:"Feed",action:"Displayed Onboarding Overlay"})}),[]),(0,Ql.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 flex flex-col px-20 justify-center object-cover object-center bg-transparent bg-none pointer-events-none",children:(0,Ql.jsxs)("div",{className:"flex flex-col bg-white bg-opacity-20 p-6 rounded-lg justify-center object-cover object-center max-w-xs mx-auto",children:[Ml()?(0,Ql.jsx)("div",{className:"mx-auto animate-bounce pt-5",style:{maxWidth:"100px"},children:Kd}):(0,Ql.jsx)("div",{children:Wd}),(0,Ql.jsx)("div",{className:"pt-4 text-sm text-center font-semibold",children:Ml()?"Swipe down to see the next video":"Navigate between videos by using the up and down button or the scroll wheel"})]})})}var ab="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);var sb="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch);function ub(e,t,n,i){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).delay,i=void 0===n?400:n,o=(0,r.useRef)(null),a=(0,r.useRef)(null),s=(0,r.useRef)(null),u=(0,r.useRef)(null),l=ud(t),c=(0,r.useRef)(),f=(0,r.useRef)(!1);(0,r.useEffect)((function(){var t=e.current;if(null!==t&&void 0!==t&&t.addEventListener){var n=function(e){f.current=!0,c.current=setTimeout((function(){var t,n,r,i,c=Math.abs((null!==(t=o.current)&&void 0!==t?t:100)-(null!==(n=s.current)&&void 0!==n?n:0));Math.abs((null!==(r=a.current)&&void 0!==r?r:100)-(null!==(i=u.current)&&void 0!==i?i:0))<10&&c<10&&l.current(e)}),i)},r=function(e){a.current=u.current=e.touches[0].clientX,o.current=s.current=e.touches[0].clientY,n(e)},d=function(e){a.current=u.current=e.clientX,o.current=s.current=e.clientY,n(e)},h=function(){c.current&&clearTimeout(c.current),f.current=!1,a.current=null,o.current=null,u.current=null,s.current=null},p=function(e){f.current&&(u.current=e.clientX,s.current=e.clientY)},v=function(e){f.current&&(u.current=e.touches[0].clientX,s.current=e.touches[0].clientY)};return ab?(t.addEventListener("touchstart",r),t.addEventListener("touchmove",v),t.addEventListener("touchend",h)):(t.addEventListener("mousedown",d),t.addEventListener("mousemove",p),t.addEventListener("mouseup",h),t.addEventListener("mouseleave",h)),function(){f.current=!1,a.current=null,o.current=null,u.current=null,s.current=null,c.current&&clearTimeout(c.current),ab?(t.removeEventListener("touchstart",r),t.removeEventListener("touchmove",v),t.removeEventListener("touchend",h)):(t.removeEventListener("mousedown",d),t.removeEventListener("mousemove",p),t.removeEventListener("mouseup",h),t.removeEventListener("mouseleave",h))}}}),[e])}(e,i);var o=ud(t),a=ud(n),s=(0,r.useRef)(),u=(0,r.useRef)(0),l=(0,r.useRef)(!1),c=(0,r.useRef)(null),f=(0,r.useRef)(null),d=(0,r.useRef)(null);(0,r.useEffect)((function(){var t=e.current;if(t){var n=function(){u.current=0,l.current=!1,f.current=null,c.current=null,d.current=null},r=function(e,t){u.current=u.current+1,1===u.current&&(f.current=e,c.current=t,d.current=performance.now(),s.current&&clearTimeout(s.current),s.current=setTimeout((function(){1===u.current&&l.current&&o.current&&o.current(),n()}),270)),u.current>1&&!function(e){return!e||performance.now()-e<90}(d.current)&&(l.current&&fb(f.current,c.current,e,t,40)&&a.current&&a.current(),n(),s.current&&clearTimeout(s.current))},i=function(e){lb(r)(e)},h=function(e){cb(r)(e)},p=function(e,t){fb(f.current,c.current,e,t,10)?l.current=!0:l.current=!1},v=function(e){lb(p)(e)},g=function(e){cb(p)(e)};return sb?(t.addEventListener("touchstart",h),t.addEventListener("touchend",g)):(t.addEventListener("mousedown",i),t.addEventListener("mouseup",v)),function(){n(),s.current&&clearTimeout(s.current),sb?(t.removeEventListener("touchstart",h),t.removeEventListener("touchend",g)):(t.removeEventListener("mousedown",i),t.removeEventListener("mouseup",v))}}}),[e,n,t])}function lb(e){return function(t){e(t.clientX,t.clientY)}}function cb(e){return function(t){t.touches.length>0?e(t.touches[0].clientX,t.touches[0].clientY):e(t.changedTouches[0].clientX,t.changedTouches[0].clientY)}}function fb(e,t,n,r,i){return null!==e&&null!==t&&(Math.abs(e-n)<i&&Math.abs(t-r)<i)}var db=n(8111),hb=n.n(db),pb=function(e,t,n){var i,o,a=(0,r.useRef)(),s=(0,r.useRef)(0);i=t,void 0===(o=a.current)&&(o=[]),hb()(i,o)||(a.current=t,s.current+=1),yd(e,[s.current],n)},vb=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},gb={0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,backspace:8,tab:9,enter:13,shift:16,ctrl:17,alt:18,pausebreak:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,leftarrow:37,uparrow:38,rightarrow:39,downarrow:40,insert:45,delete:46,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,leftwindowkey:91,rightwindowkey:92,selectkey:93,numpad0:96,numpad1:97,numpad2:98,numpad3:99,numpad4:100,numpad5:101,numpad6:102,numpad7:103,numpad8:104,numpad9:105,multiply:106,add:107,subtract:109,decimalpoint:110,divide:111,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,numlock:144,scrolllock:145,semicolon:186,equalsign:187,comma:188,dash:189,period:190,forwardslash:191,graveaccent:192,openbracket:219,backslash:220,closebracket:221,singlequote:222},mb={ctrl:function(e){return e.ctrlKey},shift:function(e){return e.shiftKey},alt:function(e){return e.altKey},meta:function(e){return e.metaKey}};function yb(e,t,n){var r,i;if(!e.key)return!1;if(hd(t))return e.keyCode===t;var o=t.split("."),a=0;try{for(var s=vb(o),u=s.next();!u.done;u=s.next()){var l=u.value,c=mb[l],f=gb[l.toLowerCase()];(c&&c(e)||f&&f===e.keyCode)&&a++}}catch(d){r={error:d}}finally{try{u&&!u.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}return n?a===o.length&&function(e){var t=Object.keys(mb).reduce((function(t,n){return mb[n](e)?t+1:t}),0);return[16,17,18,91,92].includes(e.keyCode)?t:t+1}(e)===o.length:a===o.length}var bb=["keydown"];var wb=function(e,t,n){var r=n||{},i=r.events,o=void 0===i?bb:i,a=r.target,s=r.exactMatch,u=void 0!==s&&s,l=ud(t),c=ud(e);pb((function(){var e,t,n,r=vd(a,window);if(r){var i=function(e){var t,n=function(e,t){return dd(e)?e:"string"===typeof e||hd(e)?function(n){return yb(n,e,t)}:Array.isArray(e)?function(n){return e.some((function(e){return yb(n,e,t)}))}:e?function(){return!0}:function(){return!1}}(c.current,u);if(n(e))return null===(t=l.current)||void 0===t?void 0:t.call(l,e)};try{for(var s=vb(o),f=s.next();!f.done;f=s.next()){var d=f.value;null===(n=null===r||void 0===r?void 0:r.addEventListener)||void 0===n||n.call(r,d,i)}}catch(h){e={error:h}}finally{try{f&&!f.done&&(t=s.return)&&t.call(s)}finally{if(e)throw e.error}}return function(){var e,t,n;try{for(var a=vb(o),s=a.next();!s.done;s=a.next()){var u=s.value;null===(n=null===r||void 0===r?void 0:r.removeEventListener)||void 0===n||n.call(r,u,i)}}catch(l){e={error:l}}finally{try{s&&!s.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}}}}),[o],a)};function Eb(e){var t=e.content,n=e.hideLogo,i=e.settings,o=e.onboardingHasClearance,a=e.playerRef,s=e.active,u=(0,r.useRef)(null),l=Wy(),c=l.likes,d=l.likePost,p=l.deleteLikePost,v=c.some((function(e){return e.postId===t.id})),g=function(){var e=h(f().mark((function e(){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Lf((n=!v)?"Added to my Collection.":"Removed from my Collection."),!n){e.next=7;break}return e.next=5,d(t.id);case 5:e.next=9;break;case 7:return e.next=9,p(t.id);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function m(){var e;null===(e=a.current)||void 0===e||e.togglePlay()}return ub(u,m,g,(function(){try{window.navigator&&window.navigator.vibrate&&window.navigator.vibrate(10)}finally{i.setSettingsOpen(!0)}})),wb("l",(function(){s&&g()})),wb("p",(function(){s&&m()})),(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{ref:u,className:"absolute bottom-0 left-0 right-0 top-0 select-none"}),(0,Ql.jsx)(Sb,{}),!n&&(0,Ql.jsx)(xb,{}),(0,Ql.jsx)(rb,{content:t,settings:i,isLiked:v,toggleIsLiked:g}),(0,Ql.jsx)(Yy,{content:t}),!i.onboardingDone&&o&&(0,Ql.jsx)(ob,{})]})}function Sb(){return(0,Ql.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-60 bg-gradient-to-t from-black opacity-30 pointer-events-none select-none"})}function xb(){return(0,Ql.jsx)("div",{className:"absolute left-5 top-5 w-6 h-auto text-brand select-none",children:zd.logo})}var Tb=function(){var e=h(f().mark((function e(){var t,n,r,i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.sessionStorage.getItem(Lt),n=t?JSON.parse(t):[],r="https://go.xlrdr.com/api/models?limit=20&excludeModelsList=".concat(n?n.join(","):""),e.next=5,Nl("proxy?url=".concat(encodeURIComponent(r)));case 5:return i=e.sent,e.next=8,i.json();case 8:return o=e.sent,a=o.models[Math.floor(Math.random()*o.models.length)],window.sessionStorage.setItem(Lt,JSON.stringify([].concat(fl(n),[a.username]))),e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var _b=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"}))}));function kb(e){var t=e.active,n=e.currentModel;(0,r.useEffect)((function(){t&&n&&Yl({category:"Feed",action:"Displayed Ad",label:"stripcash-card",nonInteraction:!0})}),[t,n]);var i,o=n?n.username:"",a=(i=o,"".concat("https://go.xlrdr.com?userId=066ed15cbc55c49af403df96ba91ea92a53bc34a740cf61adcd639c70f5a9866&targetDomain=fikfapcams.com&campaignId=user","&onlineModels=").concat(i)),s=null===n||void 0===n?void 0:n.avatarUrl;return(0,Ql.jsx)(Ql.Fragment,{children:(0,Ql.jsxs)(pc,{className:"relative w-full h-full",eventLabel:"stripcash-card",target:"_blank",to:a,children:[(0,Ql.jsx)(Sb,{}),!1,(0,Ql.jsxs)("div",{className:"absolute bottom-0 w-full flex flex-col m-auto overflow-hidden",children:[(0,Ql.jsxs)("div",{className:"flex flex-row items-center",children:[(0,Ql.jsx)(Ab,{}),(0,Ql.jsxs)("div",{className:"flex flex-row font-bold cursor-pointer space-x-2 items-center",children:[(0,Ql.jsx)(_b,{className:"h-6 w-6"}),(0,Ql.jsx)("div",{className:"grow-1",children:" Tap to chat"})]}),(0,Ql.jsx)(Ab,{})]}),(0,Ql.jsx)(Cb,{userName:o,profileUrl:a,avatarUrl:s,live:!0})]})]})})}function Ab(){return(0,Ql.jsx)("div",{className:"flex-grow h-0.5 mx-4 opacity-20 bg-white"})}function Cb(e){var t=e.userName,n=e.profileUrl,i=e.avatarUrl,o=e.live,a=l((0,r.useState)(!1),2),s=a[0],u=a[1],c=o?"ring-2":" ring-0",f=o?"bg-brand":"bg-light-weak";return(0,Ql.jsxs)("div",{className:"flex flex-row p-4 space-x-4",children:[(0,Ql.jsx)(pc,{eventLabel:"stripcash-card",target:"_blank",to:n,children:(0,Ql.jsx)("div",{className:"h-16 w-16 rounded-full ".concat(c," ring-brand select-none cursor-pointer bg-dark "),children:i&&(0,Ql.jsx)("img",{className:"object-fit object-center rounded-full overflow-hidden",alt:"",src:s?Pt:i,onError:function(){return u(!0)}})})}),(0,Ql.jsxs)("div",{className:"flex flex-col justify-center items-start space-y-2",children:[(0,Ql.jsx)("div",{className:"".concat(f," rounded-sm px-1 font-bold text-xs select-none"),children:o?"LIVE":"OFFLINE"}),(0,Ql.jsx)(pc,{eventLabel:"stripcash-card",target:"_blank",to:n,children:(0,Ql.jsxs)("h1",{className:"text-base m-0 p-0 select-none cursor-pointer",children:["@",t]})})]})]})}var Ob=n(9843),Ib=n.n(Ob);var Rb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"}))}));function Lb(e){var t=e.post,n=e.videoRef,i=e.isRecording,o=(0,r.useRef)(performance.now());(0,r.useEffect)((function(){return i&&t&&(o.current=performance.now()),function(){i&&t&&function(e,t,n){Db.apply(this,arguments)}(o.current,t,n)}}),[i])}function Db(){return(Db=h(f().mark((function e(t,n,r){var i,o,a;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Math.floor(performance.now()-t),a=1e3*((null===(i=r.current)||void 0===i?void 0:i.duration)||0),By(n,a,o),o&&a&&Yl({category:"Feed",action:"Watched video",value:100/a*o,nonInteraction:!0});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Pb=r.forwardRef((function(e,t){var n=(0,r.useRef)(null),i=e.src,o=e.active,a=e.muted,s=e.loop,u=e.autoPlay,c=e.hls,f=e.rounded,d=e.onEnded,h=e.onNoSourceError,p=e.onError,v=e.viewTimeContext,g=l((0,r.useState)(!0),2),m=g[0],y=g[1],b=l((0,r.useState)(!0),2),w=b[0],E=b[1],S=l((0,r.useState)(!1),2),x=S[0],T=S[1],_=(0,r.useRef)(!1),k="undefined"!==typeof c&&(c&&Ib().isSupported()),A=i.includes("/m.mp4"),C=Nf();function O(e,t){e.play().catch((function(n){if(9===n.code)t&&t(JSON.stringify(n.message)),T(!0);else{if(a||_.current||!(e.readyState>0))throw n;_.current=!0,C.toggleMute()}}))}(0,r.useEffect)((function(){_.current&&(_.current=!1,n.current&&n.current.play().catch((function(){var e;null!==(e=n.current)&&void 0!==e&&e.paused&&E(!1)})))}),[a]);var I=(0,r.useCallback)((function(){var e=n.current;if(o&&e){var t=e.paused;t?O(e):e.pause(),!t&&E(t)}}),[n,o]);function R(){return A?null:x?(0,Ql.jsx)(Bb,{}):m?(0,Ql.jsx)(Fb,{}):o&&!w?(0,Ql.jsx)(Ub,{}):null}return(0,r.useImperativeHandle)(t,(function(){return{togglePlay:I}})),Lb({post:v.post,videoRef:n,isRecording:v.isSavedToPostHistory&&!!o}),(0,r.useEffect)((function(){var e=null;return k&&(e=jb(e,n.current,i,!!u)),function(){null!=e&&e.destroy()}}),[n,k]),(0,r.useEffect)((function(){if(!k){var e=n.current;null!=e&&(y(!0),T(!1),e.setAttribute("src",i),e.load())}}),[n,k,i]),(0,r.useEffect)((function(){var e=n.current;e&&(o?O(e,h):(e.pause(),e.currentTime=0,E(!0),T(!1)))}),[n,o]),Mb("loadedmetadata",(function(){var e;(null===(e=n.current)||void 0===e?void 0:e.paused)&&o&&u&&O(n.current)}),[n.current,o,u],n),Mb("play",(function(){E(!0)}),[],n),Mb("canplay",(function(){y(!1)}),[],n),Mb("waiting",(function(){y(!0)}),[],n),(0,Ql.jsxs)("div",{className:"absolute top-0 bottom-0 left-0 right-0 select-none",children:[(0,Ql.jsx)("video",{ref:n,controlsList:"nodownload",className:"h-full w-full object-cover object-center pointer-events-none "+(f?" rounded-md":""),preload:"auto",controls:!1,playsInline:!0,muted:a,loop:s,onEnded:function(){!s&&d&&d()},onWaiting:function(){return y(!0)},onError:p}),(0,Ql.jsx)(R,{})]})}));Pb.displayName="FikFapPlayer";var Nb=r.memo(Pb);function Mb(e,t,n,i,o){var a=(0,r.useCallback)((function(){t()}),n);(0,r.useEffect)((function(){var t=i.current;if(t)return t.addEventListener(e,a,o),function(){t.removeEventListener(e,a,o)}}),[i,e,a,o])}function jb(e,t,n,r){null!=e&&e.destroy();var i=new(Ib())({enableWorker:!0});return null!=t&&i.attachMedia(t),i.on(Ib().Events.MEDIA_ATTACHED,(function(){i.loadSource(n),i.on(Ib().Events.MANIFEST_PARSED,(function(){r&&t&&t.play()}))})),i.on(Ib().Events.ERROR,(function(e,o){if(o.fatal)switch(o.type){case Ib().ErrorTypes.NETWORK_ERROR:i.startLoad();break;case Ib().ErrorTypes.MEDIA_ERROR:i.recoverMediaError();break;default:i=jb(i,t,n,r)}})),i}function Fb(){return(0,Ql.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center pointer-events-none",children:(0,Ql.jsx)("div",{className:"h-16 w-16",children:zd.animatedSpinner})})}function Ub(){return(0,Ql.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center pointer-events-none",children:(0,Ql.jsx)("div",{className:"h-16 w-16 opacity-50",children:(0,Ql.jsx)(Rb,{})})})}function Bb(){return(0,Ql.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0 flex justify-center items-center pointer-events-none",children:(0,Ql.jsx)("div",{className:"h-16 w-16 opacity-50",children:(0,Ql.jsx)(Zd,{})})})}var Hb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z",clipRule:"evenodd"}))}));var Gb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM7 9a1 1 0 000 2h6a1 1 0 100-2H7z",clipRule:"evenodd"}))}));var Vb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z"}))}));var zb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3 6a3 3 0 013-3h10a1 1 0 01.8 1.6L14.25 8l2.55 3.4A1 1 0 0116 13H6a1 1 0 00-1 1v3a1 1 0 11-2 0V6z",clipRule:"evenodd"}))}));var Wb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M11.49 3.17c-.38-1.56-2.6-1.56-2.98 0a1.532 1.532 0 01-2.286.948c-1.372-.836-2.942.734-2.106 2.106.54.886.061 2.042-.947 2.287-1.561.379-1.561 2.6 0 2.978a1.532 1.532 0 01.947 2.287c-.836 1.372.734 2.942 2.106 2.106a1.532 1.532 0 012.287.947c.379 1.561 2.6 1.561 2.978 0a1.533 1.533 0 012.287-.947c1.372.836 2.942-.734 2.106-2.106a1.533 1.533 0 01.947-2.287c1.561-.379 1.561-2.6 0-2.978a1.532 1.532 0 01-.947-2.287c.836-1.372-.734-2.942-2.106-2.106a1.532 1.532 0 01-2.287-.947zM10 13a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"}))}));var Kb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M15.707 4.293a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 011.414-1.414L10 8.586l4.293-4.293a1 1 0 011.414 0zm0 6a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-5-5a1 1 0 111.414-1.414L10 14.586l4.293-4.293a1 1 0 011.414 0z",clipRule:"evenodd"}))}));var qb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M4 2a1 1 0 011 1v2.101a7.002 7.002 0 0111.601 2.566 1 1 0 11-1.885.666A5.002 5.002 0 005.999 7H9a1 1 0 010 2H4a1 1 0 01-1-1V3a1 1 0 011-1zm.008 9.057a1 1 0 011.276.61A5.002 5.002 0 0014.001 13H11a1 1 0 110-2h5a1 1 0 011 1v5a1 1 0 11-2 0v-2.101a7.002 7.002 0 01-11.601-2.566 1 1 0 01.61-1.276z",clipRule:"evenodd"}))}));var Yb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"}))}));var $b=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M8 3a1 1 0 011-1h2a1 1 0 110 2H9a1 1 0 01-1-1z"}),r.createElement("path",{d:"M6 3a2 2 0 00-2 2v11a2 2 0 002 2h8a2 2 0 002-2V5a2 2 0 00-2-2 3 3 0 01-3 3H9a3 3 0 01-3-3z"}))}));var Xb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),r.createElement("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"}))}));var Qb,Jb=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 8V4m0 0h4M4 4l5 5m11-1V4m0 0h-4m4 0l-5 5M4 16v4m0 0h4m-4 0l5-5m11 5l-5-5m5 5v-4m0 4h-4"}))}));function Zb(e){var t=e.post,n=Nf();return n.isSettingsOpen?(0,Ql.jsx)(kd,{render:function(e){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"fixed bottom-0 left-0 right-0 top-0 bg-black opacity-20 pointer-events-auto",onClick:function(){return n.setSettingsOpen(!1)}}),(0,Ql.jsx)("div",{className:"fixed bottom-0 left-0 right-0 h-72 py-1 max-h-full overflow-y-scroll no-scrollbar bg-white text-black rounded-t-md mx-auto overflow-hidden select-none",style:{maxWidth:e},children:(0,Ql.jsx)(ew,{post:t})})]})}}):null}function ew(e){var t=e.post,n=l((0,r.useState)(Qb.OVERVIEW),2),i=n[0],o=n[1];switch(i){case Qb.OVERVIEW:return(0,Ql.jsx)(tw,{postId:t.id,onShareClick:function(){return o(Qb.SHARE)},onPlaybackClick:function(){return o(Qb.PLAYBACK)}});case Qb.SHARE:return(0,Ql.jsx)(rw,{postId:t.id,onBackClick:function(){return o(Qb.OVERVIEW)}});case Qb.PLAYBACK:return(0,Ql.jsx)(nw,{videoUrl:t.videoUrl,onBackClick:function(){return o(Qb.OVERVIEW)}})}}function tw(e){var t=e.postId,n=e.onShareClick,r=e.onPlaybackClick,i=K().collectionId,o=W(),a=Wy().removePostFromCollection;function s(){return(s=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!i||!t){e.next=5;break}return e.next=3,a(t,i);case 3:e.sent?(Yl({category:"Collections",action:"Removed Post from Collection",label:i}),Lf("Removed post from collection.")):(Yl({category:"Collections",action:"Removed Post from Collection Error",label:i}),Lf("Something went wrong."));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Hb,{}),label:"Add to collection",onClick:function(){return o(A(uT.COLLECTIONS_ADD,{postId:t.toString(10)}))}}),i&&(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Gb,{}),label:"Remove from collection",onClick:function(){return s.apply(this,arguments)}}),(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Vb,{}),label:"Share",onClick:n}),(0,Ql.jsx)(pc,{eventLabel:"slideup-report",to:"mailto:report@fikfap.com?subject=Report video #".concat(t),children:(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(zb,{}),label:"Report"})}),(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Wb,{}),label:"Video options",onClick:r}),(0,Ql.jsx)(pc,{eventLabel:"slideup-porndude",to:"https://theporndude.com/?ref=fikfap.com",target:"_blank",children:(0,Ql.jsx)(iw,{icon:qd,label:"Porndude"})})]})}function nw(e){var t=e.videoUrl,n=e.onBackClick,r=Nf();return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(iw,{icon:zd.back,label:"Back",onClick:n}),(0,Ql.jsx)(iw,{icon:r.isRepeat?(0,Ql.jsx)(Kb,{}):(0,Ql.jsx)(qb,{}),label:r.isRepeat?"Turn auto next video on":"Repeat active video",onClick:r.toggleRepeat}),(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Jb,{}),label:(r.isFullscreen?"Disable":"Enable")+" fullscreen mode",onClick:r.toggleFullscreen}),(0,Ql.jsx)(st,{eventLabel:"slideup-download",to:t,target:"_blank",children:(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Yb,{}),label:"Download"})})]})}function rw(e){var t,n=e.postId,i=e.onBackClick,o=function(e){var t=K(),n=t.hashtag,r=t.userName;if(!e)return jl();if(n)return jl()+A(uT.HASHTAG_POST,{hashtag:n,postId:String(e)});if(r)return jl()+A(uT.USER_POST,{userName:r,postId:String(e)});return jl()+A(uT.POST,{postId:String(e)})}(n),a=l((0,r.useState)(o),2),s=a[0],u=a[1],c=!!navigator.share;var f=l((0,r.useState)(""),2),d=f[0],h=f[1],p=!(null===(t=navigator.clipboard)||void 0===t||!t.writeText);return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(iw,{icon:zd.back,label:"Back",onClick:i}),c&&(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Vb,{}),label:"Share video",onClick:function(){Yl({category:"Feed",action:"Share",label:"NativeAPI"}),navigator.share({url:o})}}),p&&(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)($b,{}),label:d||"Copy video url to clipboard",onClick:function(){Yl({category:"Feed",action:"Share",label:"Clipboard"}),navigator.clipboard.writeText(o).then((function(){h("Video url copied!"),setTimeout((function(){h("")}),1e3)})).catch((function(){h("Could not copy video url")}))}}),(0,Ql.jsx)(iw,{icon:(0,Ql.jsx)(Xb,{}),label:"Open video in new tab",onClick:function(){Yl({category:"Feed",action:"Share",label:"NewTab"}),window.open(o,"_blank")}}),!p&&!c&&(0,Ql.jsx)("div",{className:"dark-strong flex items-center px-6 h-14 font-medium hover-hover:bg-black hover-hover:bg-opacity-5",children:(0,Ql.jsx)("input",{className:"rounded-md bg-dark bg-opacity-10 p-2 w-full focus:outline-none",value:s,type:"text",onChange:function(e){return u(e.target.value)},onFocus:function(e){e.target.select()}})})]})}function iw(e){var t=e.icon,n=e.label,r=e.onClick;return(0,Ql.jsxs)("div",{className:"flex items-center px-6 gap-x-6 h-14 font-medium cursor-pointer select-none",onClick:r,children:[(0,Ql.jsx)("div",{className:"h-5 w-5 flex-shrink-0",children:t}),n]})}!function(e){e.OVERVIEW="OVERVIEW",e.SHARE="SHARE",e.PLAYBACK="PLAYBACK"}(Qb||(Qb={}));var ow,aw=["rounded","thumbnail","render"],sw="/m.mp4";function uw(e){var t,n=e.content,i=e.indexState,o=e.onContentExhaustion,a=e.height,s=Nf(),u=z(uT.USER),c=z(uT.USER_POST),d=!(!u&&!c),p=z(uT.HASHTAG),v=z(uT.HASHTAG_POST),g=!(!p&&!v),m=z(uT.COLLECTION_FEED),y=z(uT.LIKES_FEED),b=z(uT.HISTORY_FEED),w=!!(m||y||d||g||b),E=l((0,r.useState)(!1),2),S=E[0],x=E[1],T=l((0,r.useState)({}),2),_=T[0],k=T[1];(0,r.useEffect)((function(){var e;if((null===(e=n[i.current+3])||void 0===e?void 0:e.type)===Nd.CASH_COW&&void 0===_[i.current+3]){var t=function(){var e=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Tb();case 2:t=e.sent,k(Xu(Xu({},_),{},Yu({},i.current+3,t)));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}}),[i.current]),wb("m",s.toggleMute);var A=null!==(t=n[i.current])&&void 0!==t?t:void 0;return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(Ry,{content:n,indexState:i,height:a,onContentExhaustion:o,onFirstInteraction:s.setOnboardingDone,render:function(e,t,n,r){if(t&&t.type===Nd.POST)return(0,Ql.jsx)(lw,{src:Kl(t.content.sourceId,t.content.videoUrl,s.isHQ?dl.GIF_VIDEO_HD:dl.GIF_VIDEO_SD),thumbnail:t.content.imageUrl&&Kl(t.content.sourceId,t.content.imageUrl,dl.GIF_THUMBNAIL_SD),active:n,loop:s.isRepeat,muted:s.isMute,onEnded:function(){!s.isRepeat&&!s.isSettingsOpen&&r.next(),x(!0)},onNoSourceError:function(e){return Ul(t.content.id,e)},rounded:!0,autoPlay:!0,viewTimeContext:{post:t.content,isSavedToPostHistory:!b},render:function(e){return(0,Ql.jsx)(Eb,{content:t.content,hideLogo:w,settings:s,onboardingHasClearance:S,playerRef:e,active:n},t.content.id)}},e);if(t&&t.type===Nd.CASH_COW){var o=_[i.current-1],a=_[i.current],u=_[i.current+1],l=o||(a||u);return(0,Ql.jsx)(lw,{src:l?l.stream.url:sw,active:!0,loop:!1,muted:s.isMute||!n,autoPlay:!0,hls:!0,viewTimeContext:{post:void 0,isSavedToPostHistory:!1},render:function(){return(0,Ql.jsx)(kb,{active:n,currentModel:l})}},e)}return(0,Ql.jsx)(lw,{src:sw,active:!1,loop:s.isRepeat,muted:s.isMute,viewTimeContext:{post:void 0,isSavedToPostHistory:!1},rounded:!0},e)}}),Hd(A)&&(0,Ql.jsx)(Zb,{post:A.content})]})}function lw(e){var t=(0,r.useRef)(null),n=e.rounded,i=e.thumbnail,o=e.render,a=ch(e,aw);return(0,Ql.jsxs)(cw,{backgroundImage:i,rounded:n,children:[(0,Ql.jsx)(Nb,Xu({ref:t,rounded:n},a)),o&&o(t)]})}function cw(e){e.backgroundImage;var t=e.rounded,n=e.children,r={borderTop:"1px solid black",backgroundImage:void 0};return(0,Ql.jsx)("div",{className:"relative h-full w-full flex m-auto bg-center bg-cover overflow-hidden"+(t?" rounded-md":""),style:r,children:n})}function fw(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function dw(e,t){var n=e[t.containerName];switch(t.type){case ow.PUSH_CONTENT:return Xu(Xu({},e),{},Yu({},t.containerName,{currentIndex:n?n.currentIndex:0,content:n?[].concat(fl(n.content),fl(t.content)):t.content}));case ow.REMOVE_CONTENT:if(!n)return e;var r=fl(n.content);return r.splice(t.index,1),Xu(Xu({},e),{},Yu({},t.containerName,{currentIndex:n.currentIndex-(t.index<n.currentIndex?1:0),content:r}));case ow.UPDATE_INDEX:return n?Xu(Xu({},e),{},Yu({},t.containerName,{currentIndex:n?t.index:-1,content:n.content})):e;case ow.DELETE_CONTAINER:var i=t.containerName;e[i];return ch(e,[i].map(fw))}}function hw(e,t,n,i){var o=l((0,r.useState)(!1),2),a=o[0],s=o[1],u=l((0,r.useState)(!0),2),c=u[0],d=u[1],p=l((0,r.useState)(void 0),2),v=p[0],g=p[1],m=l((0,r.useState)(!1),2),y=m[0],b=m[1],w=(0,r.useMemo)((function(){return e.filter(Hd).map((function(e){return e.content}))}),[e]);return(0,r.useEffect)((function(){h(f().mark((function e(){var r,o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(w.length<1)){e.next=15;break}return e.prev=1,e.next=4,n(!0,i);case 4:r=e.sent,t(vw(pw(w,r))),d(!1),1===r.length&&b(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),s(!0);case 13:e.next=27;break;case 15:return e.prev=15,d(!0),e.next=19,n(!1,v,w.length);case 19:o=e.sent,t(vw(pw(w,o))),d(!1),e.next=27;break;case 24:e.prev=24,e.t1=e.catch(15),s(!0);case 27:case"end":return e.stop()}}),e,null,[[1,10],[15,24]])})))()}),[v,y]),{isFetching:c,isError:a,fetchNewContent:function(e){g(e)}}}function pw(e,t){var n=e.map((function(e){return e.id})),r=e.map((function(e){return e.videoUrl}));return t.filter((function(e){return!(n.includes(e.id)||r.includes(e.videoUrl))}))}function vw(e){return e.map((function(e){return{type:Nd.POST,content:e}}))}!function(e){e[e.PUSH_CONTENT=0]="PUSH_CONTENT",e[e.REMOVE_CONTENT=1]="REMOVE_CONTENT",e[e.UPDATE_INDEX=2]="UPDATE_INDEX",e[e.DELETE_CONTAINER=3]="DELETE_CONTAINER"}(ow||(ow={}));var gw,mw={type:Nd.CASH_COW,content:null};function yw(e,t){var n=[];return e.forEach((function(e,r){var i=t+r;i>=10&&i%10===0&&n.push(mw),n.push(e)})),n}function bw(e,t,n,i){var o,a,s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u=Ew(n),l=e[u]?e[u].content:[],c=(0,r.useMemo)((function(){return l.filter((function(e){return Hd(e)&&!!e.content&&!!e.content.id})).map((function(e){var t;return null===(t=e.content)||void 0===t?void 0:t.id})).slice(-50)}),[l]),f=Sw(n,c),d=void 0;function h(e){var n=e;s&&(n=yw(e,Math.max(l.length-1,0))),t({type:ow.PUSH_CONTENT,containerName:u,content:fl(n)})}i&&!isNaN(parseInt(i,10))&&(d=parseInt(i,10));var p=hw(l,h,f,d),v=p.isFetching,g=p.isError,m=p.fetchNewContent,y={current:null!==(o=null===(a=e[u])||void 0===a?void 0:a.currentIndex)&&void 0!==o?o:0,setCurrent:function(e){t({type:ow.UPDATE_INDEX,containerName:u,index:e})}};return{content:l,containerName:u,fetchNewContent:m,indexState:y,isFetching:v,isError:g}}function ww(e){var t=fl(e).reverse().find((function(e){return Hd(e)}));if(t)return t.content.id}function Ew(e){switch(e.type){case Dd.HOT:case Dd.NEW:case Dd.HISTORY:return e.type;case Dd.USER:return e.type+"_"+e.userName;case Dd.HASHTAG:return e.type+"_"+e.subtype+"_"+e.hashtag;case Dd.FOLLOWING:case Dd.LIKED:return e.type+"_"+e.subtype;case Dd.COLLECTION:return e.type+"_"+e.subtype+"_"+e.collectionId}}function Sw(e,t){switch(e.type){case Dd.HOT:return function(n,r,i){if(n)return r?function(e){return Cw.apply(this,arguments)}(r):function(){return Ow.apply(this,arguments)}();if(1===i)return kw("cached-high-quality/posts",{amount:"5"});if(!e.variant||1!=e.variant&&2!=e.variant)return kw(xw(e.variant),{afterId:Tw(n,r),startId:_w(n,r),sort:e.variant?void 0:gw.RANDOM});var o=Fy().filter((function(e){return e.viewTimeMs/e.postTimeMs>.9&&e.viewTimeMs>5e3})).map((function(e){return e.post.id}));return kw(xw(e.variant),{afterId:Tw(n,r),startId:_w(n,r),sort:e.variant?void 0:gw.RANDOM,ignoredPostIds:t.join(","),likedPostIds:o.join(",")})};case Dd.NEW:return function(e,t){return kw("posts",{afterId:Tw(e,t),sort:gw.NEW})};case Dd.FOLLOWING:return function(t,n){return kw("follows/posts",{afterId:Tw(t,n),sort:e.subtype===Pd.RANDOM?gw.RANDOM:void 0})};case Dd.USER:return function(t,n){return kw("user/username/".concat(e.userName,"/posts"),{startId:_w(t,n),afterId:Tw(t,n)})};case Dd.HASHTAG:return function(t,n){return kw("hashtags/label/".concat(e.hashtag,"/posts"),{startId:_w(t,n),afterId:Tw(t,n),minimumScore:e.subtype===Pd.TOP?"10":void 0})};case Dd.COLLECTION:return function(t,n){return kw("collections/".concat(e.collectionId,"/posts"),{afterId:Tw(t,n),sort:e.subtype===Pd.RANDOM?gw.RANDOM:void 0})};case Dd.LIKED:return function(t,n){return kw("likes/posts",{afterId:Tw(t,n),sort:e.subtype===Pd.RANDOM?gw.RANDOM:void 0})};case Dd.HISTORY:return function(e,t){return function(e){return Hy.apply(this,arguments)}(null!==t&&void 0!==t?t:null)}}}function xw(e){switch(e){case null:case 0:return"posts";case 1:return"posts/recommender/control";case 2:return"posts/recommender/v1";default:return console.error("Invalid variant "+e),"posts"}}function Tw(e,t){return e||null===t||void 0===t?void 0:t.toString()}function _w(e,t){return e?null===t||void 0===t?void 0:t.toString():void 0}function kw(e,t){return Aw.apply(this,arguments)}function Aw(){return Aw=h(f().mark((function e(t,n){var r,i,o,a,s,u,c;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for((r=new URLSearchParams).set("amount","21"),i=0,o=Object.entries(n);i<o.length;i++)a=l(o[i],2),s=a[0],(u=a[1])&&r.set(s,u);return e.next=5,Nl(t+"?"+r);case 5:return c=e.sent,e.next=8,c.json();case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)}))),Aw.apply(this,arguments)}function Cw(){return(Cw=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("posts/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return e.t0=e.sent,e.abrupt("return",[e.t0]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ow(){return(Ow=h(f().mark((function e(){var t,n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=zl(1,100),e.next=3,Ll.get("".concat(pt?"https://dev.fikfap.com/":"","cached-posts/").concat(t,".json"));case 3:return n=e.sent,e.next=6,n.json();case 6:return(r=e.sent).useFikFapCDN=!0,r.noViewServerReport=!0,e.abrupt("return",[r]);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Iw(e){var t,n,r=e.containerState,i=e.dispatch,o=e.optimizeVariant,a=e.randomFollow,s=e.height,u=Zl().authed,l=K().postId,c=Nf(),f=Md(),d=bw(r,i,function(e,t,n){switch(e){case Dd.HOT:return{type:Dd.HOT,variant:t};case Dd.NEW:return{type:Dd.NEW};case Dd.FOLLOWING:return{type:Dd.FOLLOWING,subtype:n?Pd.RANDOM:Pd.TOP}}}(f,o,!!a),l,!0),h=d.content,p=d.fetchNewContent,v=d.indexState,g=d.isFetching;if(Gl((function(){if(!l||h.length<1||!Hd(h[0]))switch(f){case Dd.HOT:return"FikFap - The TikTok of Porn";case Dd.NEW:return"New - FikFap";case Dd.FOLLOWING:return"Following - FikFap"}return"".concat(h[0].content.label," - FikFap")}),[h,f,l]),g&&h.length<1)return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(rh,{}),(0,Ql.jsx)(jd,{})]});if(!g&&h.length<1&&f===Dd.FOLLOWING)return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsxs)("div",{className:"w-full h-full flex-col flex items-center justify-center m-auto max-w-sm",children:[(0,Ql.jsx)("div",{className:"text-2xl p-5 font-bold text-center",children:"Follow a content creator or a hashtag and see the latest posts here."}),(0,Ql.jsx)(Ld,{to:uT.DISCOVER,children:(0,Ql.jsx)(Yd,{children:"Discover new hashtags"})}),!u&&(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"text-md text-center px-8 mt-12 pb-5",children:"Make sure that you create an account to have your follows available the next time you visit FikFap. Without an account, you might lose your follows and likes once you end the session."}),(0,Ql.jsx)(Ld,{to:uT.SIGN_UP,children:(0,Ql.jsx)(Yd,{children:"Create an account"})})]})]}),(0,Ql.jsx)(jd,{})]});var m=null!==(t=h[v.current])&&void 0!==t?t:void 0,y=m&&Hd(m)?null===m||void 0===m||null===(n=m.content)||void 0===n?void 0:n.id:void 0;return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)(uw,{content:h,indexState:v,onContentExhaustion:function(e){var t=ww(e);p(t)},height:s}),!c.isFullscreen&&y&&(0,Ql.jsx)(Rw,{}),!c.isFullscreen&&y&&(0,Ql.jsx)(jd,{}),y&&(0,Ql.jsx)(Jd,{})]})}function Rw(){return(0,Ql.jsx)("div",{className:"absolute top-0 left-0 right-0 h-20 bg-gradient-to-b from-black opacity-20 select-none"})}!function(e){e.NEW="new",e.TOP="top",e.RANDOM="random"}(gw||(gw={}));var Lw=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"}))}));var Dw=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z",clipRule:"evenodd"}))}));function Pw(e){var t=e.detailTitle,n=e.hashtagLabel,r=e.username;return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsxs)("div",{className:"absolute top-4 left-16 right-16 text-center flex justify-center text-sm",children:[n&&(0,Ql.jsx)(Nw,{hashtagLabel:n,children:t}),r&&(0,Ql.jsx)("div",{className:"rounded-md bg-white font-bold text-base py-1 px-3 text-dark shadow-lg",children:t}),!r&&!n&&(0,Ql.jsx)("div",{className:"rounded-md bg-white font-bold text-base py-1 px-3 text-dark shadow-lg",children:t})]}),(0,Ql.jsx)(Mw,{})]})}function Nw(e){var t=e.hashtagLabel,n=e.children,r=l(qy(Wy(),t),2),i=r[0],o=r[1],a=i?Lw:Dw;return(0,Ql.jsx)(dc,{className:"font-medium",onTap:o,children:(0,Ql.jsx)(Yd,{variant:i?Gd.DARK:Gd.PRIMARY,children:(0,Ql.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ql.jsx)(a,{className:"h-4 w-4 mr-1"}),(0,Ql.jsx)("div",{children:i?"UNFOLLOW":"FOLLOW"}),(0,Ql.jsx)("div",{className:"ml-2",children:n})]})})})}function Mw(){return(0,Ql.jsx)("div",{className:"absolute top-2.5 left-2.5",children:(0,Ql.jsx)(uh,{})})}var jw=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"}))})),Fw=["children"],Uw=["children"],Bw=function(e){var t=e.children,n=ch(e,Fw);return(0,Ql.jsx)("div",Xu(Xu({className:"p-5"},n),{},{children:t}))},Hw=function(e){var t=e.children,n=ch(e,Uw);return(0,Ql.jsx)("div",Xu(Xu({className:"p-5 w-full h-full flex-col flex items-center justify-center"},n),{},{children:t}))};function Gw(){return(0,Ql.jsxs)(Hw,{children:[(0,Ql.jsx)(jw,{className:"h-28 w-24"}),(0,Ql.jsx)("div",{className:"text-2xl p-6",children:"Error - Something went wrong"}),(0,Ql.jsx)(Ld,{to:uT.HOT_INDEX,children:(0,Ql.jsx)(Yd,{size:Vd.BIG,children:"Go to Home"})})]})}function Vw(e){var t=e.subType,n=e.containerState,r=e.dispatch,i=e.height,o=K(),a=o.hashtag,s=o.postId,u=bw(n,r,{type:Dd.HASHTAG,subtype:t,hashtag:a||""},s,!0),l=u.content,c=u.fetchNewContent,f=u.indexState,d=u.isFetching,h=u.isError;return Gl((function(){return s&&l&&void 0!==l[0]&&Hd(l[0])?"".concat(l[0].content.label," - FikFap"):a?Fl(a)+" - FikFap":""}),[l,s,a]),a?(0,Ql.jsxs)(nh,{isError:h,isLoading:d&&l.length<1,children:[(0,Ql.jsx)(uw,{content:l,indexState:f,onContentExhaustion:function(e){return c(ww(e))},height:i}),(0,Ql.jsx)(Pw,{detailTitle:Fl(a),hashtagLabel:a}),(0,Ql.jsx)(Jd,{})]}):(0,Ql.jsx)(Gw,{})}function zw(){var e=l((0,r.useState)(!1),2),t=e[0],n=e[1],i=l((0,r.useState)(null),2),o=i[0],a=i[1],s=(0,r.useRef)(null),u=function(){var e=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=5;break}if(!window.dataLayer){e.next=5;break}return n(!0),e.next=5,window.dataLayer.push({event:"optimize.activate"});case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),c=function(){var e=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o||void 0!==window.google_optimize&&(t=parseInt(window.google_optimize.get("fbtivS5wQVWiXKEYCXE6jg"),10)||0,Yl({category:"Optimize",action:"Initialized",label:t.toString(),nonInteraction:!0}),console.log("Optimize Variant: ".concat(t)),a(t),clearInterval(s.current));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function d(){return(d=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.current=setInterval((function(){u(),c()}),gt?100:1e4),setTimeout((function(){return clearInterval(s.current)}),1e4);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,r.useEffect)((function(){!function(){d.apply(this,arguments)}()}),[]),o}var Ww=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),r.createElement("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"}))}));function Kw(){Gl((function(){return"About - FikFap"}),[]);var e=W();return(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)("div",{className:"h-6 w-6 float-right cursor-pointer",onClick:function(){return e(-1)},children:zd.cancel}),(0,Ql.jsx)(sh,{children:"About"}),(0,Ql.jsxs)("div",{className:"bg-white text-dark text-lg rounded-xl p-8 mb-12",children:[(0,Ql.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Why FikFap?"}),(0,Ql.jsx)("div",{className:"mb-4",children:"Being frustrated with the user experience most porn sites offered for mobile users we created FikFap."}),(0,Ql.jsx)("div",{className:"mb-4",children:"The result is a TikTok-inspired, mobile-optimized UI with an intelligent feed algorithm that learns what you like, and keeps giving you more of it."}),(0,Ql.jsxs)("div",{children:["For the best experience,"," ",(0,Ql.jsx)(Ld,{to:uT.APP,className:"font-medium underline",children:"download the official app"})," ","on your phone."]})]}),(0,Ql.jsxs)("div",{className:"text-center rounded-xl mb-4",children:[(0,Ql.jsx)("h2",{className:"text-3xl text-center font-bold mb-6",children:"Join us on our socials"}),(0,Ql.jsxs)("div",{className:"flex flex-row w-full justify-around pt-6 pb-12",children:[(0,Ql.jsxs)(st,{className:"w-16 flex flex-col items-center cursor-pointer hover:opacity-90 text-center",to:"https://discord.gg/HNFj3rRADq",eventLabel:"about-discord",target:"_blank",rel:"noreferrer",children:[(0,Ql.jsx)("div",{className:"w-12 h-12 mb-3",children:zd.discord}),(0,Ql.jsx)("div",{children:"Discord"})]}),(0,Ql.jsxs)(st,{className:"w-16 flex flex-col items-center cursor-pointer hover:opacity-90 text-center",to:"mailto:hello@fikfap.com",eventLabel:"about-mail",children:[(0,Ql.jsx)("div",{className:"w-12 h-12 mb-3",children:(0,Ql.jsx)(Ww,{})}),(0,Ql.jsx)("div",{className:"text-center",children:"Contact"})]})]})]}),(0,Ql.jsxs)("div",{className:"text-lg bg-gradient-to-br from-brand to-brand-strong text-white rounded-xl p-8 mb-8",children:[(0,Ql.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Want to become a content creator?"}),(0,Ql.jsx)("div",{className:"mb-6",children:"As a verified content creator you get additional exposure to promote your onlyfans or fansly account. No effort is required by you \u2014 videos are automatically synced with your redgifs or reddit account."}),(0,Ql.jsx)(st,{className:"font-medium underline",to:"mailto:partners@fikfap.com?subject=Application for a content creator partnership",eventLabel:"about-content-creator-partnership",children:"Apply for a creator partnership"})]}),(0,Ql.jsxs)("div",{className:"bg-white text-dark text-lg rounded-xl p-8 mb-12",children:[(0,Ql.jsx)("h2",{className:" text-3xl font-bold mb-6",children:"Want to support us?"}),(0,Ql.jsx)("div",{className:"mb-6",children:"We are grateful for any kind of support. Be it a simple feedback or feature proposition, help in moderation and development of the page or a donation to help us pay our server bills."}),(0,Ql.jsx)(st,{className:"font-medium underline",to:"https://discord.gg/HNFj3rRADq",eventLabel:"supporter-discord",children:"Discuss support options"})]}),(0,Ql.jsx)(Xw,{title:"Terms Of Service",children:(0,Ql.jsx)(Qw,{})}),(0,Ql.jsx)(Xw,{title:"Privacy Policy",children:(0,Ql.jsx)(Jw,{})}),(0,Ql.jsx)(Xw,{title:"Cookie Policy",children:(0,Ql.jsx)(tE,{})}),(0,Ql.jsx)(Xw,{title:"DMCA Notice",children:(0,Ql.jsx)(Zw,{})}),(0,Ql.jsx)(Xw,{title:"18USC2257",children:(0,Ql.jsx)(eE,{})}),(0,Ql.jsxs)("div",{className:"text-xs  bg-dark-weak text-white rounded-xl p-4",children:[(0,Ql.jsxs)("p",{children:[(0,Ql.jsx)("b",{children:"Version"})," ",bt||"Not found"]}),(0,Ql.jsxs)("p",{children:[(0,Ql.jsx)("b",{children:"Hash"})," ",yt||"Not found"]})]})]})}function qw(e){var t=e.children;return(0,Ql.jsx)("div",{className:"text-2xl font-bold pb-2",children:t})}function Yw(e){var t=e.children;return(0,Ql.jsx)("div",{className:"font-bold pb-2",children:t})}function $w(e){var t=e.children;return(0,Ql.jsx)("div",{className:"pb-3 leading-tight text-coolGray-900",children:t})}function Xw(e){var t=e.title,n=e.children,i=l((0,r.useState)(!1),2),o=i[0],a=i[1];return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsxs)("div",{className:"flex flex-row items-baseline",children:[(0,Ql.jsx)(qw,{children:t}),(0,Ql.jsx)("div",{className:"text-coolGray-900 ml-2",onClick:function(){return a(!o)},children:o?"minimize":"expand"})]}),(0,Ql.jsx)("div",{className:"pb-4",children:o&&n})]})}function Qw(){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)($w,{children:"Last updated April 09, 2022"}),(0,Ql.jsx)(Yw,{children:"1. Acceptance"}),(0,Ql.jsx)($w,{children:"By using and/or visiting the fikfap.com website (collectively, including but not limited to all Content, Uploads and User Submissions available through fikfap.com, the Website) you agree to the terms and conditions contained herein and the terms and conditions of fikfap.com\u2019s privacy policy incorporated herein, and all future amendments and modifications (collectively referred to as the \u2018agreement\u2018). By entering, you agree to be bound by these terms and conditions. If you do not agree to be bound the terms and conditions contained herein, then do not use fikfap.com."}),(0,Ql.jsx)($w,{children:"The terms and conditions of this Agreement are subject to change by fikfap.com at any time in its sole discretion and you agree be bound by all modifications, changes and/or revisions. If you do not accept to be bound by any and all modifications, changes and/or revisions of this agreement, you many not use fikfap.com."}),(0,Ql.jsx)($w,{children:"The terms and conditions contained herein apply to all users of fikfap.com whether a \u2018visitor\u2018 or a \u2018member\u2019 and you are only authorized to use fikfap.com if you agree to abide by all applicable laws and be legally bound by the terms and conditions of this Agreement."}),(0,Ql.jsx)(Yw,{children:"2. Description"}),(0,Ql.jsx)($w,{children:"The fikfap.com website allows for uploading, sharing and general viewing various types of Content allowing registered and unregistered users to share and view visual depictions of adult content, including sexually explicit images. In addition, fikfap.com contains photographic/video content, information and other materials posted/uploaded by users. fikfap.com allows its users to view the Content and Website subject to the terms and conditions of this Agreement."}),(0,Ql.jsx)($w,{children:"The fikfap.com website allows for uploading, sharing and general viewing various types of content allowing registered and unregistered users to share and view visual depictions of adult content, including sexually explicit images. In addition, fikfap.com contains photographic/video content, information and other materials posted/uploaded by users. fikfap.com allows its users to view the Content and Website subject to the terms and conditions of this Agreement."}),(0,Ql.jsx)($w,{children:"fikfap.com is for your personal use and shall not be used for any commercial endeavor except those specifically endorsed or approved by fikfap.com. Any illegal and/or unauthorized use of fikfap.com is prohibited including but not limited to collecting usernames and email addresses for sending unsolicited emails or unauthorized framing or linking to the fikfap.com website is prohibited."}),(0,Ql.jsx)(Yw,{children:"3. Access"}),(0,Ql.jsx)($w,{children:"In order to use this Website, you affirm that you are at least eighteen (18) year of age and/or over the age of majority in the jurisdiction you reside and from which you access the Website where the age of majority is greater than eighteen (18) years of age. If you are under the age of 18 and/or under the age of majority in the jurisdiction you reside and from which you access the Website, then you are not permitted to use the Website."}),(0,Ql.jsx)(Yw,{children:"4. Conduct"}),(0,Ql.jsx)($w,{children:"You acknowledge and agree that you shall be responsible for your own User Submissions and the consequences of posting, uploading, publishing transmitting or other, making them available on fikfap.com. You agree that you shall not (nor others using your account) post, upload, publish, transmit or make available in any way on fikfap.com content which is illegal, unlawful, harassing, harmful, threatening, tortuous, abusive, defamatory, obscene, libelous, invasive of one\u2019s privacy including but not limited to personal information, hateful, racial. You also agree that you shall not post, upload, publish, transmit or make available in any way on fikfap.com software containing viruses or any other computer code, files, or programs designed to destroy, interrupt, limit the functionality of, or monitor, or persistently reside in or on any computer software or hardware or telecommunications equipment. You agree that you shall not (nor others using your account) post, upload, publish, transmit or make available in any way on fikfap.com content which is intentionally or unintentionally violating any applicable local, state, national, or international law, or any regulations or laws having the force of law where you reside and elsewhere, including but not limited to any laws or regulations relating to securities, privacy, and export control. You agree that you shall not (nor others using your account) post, upload, publish, transmit or make available in any way on fikfap.com content depicting illegal activities, promote or depict physical harm or injury against any group or individual, or promote or depict any act of cruelty to animals; You agree not to use fikfap.com in any way that exposes fikfap.com to criminal or civil liability."}),(0,Ql.jsx)($w,{children:"You agree that fikfap.com shall have the right to determine in its sole and unfettered discretion, what action shall be taken in the event of any discovered or reported violation of the terms and conditions contained herein."}),(0,Ql.jsx)(Yw,{children:"5. Intellectual Property"}),(0,Ql.jsx)($w,{children:"The Content contained on the fikfap.com with the exception of User Submissions including but not limited to the text, software, scripts, graphics, music, videos, photos, sounds, interactive features and trademarks, service marks and logos contained therein, are owned by and/or licensed to fikfap.com, subject to copyright and other intellectual property rights under United States, Canada and foreign laws and international conventions. Content on the Website is provided to you AS IS for your information and personal use only and may not be used, copied, reproduced, distributed, transmitted, broadcast, displayed, sold, licensed, or otherwise exploited for any other purposes whatsoever without the prior written consent of the respective owners. fikfap.com reserves all rights not expressly granted in and to the Website and the Content. You agree to not engage in the use, copying, or distribution of any of the Content other than expressly permitted herein, including any use, copying, and/or distribution of User Submissions of third parties obtained through the Website for any commercial purposes. If you download or print a copy of the Content for personal use, you must retain all copyright and other proprietary notices contained therein. You agree not to disable, circumvent, or otherwise interfere with security related features of the fikfap.com or features that prevent or restrict use or copying of any content or enforce limitations on use of the fikfap.com website or the Content therein."}),(0,Ql.jsx)(Yw,{children:"6. User Submissions"}),(0,Ql.jsx)($w,{children:"fikfap.com permits the submission of photos/videos and other communications and the hosting, sharing and publishing of such User Submissions. You understand that whether or not such user submissions are published and/or uploaded, fikfap.com does not guarantee any confidentiality with respect to any submissions."}),(0,Ql.jsx)($w,{children:"fikfap.com allows/permits you to link to materials on the website for personal, non-commercial purposes only. fikfap.com reserves the right to discontinue any aspect of the fikfap.com website at any time."}),(0,Ql.jsx)($w,{children:"You shall be solely responsible for any and all of your own user submissions and the consequences of posting, uploading and publishing them. Furthermore, with User Submissions, you affirm, represent and/or warrant that:"}),(0,Ql.jsx)($w,{children:"You own or retain the necessary licenses, rights, consents, and permissions to use and authorize fikfap.com to use all trademarks, copyrights, trade secrets, patents, or other proprietary rights in and to any and all User Submissions to enable inclusion and use of the User Submissions in the manner contemplated by the Website and these Terms of Service; and you will not post, or allow anyone else to post, any material that depicts any person under the age of 18 years and you have inspected and are maintaining written documentation sufficient to confirm that all subjects of your submissions are, in fact, over the age of 18 years."}),(0,Ql.jsx)($w,{children:"You have the written consent, release, and/or permission of each and every identifiable individual person in the User Submission to use the name or likeness of each and every such identifiable individual person to enable inclusion and use of the user submissions in the manner contemplated by the Website and these Terms of Service. For clarity, you retain all of your ownership rights in your User Submissions. By submitting the user submissions to fikfap.com, you hereby grant fikfap.com a worldwide, non-exclusive, royalty-free, sublicenseable and transferable license to use, reproduce, distribute, prepare derivative works of, display, and perform the User Submissions in connection with the fikfap.com website and fikfap.com\u2019s (and its successor\u2019s) business, including without limitation for promoting and redistributing part or all of the fikfap.com website (and derivative works thereof) in any media formats and through any media channels. You also hereby grant each user of the fikfap.com website a non-exclusive license to access your User Submissions through the Website, and to use, reproduce, distribute, prepare derivative works of, display and perform such User Submissions as permitted through the functionality of the Website and under these Terms of Service. The foregoing license granted by you terminates once you remove or delete a User Submission from the fikfap.com website."}),(0,Ql.jsx)($w,{children:"In submitting material (photos/video or other communication), you further agree that you shall not: submit material that is copyrighted, protected by trade secret or otherwise subject to third party proprietary rights, including privacy and publicity rights, unless you are the owner of such rights or have permission from their rightful owner to post the material and to grant fikfap.com all of the license rights granted herein; publish falsehoods or misrepresentations that could damage fikfap.com or any third party; submit material that is obscene, illegal, unlawful, defamatory, libelous, harassing, hateful, racially or ethnically offensive, or encourages conduct that would be considered a criminal offense, give rise to civil liability, violate any law, or is otherwise inappropriate; post advertisements or solicitations of business; impersonate another person."}),(0,Ql.jsx)($w,{children:"fikfap.com does not endorse any User Submission or any opinion, recommendation, or advice expressed therein, and fikfap.com expressly disclaims any and all liability in connection with User Submissions. fikfap.com does not permit copyright infringing activities and infringement of intellectual property rights on its Website, and fikfap.com will remove all Content and User Submissions if properly notified that such Content or User Submission infringes on another\u2019s intellectual property rights. fikfap.com reserves the right to remove Content and user submissions without prior notice or delay. fikfap.com will also terminate a user\u2019s access to its Website, if they are determined to be an infringer. While pornographic and adult content are accepted, fikfap.com also reserves the right to decide in its sole and unfettered discretion, whether Content or a User Submission is appropriate and complies with these Terms of Service for violations other than copyright infringement and violations of intellectual property law, such as, but not limited to, obscene or defamatory material, or excessive length. fikfap.com may remove such User Submissions and/or terminate a user\u2019s access for uploading such material in violation of these Terms of Service at any time, without prior notice and at its sole discretion."}),(0,Ql.jsx)($w,{children:"You understand and acknowledge that when using fikfap.com, you will be exposed to User Submissions from a variety of sources, and that fikfap.com is not responsible for the accuracy, usefulness, safety, or intellectual property rights of or relating to such User Submissions. You further understand and acknowledge that you may be exposed to User Submissions that are inaccurate, offensive, indecent, or objectionable, and you agree to waive, and hereby do waive, any legal or equitable rights or remedies you have or may have against fikfap.com with respect thereto, and agree to indemnify and hold fikfap.com, its owners, affiliates, operators, and/or licensors, harmless to the fullest extent allowed by law regarding all matters related to your use of the Website."}),(0,Ql.jsx)($w,{children:"You agree that fikfap.com may at its sole discretion have the right to refuse to publish, remove, or block access to any user submission that is available via the Website or other fikfap.com network or services at any time, for any reason, or for no reason at all, with or without notice."}),(0,Ql.jsx)($w,{children:"fikfap.com provides its Website as a service to its users. However, fikfap.com assumes no responsibility whatsoever for monitoring the fikfap.com services for Inappropriate Content or conduct. If at any time fikfap.com chooses, in its sole discretion, to monitor the fikfap.com services, however, fikfap.com assumes no responsibility for the Content, no obligation to modify or remove any Inappropriate Content, and no responsibility for the conduct of the user submitting any such Content. fikfap.com may review and delete any User Submissions that, in its sole judgment, violates this agreement or may be otherwise offensive or illegal, or violate the rights, harm, or threaten the safety of any user or person not associated with the Website (collectively \u201cInappropriate User Submissions\u201d). You are solely responsible for the User Submissions that you make visible on the Website or to any third-party Website via an embedded player provided by the Website or any other material or information that you transmit or share with other Users or unrelated third-parties via the Website."}),(0,Ql.jsx)(Yw,{children:"7. Account Termination Policy"}),(0,Ql.jsx)($w,{children:"A User\u2019s access to fikfap.com will be terminated if, under appropriate conditions, the User is determined to infringe repeatedly. fikfap.com reserves the right to decide whether Content or if a User\u2019s Submission is appropriate and complies with these Terms and Conditions in regards to violations other than copyright infringement or privacy law, such as, but not limited to, hate crimes, pornography, obscene or defamatory material, or excessive length. fikfap.com may remove such User Submissions and/or terminate a User\u2019s access for uploading such material in violation of these Terms and Conditions at any time, without prior notice and at its sole discretion."}),(0,Ql.jsx)(Yw,{children:"8. Policy"}),(0,Ql.jsx)($w,{children:"fikfap.com abides by a ZERO TOLERANCE policy relating to any illegal content. Under-age pornography, bestiality, rape, torture, snuff, death and/or any other type of obscene and/or illegal material shall not be tolerated by fikfap.com. fikfap.com shall not condone under-age pornography and will cooperate with all governmental agencies that seek those who produce illegal pornography."}),(0,Ql.jsx)(Yw,{children:"9. Fees"}),(0,Ql.jsx)($w,{children:"You agree to pay for all royalties, fees, and any other monies owing any person by reason of any Submissions posted by you to or through this website."}),(0,Ql.jsx)(Yw,{children:"10. Warranties"}),(0,Ql.jsx)($w,{children:"You represent and warrant that all of the information provided by you to fikfap.com to participate in the fikfap.com website is accurate and current and you have all necessary right, power, and authority to enter into this Agreement and to perform the acts required of you hereunder."}),(0,Ql.jsx)($w,{children:"As a condition to using fikfap.com you must agree to the terms of fikfap.com\u2019s privacy policy and its modifications. You acknowledge and agree that the technical processing and transmission of the Website, including your User Submissions, may involve transmissions over various networks; and changes to conform and adapt to technical requirements of connecting networks or devices. You further acknowledge and agree that other data collected and maintained by fikfap.com with regard to its users may be disclosed in accordance with the fikfap.com Privacy Policy."}),(0,Ql.jsx)(Yw,{children:"11. Warranty Disclaimer"}),(0,Ql.jsx)($w,{children:"YOU AGREE THAT YOUR USE OF THE fikfap.com WEBSITE SHALL BE AT YOUR SOLE RISK. TO THE FULLEST EXTENT PERMITTED BY LAW, fikfap.com, ITS OFFICERS, DIRECTORS, EMPLOYEES, AND AGENTS DISCLAIM ALL WARRANTIES, EXPRESS OR IMPLIED, IN CONNECTION WITH THE WEBSITE AND YOUR USE THEREOF. fikfap.com MAKES NO WARRANTIES OR REPRESENTATIONS ABOUT THE ACCURACY OR COMPLETENESS OF THIS SITE\u2019S CONTENT OR THE CONTENT OF ANY SITES LINKED TO THIS SITE AND ASSUMES NO LIABILITY OR RESPONSIBILITY FOR ANY ERRORS, MISTAKES, OR INACCURACIES OF CONTENT, PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF OUR WEBSITE, ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM OUR WEBSITE, (IV) ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE WHICH MAY BE TRANSMITTED TO OR THROUGH OUR WEBSITE BY ANY THIRD PARTY, AND/OR ANY ERRORS OR OMISSIONSIN ANY CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF THE USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE fikfap.com WEBSITE. fikfap.com DOES NOT WARRANT, ENDORSE, GUARANTEE, OR ASSUME RESPONSIBILITY FOR ANY PRODUCT OR SERVICE ADVERTISED OR OFFERED BY A THIRD PARTY THROUGH THE fikfap.com WEBSITE OR ANY HYPERLINKED WEBSITE OR FEATURED IN ANY BANNER OR OTHER ADVERTISING, AND fikfap.com WILL NOT BE A PARTY TO OR IN ANY WAY BE RESPONSIBLE FOR MONITORING ANY TRANSACTION BETWEEN YOU AND THIRD-PARTY PROVIDERS OF PRODUCTS OR SERVICES. AS WITH THE PURCHASE OF A PRODUCT OR SERVICE THROUGH ANY MEDIUM OR IN ANY ENVIRONMENT, YOU SHOULD USE YOUR BEST JUDGMENT AND EXERCISE CAUTION WHERE APPROPRIATE. THE FOREGOING LIMITATION OF LIABILITY SHALL APPLY TO THE FULLEST EXTENT PERMITTED BY LAW IN THE APPLICABLE JURISDICTION. YOU SPECIFICALLY ACKNOWLEDGE THAT fikfap.com SHALL NOT BE LIABLE FOR USER SUBMISSIONS OR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY AND THAT THE RISK OF HARM OR DAMAGE FROM THE FOREGOING RESTS ENTIRELY WITH YOU."}),(0,Ql.jsx)(Yw,{children:"12. Limitation of liability"}),(0,Ql.jsx)($w,{children:"IN NO EVENT SHALL fikfap.com, ITS OFFICERS, DIRECTORS, EMPLOYEES, OR AGENTS, BE LIABLE TO YOU FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES WHATSOEVER RESULTING FROM ANY ERRORS, MISTAKES, OR INACCURACIES OF CONTENT, PERSONAL INJURY OR PROPERTY DAMAGE, OF ANY NATURE WHATSOEVER, RESULTING FROM YOUR ACCESS TO AND USE OF OUR WEBSITE, ANY UNAUTHORIZED ACCESS TO OR USE OF OUR SECURE SERVERS AND/OR ANY AND ALL PERSONAL INFORMATION AND/OR FINANCIAL INFORMATION STORED THEREIN, ANY INTERRUPTION OR CESSATION OF TRANSMISSION TO OR FROM OUR WEBSITE, ANY BUGS, VIRUSES, TROJAN HORSES, OR THE LIKE, WHICH MAY BE TRANSMITTED TO OR THROUGH OUR WEBSITE BY ANY THIRD PARTY, AND/OR ANY ERRORS OR OMISSIONS IN ANY CONTENT OR FOR ANY LOSS OR DAMAGE OF ANY KIND INCURRED AS A RESULT OF YOUR USE OF ANY CONTENT POSTED, EMAILED, TRANSMITTED, OR OTHERWISE MADE AVAILABLE VIA THE fikfap.com WEBSITE, WHETHER BASED ON WARRANTY, CONTRACT, TORT, OR ANY OTHER LEGAL THEORY, AND WHETHER OR NOT THE COMPANY IS ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. THE FOREGOING LIMITATION OF LIABILITY SHALL APPLY TO THE FULLEST EXTENT PERMITTED BY LAW IN THE APPLICABLE JURISDICTION. YOU SPECIFICALLY ACKNOWLEDGE THAT fikfap.com SHALL NOT BE LIABLE FOR USER SUBMISSIONS OR THE DEFAMATORY, OFFENSIVE, OR ILLEGAL CONDUCT OF ANY THIRD PARTY AND THAT THE RISK OF HARM OR DAMAGE FROM THE FOREGOING RESTS ENTIRELY WITH YOU."}),(0,Ql.jsx)(Yw,{children:"13. Indemnity"}),(0,Ql.jsxs)($w,{children:["You agree to defend, indemnify and hold harmless fikfap.com, its parent corporation, officers, directors, employees and agents, from and against any and all claims, damages, obligations, losses, liabilities, costs or debt, and expenses (including but not limited to attorney\u2019s fees) arising from:",(0,Ql.jsxs)("ul",{className:"list-disc list-inside pt-2 pb-2 text-left",children:[(0,Ql.jsx)("li",{children:"your use of and access to the fikfap.com Website;"}),(0,Ql.jsx)("li",{children:"your violation of any term of these Terms of Service;"}),(0,Ql.jsx)("li",{children:"your violation of any third party right, including without limitation any copyright, property, or privacy right; or"}),(0,Ql.jsx)("li",{children:"any claim that one of your User Submissions caused damage to a third party."})]}),"This defense and indemnification obligation will survive these Terms of Service and your use of the fikfap.com Website. You affirm that you are either more than 18 years of age or an emancipated minor, or possess legal parental or guardian consent, and are fully able and competent to enter into the terms, conditions, obligations, affirmations, representations, and warranties set forth in these Terms of Service, and to abide by and comply with these Terms and Conditions contained herein."]}),(0,Ql.jsx)(Yw,{children:"14. Assignment"}),(0,Ql.jsx)($w,{children:"The Terms and Conditions contained herein and any rights and licenses granted hereunder, may not be transferred or assigned by you, but may be assigned by fikfap.com without restriction."}),(0,Ql.jsx)($w,{children:"If any term, clause or provision of the agreement is held invalid or unenforceable by a court of competent jurisdiction, such invalidity shall not affect the validity or operation of any term, clause or provision and such invalid term, clause or provision shall be deemed to be severed from this Agreement."})]})}function Jw(){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)($w,{children:"Last updated April 09, 2022"}),(0,Ql.jsx)($w,{children:"This document details important information regarding the use and disclosure of user data collected on fikfap.com."}),(0,Ql.jsx)($w,{children:"The security of your data is very important to fikfap.com, and as such we take all appropriate steps to limit the risk that it may be lost, damaged or misused."}),(0,Ql.jsx)($w,{children:"This site expressly and strictly limits its membership and/or viewing privileges to adults 18 years of age and over or having attained the age of majority in their community. All persons who do not meet its criteria are strictly forbidden from accessing or viewing the contents of this site. We do not knowingly seek or collect any personal information or data from persons who have not attained the age of majority."}),(0,Ql.jsx)($w,{children:"This site expressly and strictly limits its membership and/or viewing privileges to adults 18 years of age and over or having attained the age of majority in their community. All persons who do not meet its criteria are strictly forbidden from accessing or viewing the contents of this site. We do not knowingly seek or collect any personal information or data from persons who have not attained the age of majority."}),(0,Ql.jsx)(Yw,{children:"1. Data Collected"}),(0,Ql.jsx)($w,{children:"Personal Information: Non-Registered users can view photos/watch videos without registering. Any data being collected and processed will be anonymized. Only essential information required for the website to work will be collected and processed."}),(0,Ql.jsx)($w,{children:"Registered Members: Registration is required for uploading photos/videos, and accessing a number of other features. The following personal information is requested at the time of registration: username (required), an email address (required). Additional personal information, such as year of birth, gender, etc. may be added on a voluntary basis after registration, for members interested in identifying and potentially contacting other members meeting specific criteria. All this data with the exception of the email address and IP address becomes publicly accessible information."}),(0,Ql.jsx)($w,{children:"Content Uploaded to the site: Any personal information or video content that you voluntarily disclose online becomes publicly available and can be collected and used by others."}),(0,Ql.jsx)($w,{children:"Cookies: When you visit fikfap.com, we may send one or more cookies to your computer that uniquely identifies your browser session. fikfap.com uses session cookies, persistent cookies as well as local storage and local session storage. If you remove your persistent cookie or clear you local storage, some of the site\u2019s features may not function properly."}),(0,Ql.jsx)($w,{children:"Log File Information: When you visit fikfap.com, our servers automatically record certain information that your web browser sends such as your web request, IP address, browser type, browser language, referring URL, platform type, domain names and the date and time of your request."}),(0,Ql.jsx)($w,{children:"Emails: If you contact us, we may keep a record of that correspondence."}),(0,Ql.jsx)(Yw,{children:"2. Uses"}),(0,Ql.jsx)($w,{children:"Your Personally identifiable information submitted to fikfap.com is used to provide to the user the website\u2019s features and special personalized features. Your chosen username (not your email address) is displayed to other users alongside the content you upload, including photos/videos, comments, the messages you send through the fikfap.com private mail, etc. Other users can contact you through private messages."}),(0,Ql.jsx)($w,{children:"Any photos/videos that you submit to fikfap.com may be redistributed through the internet and other media channels, and may be viewed by the general public."}),(0,Ql.jsx)($w,{children:"We do not use your email address or other personally identifiable information to send commercial or marketing messages without your consent."}),(0,Ql.jsx)($w,{children:"We may use your email address without further consent for non-marketing or administrative purposes (such as notifying you of key website changes or for customer service purposes)."}),(0,Ql.jsx)($w,{children:"We analyze aggregated user traffic information to help streamline our marketing and hosting operations and to improve the quality of the fikfap.com user-experience."}),(0,Ql.jsx)(Yw,{children:"3. Disclosure Of Information"}),(0,Ql.jsx)($w,{children:"If under duty to do so fikfap.com may release data to comply with any legal obligation, or in order to enforce our Terms Of Service and other agreements; or to protect the rights, property or safety of fikfap.com or our subscribers or others. This includes exchanging information with other companies and organizations including the police and governmental authorities for the purposes of protection against fraud or any other kind of illegal activity whether or not identified in the Terms Of Service. It is fikfap.com\u2019s policy, whenever possible and legally permissible, to promptly notify you upon an obligation to supply data to any third party."}),(0,Ql.jsx)($w,{children:"Should you deliberately upload any illegal material fikfap.com shall forward all available information to all relevant authorities and this without notice."}),(0,Ql.jsx)($w,{children:"We do not share your personally identifiable information (such as name or email address) with other, third-party companies for their commercial or marketing use without your consent or except as part of a specific program or feature for which you will have the ability to opt-in or opt-out."}),(0,Ql.jsx)(Yw,{children:"4. Security"}),(0,Ql.jsx)($w,{children:"Where we have given you (or where you have chosen a password) which enables you to access certain parts of our Site, you are responsible for keeping this password confidential. We ask you not to share your password with anyone."}),(0,Ql.jsx)($w,{children:"Unfortunately, the transmission of information via the Internet is not completely secure. fikfap.com uses commercially reasonable physical, managerial and technical safeguards to preserve the integrity and security of your personal information. We cannot, however, ensure or warrant the security of any information you transmit to fikfap.com and you do so at your own risk."}),(0,Ql.jsx)(Yw,{children:"5. Your Rights"}),(0,Ql.jsxs)($w,{children:["You are entitled to access and correct your data by doing so directly on the website or by requesting us to do so via"," ",(0,Ql.jsx)("a",{className:"underline",href:"mailto:hello@fikfap.com",children:"hello@fikfap.com"})]})]})}function Zw(){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)($w,{children:"Last updated April 09, 2022"}),(0,Ql.jsx)($w,{children:"In accordance with the Digital Millennium Copyright Act of 1998 (the text of which may be found on the U.S. Copyright Office website at http://lcweb.loc.gov/copyright/), fikfap.com will respond expeditiously to claims of copyright infringement that are reported to fikfap.com\u2019s designated copyright agent identified below. Please also note that under Section 512(f) any person who knowingly materially misrepresents that material or activity is infringing may be subject to liability. fikfap.com reserves the right at its sole and entire discretion, to remove content and terminate the accounts of fikfap.com users who infringe, or appear to infringe, the intellectual property or other rights of third parties."}),(0,Ql.jsx)($w,{children:"If you believe that your copywriten work has been copied in a way that constitutes copyright infringement, please provide fikfap.com\u2019s copyright agent the following information:"}),(0,Ql.jsx)($w,{children:"A physical or electronic signature of a person authorized to act on behalf of the owner of an exclusive right that is allegedly infringed;"}),(0,Ql.jsx)($w,{children:"Identification of the copyright work claimed to have been infringed, or, if multiple copyrighted works at a single online site are covered by a single notification, a representative list of such works at the website;"}),(0,Ql.jsx)($w,{children:"Identification of the material that is claimed to be infringing or to be the subject of infringing activity and that is to be removed or access to which is to be disabled, and information reasonably sufficient to permit fikfap.com to locate the material;"}),(0,Ql.jsx)($w,{children:"Information reasonably sufficient to permit fikfap.com to contact the complaining party, including a name, address, telephone number and, if available, an email address at which the complaining party may be contacted;"}),(0,Ql.jsx)($w,{children:"A statement that the complaining party has a good-faith belief that use of the material in the manner complained of is not authorized by the copyright owner, its agent or the law; and"}),(0,Ql.jsx)($w,{children:"A statement that the information in the notification is accurate and, under penalty of perjury, that the complaining party is authorized to act on behalf of the owner of an exclusive right that is allegedly infringed."}),(0,Ql.jsx)($w,{children:"All claims of copyright infringement on or regarding this website should be delivered to fikfap.com\u2019s designated copyright agent at the following address:"}),(0,Ql.jsx)($w,{children:(0,Ql.jsx)("a",{className:"underline",href:"mailto:dmca@fikfap.com",children:"dmca@fikfap.com"})}),(0,Ql.jsx)($w,{children:"We apologize for any kind of misuse of our service and promise to do our best to find and terminate abusive files."})]})}function eE(){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)($w,{children:"Last updated April 09, 2022"}),(0,Ql.jsx)($w,{children:"fikfap.com is not a producer (primary or secondary) of any and all of the content found on the website (fikfap.com). With respect to the records as per 18 USC 2257 for any and all content found on this site, please kindly direct your request to the site for which the content was produced."}),(0,Ql.jsx)($w,{children:"fikfap.com is a photo/video sharing site in which allows for the uploading, sharing and general viewing of various types of adult and non-adult content and while fikfap.com does the best it can with verifying compliance, it may not be 100% accurate."}),(0,Ql.jsx)($w,{children:"fikfap.com abides by the following procedures to ensure compliance:"}),(0,Ql.jsx)($w,{children:"Requiring all users to be 18 years of age to upload or submit videos. When uploading or submitting, the user must verify the content; assure he/she is 18 years of age; certify that he/she keeps records of the models in the content and that they are over 18 years of age. fikfap.com allows content to be flagged as inappropriate. Should any content be flagged as illegal, unlawful, harassing, harmful, offensive or various other reasons, fikfap.com shall remove it from the site without delay."}),(0,Ql.jsxs)($w,{children:["Users of fikfap.com who come across such content are urged to report the content by sending us an email to"," ",(0,Ql.jsx)("a",{className:"underline",href:"mailto:hello@fikfap.com",children:"hello@fikfap.com"})]})]})}function tE(){return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)($w,{children:"Last updated April 09, 2022"}),(0,Ql.jsx)($w,{children:'This Cookie Policy explains how FikFap ("Company", "we", "us", and "our") uses cookies and similar technologies to recognize you when you visit our websites at https://fikfap.com, ("Websites"). It explains what these technologies are and why we use them, as well as your rights to control our use of them.In some cases we may use cookies to collect personal information, or that becomes personal information if we combine it with other information.'}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"What are cookies?"}),'Cookies are small data files that are placed on your computer or mobile device when you visit a website. Cookies are widely used by website owners in order to make their websites work, or to work more efficiently, as well as to provide reporting information.Cookies set by the website owner are called "first party cookies". Cookies set by parties other than the website owner are called "third party cookies". Third party cookies enable third party features or functionality to be provided on or through the website (e.g. like advertising, interactive content and analytics). The parties that set these third party cookies can recognize your computer both when it visits the website in question and also when it visits certain other websites.']}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Why do we use cookies?"}),'We use first and third party cookies for several reasons. Some cookies are required for technical reasons in order for our Websites to operate, and we refer to these as "essential" or "strictly necessary" cookies. Other cookies also enable us to track and target the interests of our users to enhance the experience on our Online Properties. Third parties serve cookies through our Websites for advertising, analytics and other purposes. This is described in more detail below.The specific types of first and third party cookies served through our Websites and the purposes they perform are described below (please note that the specific cookies served may vary depending on the specific Online Properties you visit):']}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"How can I control cookies?"}),"You have the right to decide whether to accept or reject cookies. You can exercise your cookie rights by setting your preferences in the Cookie Consent Manager. The Cookie Consent Manager allows you to select which categories of cookies you accept or reject. Essential cookies cannot be rejected as they are strictly necessary to provide you with services.The Cookie Consent Manager can be found in the notification banner and on our website. If you choose to reject cookies, you may still use our website though your access to some functionality and areas of our website may be restricted. You may also set or amend your web browser controls to accept or refuse cookies. As the means by which you can refuse cookies through your web browser controls vary from browser-to-browser, you should visit your browser's help menu for more information.In addition, most advertising networks offer you a way to opt out of targeted advertising. If you would like to find out more information, please visit http://www.aboutads.info/choices/ or http://www.youronlinechoices.com. The specific types of first and third party cookies served through our Websites and the purposes they perform are described in the table below (please note that the specificcookies served may vary depending on the specific Online Properties you visit):"]}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Essential website cookies"}),"These cookies are strictly necessary to provide you with services available through our Websites and to use some of its features, such as access to secure areas. Name:__cf_bm Purpose: Cloudflare places the cookie on end-user devices that access customer sites protected by Bot Management or Bot Fight Mode. Provider: .fikfap.com Service: Cloudflare Policy Country: United States Type: server_cookie Expires in: 30 minutes"]}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Analytics and customization cookies"}),"These cookies collect information that is used either in aggregate form to help us understand how our Websites are being used or how effective our marketing campaigns are, or to help us customize our Websites for you. Name:_ga_# Purpose: Used to distinguish individual users by means of designation of a randomly generated number as client identifier, which allows calculation of visits and sessions Provider: .fikfap.com Service: Google analytics View Service Privacy Policy Country: United States Type: http_cookie Expires in: 1 year 11 months 29 days Name:_ga Purpose: It records a particular ID used to come up with data about website usage by the user. It is a HTTP cookie that expires after 2 years. Provider: .fikfap.com Service: Google Analytics Country: United States Type: http_cookie Expires in: 1 year 11 months 29 days"]}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"What about other tracking technologies, like web beacons?"}),'Cookies are not the only way to recognize or track visitors to a website. We may use other, similar technologies from time to time, like web beacons (sometimes called "tracking pixels" or "clear gifs"). These are tiny graphics files that contain a unique identifier that enable us to recognize when someone has visited our Websites or opened an e-mail including them. This allows us, for example, to monitor the traffic patterns of users from one page within a website to another, to deliver or communicate with cookies, to understand whether you have come to the website from an online advertisement displayed on a third-party website, to improve site performance, and to measure the success of e-mail marketing campaigns. In many instances, these technologies are reliant on cookies to function properly, and so declining cookies will impair their functioning.']}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Do you use Flash cookies or Local Shared Objects?"}),'Websites may also use so-called "Flash Cookies" (also known as Local Shared Objects or "LSOs") to, among other things, collect and store information about your use of our services, fraud prevention and for other site operations.If you do not want Flash Cookies stored on your computer, you can adjust the settings of your Flash player to block Flash Cookies storage using the tools contained in the Website Storage Settings Panel. You can also control Flash Cookies by going to the Global Storage Settings Panel and following the instructions (which may include instructions that explain, for example, how to delete existing Flash Cookies (referred to "information" on the Macromedia site), how to prevent Flash LSOs from being placed on your computer without your being asked, and (for Flash Player 8 and later) how to block Flash Cookies that are not being delivered by the operator of the page you are on at the time).Please note that setting the Flash Player to restrict or limit acceptance of Flash Cookies may reduce or impede the functionality of some Flash applications, including, potentially, Flash applications used in connection with our services or online content.']}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Do you serve targeted advertising?"}),"Third parties may serve cookies on your computer or mobile device to serve advertising through our Websites. These companies may use information about your visits to this and other websites in order to provide relevant advertisements about goods and services that you may be interested in. They may also employ technology that is used to measure the effectiveness of advertisements. This can be accomplished by them using cookies or web beacons to collect information about your visits to this and other sites in order to provide relevant advertisements about goods and services of potential interest to you. The information collected through this process does not enable us or them to identify your name, contact details or other details that directly identify you unless you choose to provide these."]}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"How often will you update this Cookie Policy?"}),"We may update this Cookie Policy from time to time in order to reflect, for example, changes to the cookies we use or for other operational, legal or regulatory reasons. Please therefore re-visit this Cookie Policy regularly to stay informed about our use of cookies and related technologies.The date at the top of this Cookie Policy indicates when it was last updated.Where can I get further information?"]}),(0,Ql.jsxs)($w,{children:[(0,Ql.jsx)(Yw,{children:"Where can I get further information?"}),"If you have any questions about our use of cookies or other technologies, please email us at hello@fikfap.com."]})]})}var nE=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"}))}));var rE,iE=function(e){var t=(0,r.useRef)(e);t.current=(0,r.useMemo)((function(){return e}),[e]);var n=(0,r.useRef)();return n.current||(n.current=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}),n.current},oE=(rE=r.useEffect,function(e,t){var n=(0,r.useRef)(!1);rE((function(){return function(){n.current=!1}}),[]),rE((function(){if(n.current)return e();n.current=!0}),t)}),aE=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};var sE,uE=(sE=function(){return pd?sessionStorage:void 0},function(e,t){var n;try{n=sE()}catch(u){console.error(u)}function i(){try{var r=null===n||void 0===n?void 0:n.getItem(e);if(r)return i=r,(null===t||void 0===t?void 0:t.deserializer)?null===t||void 0===t?void 0:t.deserializer(i):JSON.parse(i)}catch(bc){console.error(bc)}var i;return dd(null===t||void 0===t?void 0:t.defaultValue)?null===t||void 0===t?void 0:t.defaultValue():null===t||void 0===t?void 0:t.defaultValue}var o=aE((0,r.useState)((function(){return i()})),2),a=o[0],s=o[1];return oE((function(){s(i())}),[e]),[a,iE((function(r){var i=dd(r)?r(a):r;if(s(i),function(e){return"undefined"===typeof e}(i))null===n||void 0===n||n.removeItem(e);else try{null===n||void 0===n||n.setItem(e,function(e){return(null===t||void 0===t?void 0:t.serializer)?null===t||void 0===t?void 0:t.serializer(e):JSON.stringify(e)}(i))}catch(bc){console.error(bc)}}))]}),lE=uE,cE=n(8573),fE=n.n(cE),dE=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},hE=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(dE(arguments[t]));return e};var pE=function(e,t){var n,i=ud(e),o=null!==(n=null===t||void 0===t?void 0:t.wait)&&void 0!==n?n:1e3,a=(0,r.useMemo)((function(){return fE()((function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return i.current.apply(i,hE(e))}),o,t)}),[]);return ld((function(){a.cancel()})),{run:a,cancel:a.cancel,flush:a.flush}},vE=n(6152),gE=n.n(vE);function mE(e){var t=e.title,n=e.customOptionField,i=e.containerState,o=e.dispatch,a=e.containerArgs,s=e.generatePostPath,u=e.assistingContent,c=Ew(a),f=(0,r.useRef)(null);return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:SE,n=V(),i=l(lE(t),2),o=i[0],a=i[1];(0,r.useEffect)((function(){e.current&&o&&o.pathname===n.pathname&&e.current.scrollTo(0,o.scrollTop)}),[null!==e.current,n.pathname]),(0,r.useLayoutEffect)((function(){return function(){e.current&&a({pathname:n.pathname,scrollTop:e.current.scrollTop})}}),[n.pathname])}(f),(0,Ql.jsx)("div",{className:"absolute top-0 bottom-0 left-0 right-0",children:(0,Ql.jsxs)("div",{className:"h-full flex flex-col bg-dark",children:[(0,Ql.jsx)(bE,{title:t,children:n}),(0,Ql.jsxs)("div",{ref:f,className:"flex flex-col flex-grow items-center justify-centers overflow-y-scroll no-scrollbar",children:[u,(0,Ql.jsx)(yE,{containerState:i,dispatch:o,containerArgs:a,generatePostPath:s},c)]})]})})}function yE(e){var t=e.containerState,n=e.dispatch,i=e.containerArgs,o=e.generatePostPath,a=(0,r.useRef)(null),s=l(gE()(a),1)[0],u=W(),c=bw(t,n,i),f=c.content,d=c.fetchNewContent,h=c.isFetching,p=c.indexState,v=function(e){var t=l((0,r.useState)(!1),2),n=t[0],i=t[1],o=pE((function(){i(e)}),{wait:300}).run;return(0,r.useEffect)((function(){i(!1),o()}),[e]),e&&n}(h),g=(0,r.useMemo)((function(){return f.filter((function(e){return Hd(e)})).map((function(e){return e.content}))}),[f]);(0,r.useEffect)((function(){s&&g.length>0&&d(g[g.length-1].id)}),[s]);var m=g.length>0?g[Math.max(g.length-10,0)].id:void 0,y=l((0,r.useState)(null),2),b=y[0],w=y[1],E=l((0,r.useState)(null),2),S=E[0],x=E[1];return(0,r.useEffect)((function(){null!==b&&b===p.current&&null!==S&&u(S)}),[b,p.current]),(0,Ql.jsxs)("div",{className:"w-full flex-grow flex-shrink-0 bg-black overflow-x-hidden",children:[(0,Ql.jsx)("div",{className:"flex flex-row flex-wrap gap-1.5 py-1.5",children:g.map((function(e){return(0,Ql.jsx)(wE,{ref:m===e.id?a:void 0,onClick:function(){return function(e){var t=f.findIndex((function(t){return Hd(t)&&t.content.id===e}));p.setCurrent(t),w(t),x(o(e))}(e.id)},img:e.imageUrl&&Kl(e.sourceId,e.imageUrl,dl.GIF_THUMBNAIL_SD)},e.id)}))}),v&&(0,Ql.jsx)(EE,{})]})}function bE(e){var t=e.title,n=e.children;return(0,Ql.jsxs)("div",{className:"w-full bg-dark flex flex-row items-center justify-between p-2.5",children:[(0,Ql.jsx)(uh,{}),(0,Ql.jsx)("div",{className:"inline-flex items-center text-xl font-bold",children:t}),n||(0,Ql.jsx)("div",{className:"w-12"})]})}var wE=r.forwardRef((function(e,t){var n=e.img,r=e.onClick;return(0,Ql.jsx)("div",{className:"-mx-0.5 w-1/3",children:(0,Ql.jsx)("div",{ref:t,onClick:r,className:"mx-0.5 rounded-md overflow-hidden bg-dark-weak cursor-pointer",children:(0,Ql.jsx)("div",{className:"aspect-h-16 aspect-w-9",children:n?(0,Ql.jsx)("img",{className:"object-cover object-center",src:n,loading:"lazy"}):(0,Ql.jsx)("div",{className:"flex items-center justify-center bg-dark-weak",children:(0,Ql.jsx)(nE,{className:"h-12 w-12"})})})})})}));function EE(){return(0,Ql.jsx)("div",{className:"flex flex-grow-1 p-6 items-center justify-center",children:(0,Ql.jsx)("div",{className:"h-12 w-12",children:zd.animatedSpinner})})}wE.displayName="CardPreview";var SE="lastScroll";function xE(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:SE;window.sessionStorage&&window.sessionStorage.removeItem(e)}n(132);var TE=function(){return TE=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},TE.apply(this,arguments)},_E=function(e,t){var n="function"===typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-->0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},kE=function(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};var AE=function(e,t){var n=_E((0,r.useState)(),2),i=n[0],o=n[1],a=_E((0,r.useState)(),2),s=a[0],u=a[1];return yd((function(){var n=vd(e);if(n){var r=new IntersectionObserver((function(e){var t,n;try{for(var r=kE(e),i=r.next();!i.done;i=r.next()){var a=i.value;u(a.intersectionRatio),o(a.isIntersecting)}}catch(s){t={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(t)throw t.error}}}),TE(TE({},t),{root:vd(null===t||void 0===t?void 0:t.root)}));return r.observe(n),function(){r.disconnect()}}}),[],e),[i,s]},CE=function(e){for(var t=function(){var e=void 0===navigator.languages?[navigator.language]:navigator.languages;return e?e.map((function(e){return e.trim()})):[]}().map((function(e){return e.toLowerCase()})),n=0,r=[{locales:["zh","kw","ja"],hashtags:["AsianHotties","AsiansGoneWild","juicyasians"]},{locales:["hi"],hashtags:["IndianBabes","Indiantiktokgonewild"]}];n<r.length;n++){var i,o=r[n],a=qu(o.locales);try{var s=function(){var n=i.value;if(t.some((function(e){return e.includes(n)}))){var r=o.hashtags[Math.floor(Math.random()*o.hashtags.length)],a=e.hashtags.filter((function(e){return e.label.toLowerCase()===r.toLowerCase()}));if(a.length)return{v:a[0]}}};for(a.s();!(i=a.n()).done;){var u=s();if("object"===typeof u)return u.v}}catch(l){a.e(l)}finally{a.f()}}return null};function OE(e){var t=e.categoryRequest,n=e.dispatch,i=l((0,r.useState)(""),2),o=i[0],a=i[1],s=(0,r.useMemo)((function(){return function(e,t){if(!e||e.hashtags.length<1)return null;var n=e.hashtags;if(""===t||!t)return{hashtags:n=e.hashtags.filter((function(t){return e.posts.filter((function(e){var n;return(null===(n=e.hashtags)||void 0===n?void 0:n.length)&&e.hashtags[0].label===t.label})).length>=10})),posts:e.posts};var r=t.toLowerCase().replace(/ /g,"");return{hashtags:n.filter((function(e){return e.label.toLowerCase().replace(/ /g,"").includes(r)})),posts:e.posts}}(t.data,o)}),[t.data,o]);if(t.pending||!t.everExecuted||t.error)return(0,Ql.jsx)(rh,{});if(t.success&&s){var u=CE(s),c=s;return u&&(c.hashtags=c.hashtags.filter((function(e){return e.id!=u.id}))),(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"pb-4",children:(0,Ql.jsx)(RE,{queryString:o,setQueryString:a})}),u&&(0,Ql.jsx)(LE,{hashtag:u,posts:c.posts.filter((function(e){var t;return(null===(t=e.hashtags)||void 0===t?void 0:t.length)&&e.hashtags[0].label===u.label})),dispatch:n,isRecommended:!0},u.id),c.hashtags.length>0?(0,Ql.jsx)(IE,{hashtagsWithPosts:c,dispatch:n}):(0,Ql.jsx)("div",{className:"px-4 pb-9",children:"No matching results found your search query..."})]})}return null}function IE(e){var t=e.hashtagsWithPosts,n=e.dispatch,i=(0,r.useRef)(null),o=l(AE(i),1)[0];(0,r.useEffect)((function(){u({prev:0,next:10}),v(f.length!==t.hashtags.length),d(t.hashtags.slice(0,10))}),[t]);var a=l((0,r.useState)({prev:0,next:10}),2),s=a[0],u=a[1],c=l((0,r.useState)(t.hashtags.slice(s.prev,s.next)),2),f=c[0],d=c[1],h=l((0,r.useState)(f.length!==t.hashtags.length),2),p=h[0],v=h[1];(0,r.useEffect)((function(){o&&p&&f.length>0&&g()}),[o]);var g=function(){console.count("fetch"),f.length!==t.hashtags.length?(d(f.concat(t.hashtags.slice(s.prev+10,s.next+10))),u((function(e){return{prev:e.prev+10,next:e.next+10}}))):v(!1)},m=f.length>0?f[Math.max(f.length-5,0)].id:void 0;return(0,Ql.jsx)(Ql.Fragment,{children:f&&f.map((function(e){return(0,Ql.jsx)(LE,{ref:m===e.id?i:void 0,hashtag:e,posts:t.posts.filter((function(t){var n;return(null===(n=t.hashtags)||void 0===n?void 0:n.length)&&t.hashtags[0].label===e.label})),dispatch:n},e.id)}))})}function RE(e){var t=e.queryString,n=e.setQueryString;return(0,Ql.jsxs)("div",{className:"flex justify-between text-coolGray-300 text-lg rounded-md w-full p-3 bg-white ",children:[(0,Ql.jsx)("input",{className:"focus:outline-none w-full flex-grow-1 h-7 placeholder-coolGray-300",type:"text",name:"discover",placeholder:"Search hashtags",value:t,onChange:function(e){return n(e.target.value)}}),(0,Ql.jsx)("div",{className:"h-7 w-7 flex-shrink-0",children:zd.search})]})}var LE=r.forwardRef((function(e,t){var n=e.hashtag,i=e.posts,o=e.dispatch,a=e.isRecommended,s=l((0,r.useState)(!1),2),u=s[0],c=s[1];if(i.length<1)return null;function f(){xE(),o({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.HASHTAG,subtype:Pd.TOP,hashtag:n.label})}),o({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.HASHTAG,subtype:Pd.LATEST,hashtag:n.label})}),Yl({category:"Discover",action:"Goto Hashtag",label:n.label})}var d=A(uT.HASHTAG,{hashtag:n.label});return(0,Ql.jsxs)("div",{ref:t,className:"pb-4 select-none transition-colors ease-in-out duration-600 ".concat(u?"bg-coolGray-100":"bg-black"),onTouchStart:function(){return c(!0)},onTouchEnd:function(){return c(!1)},onMouseDown:function(){return c(!0)},onMouseUp:function(){return c(!1)},onMouseOut:function(){return c(!1)},children:[(0,Ql.jsx)(Ld,{to:d,onClick:f,children:(0,Ql.jsxs)("div",{className:"flex flex-row w-full pb-2 items-baseline",children:[(0,Ql.jsx)("div",{className:"font-sm font-bold mr-2",children:Fl(n.label)}),(0,Ql.jsx)("div",{className:"text-[13px] bg-white bg-opacity-80 text-dark px-1 rounded-sm",children:a?"RECOMMENDED":n.countPosts})]})}),(0,Ql.jsxs)("div",{className:"flex flex-row space-x-1 overflow-y-scroll no-scrollbar items-center",children:[i.map((function(e,t){return(0,Ql.jsx)("div",{className:"h-40 w-24 rounded-md overflow-hidden flex-shrink-0 flex-grow-0 bg-coolGray-200",children:(0,Ql.jsx)(r.Suspense,{fallback:(0,Ql.jsx)(DE,{}),children:(0,Ql.jsx)(Ld,{to:A(uT.HASHTAG_POST,{hashtag:n.label,postId:String(e.id)}),onClick:f,children:(0,Ql.jsx)("img",{className:"w-full h-full object-cover",src:e.imageUrl&&Kl(e.sourceId,e.imageUrl,dl.GIF_THUMBNAIL_SD),loading:"lazy"})})})},t)})),(0,Ql.jsx)("div",{className:"min-w-max",children:(0,Ql.jsx)(Ld,{to:d,onClick:f,children:(0,Ql.jsx)("div",{className:"h-40 w-24 rounded-md bg-coolGray-200 text-light flex items-center justify-center text-xs",children:(0,Ql.jsx)("p",{className:"p-10",children:"Tap to view more content"})})})})]})]})}));function DE(){return(0,Ql.jsx)("div",{className:"w-full h-full bg-coolGray-200 animate-pulse"})}function PE(){return null}function NE(e){var t=e.categoryRequest,n=e.dispatch,i=l((0,r.useState)("Hashtags"),2),o=i[0];i[1];return t.pending||!t.everExecuted||t.error?(0,Ql.jsx)(rh,{}):(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"Discover"}),"Hashtags"===o&&(0,Ql.jsx)(OE,{dispatch:n,categoryRequest:t}),"Users"===o&&(0,Ql.jsx)(PE,{})]})}function ME(e){var t=l((0,r.useState)({everExecuted:!1,pending:!1,success:!1,data:null,error:!1}),2),n=t[0],i=t[1];function o(){return o=h(f().mark((function e(t){var n,r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nl(t);case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,i((function(e){return Xu(Xu({},e),{},{pending:!1,success:!0,data:r,error:!1})})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),i((function(e){return Xu(Xu({},e),{},{pending:!1,success:!1,error:!0})}));case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),o.apply(this,arguments)}return(0,r.useEffect)((function(){null!==e&&(i((function(e){return Xu(Xu({},e),{},{everExecuted:!0,pending:!0,success:!1,error:!1})})),function(e){o.apply(this,arguments)}(e))}),[e]),Xu({},n)}function jE(e){var t=e.name,n=e.formRegister,r=e.options,i=e.bottomInfo,o=e.readOnly,a=e.autoFocus;return(0,Ql.jsxs)("div",{className:"flex flex-col",children:[(0,Ql.jsx)("label",{className:"appearance-none text-sm font-semibold mb-2",children:t}),(0,Ql.jsxs)("select",Xu(Xu({},n),{},{disabled:o,autoFocus:a,className:"appearance-none h-14 focus:outline-none focus:ring ring-dark rounded-md p-3 text-dark font-semibold text-lg ".concat(i?"":"mb-6"),children:[(0,Ql.jsx)("option",{disabled:!0,selected:!0,value:void 0,children:"Select an option"}),r.map((function(e){return(0,Ql.jsx)("option",{value:e,children:e},e)}))]})),i&&(0,Ql.jsx)("div",{className:"text-sm mb-6 mt-2",children:i})]})}function FE(e){var t=e.name,n=e.type,r=e.formRegister,i=e.bottomInfo,o=e.readOnly,a=e.autoFocus;return(0,Ql.jsxs)("div",{className:"flex flex-col",children:[(0,Ql.jsx)("label",{className:"appearance-none text-sm font-semibold mb-2",children:t}),(0,Ql.jsx)("input",Xu(Xu({readOnly:o,type:n,className:"appearance-none h-14 focus:outline-none focus:ring ring-dark rounded-md p-3 text-dark font-semibold text-lg ".concat(i?"":"mb-6")},r),{},{autoFocus:a})),i&&(0,Ql.jsx)("div",{className:"text-sm mb-6 mt-2",children:i})]})}function UE(e){var t=e.to,n=e.onClick,r=e.children,i="text-sm text-brand-weak cursor-pointer hover:text-brand-strong";return void 0===t?(0,Ql.jsx)("a",{onClick:n,className:i,children:r}):(0,Ql.jsx)(Ld,{to:t,onClick:n,className:i,children:r})}function BE(e){var t=e.message,n=e.onClose,r=e.isSuccess,i=t?" opacity-100":" opacity-0",o=t?" max-h-36 mb-6":" h-0 mb-0";return(0,Ql.jsx)("div",{className:"flex justify-between items-center rounded-md ".concat(r?"bg-brand":"bg-dark"," text-white text-sm transition-all ease-out duration-200")+i+o,children:t&&(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"p-2 pl-3",children:t}),(0,Ql.jsx)("div",{className:"flex-shrink-0 p-3 h-10 w-10",onClick:n,children:n&&zd.cancel})]})})}function HE(e){var t=e.label,n=e.onClick,r=e.isLoading,i=e.big;return(0,Ql.jsxs)("button",{className:"inline-flex flex-shrink-0 flex-grow-0 justify-center items-center h-14 font-semibold py-2 px-4 rounded-full ".concat(r?"bg-brand-weak":"bg-brand"," ").concat(i?"w-full":""),type:"submit",onClick:function(){!r&&n&&n()},children:[r&&(0,Ql.jsx)("span",{className:"h-6 w-6 mr-2",children:zd.animatedSpinner}),(0,Ql.jsx)("span",{children:t})]})}LE.displayName="CategoryBlock";var GE=function(e){var t=e.title;return Gl("".concat(t," - FikFap")),(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsxs)("div",{className:"fixed top-0 left-0 w-full p-5 bg-dark-weak h-[64px]",children:[(0,Ql.jsx)("div",{className:"absolute top-0 left-1/4 w-1/2 p-5 text-center font-bold ",children:t}),(0,Ql.jsx)("div",{className:"m-[-12px]",children:(0,Ql.jsx)(lh,{})})]}),(0,Ql.jsx)("div",{className:"p-5 h-[64px]"})]})};function VE(){var e=Zl(),t=e.authed,n=e.authController,i=W(),o=Wy(),a=o.user,s=o.followedUsers,u=o.followedHashtags;function l(){return(l=h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to permanently delete your account?")){e.next=2;break}return e.abrupt("return");case 2:if(confirm("Are you sure? THIS ACTION CANNOT BE UNDONE.")){e.next=4;break}return e.abrupt("return");case 4:return e.prev=4,e.next=7,Nl("settings/delete-account",{method:"post"});case 7:return $l({category:"Settings",action:"Deleted Account Error"}),Lf("Account deleted."),i("/"),e.next=12,n.logOut();case 12:location.reload(),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),$l({category:"Settings",action:"Deleted Account Error",label:e.t0 instanceof Error&&e.t0.message||void 0}),Lf("Something went wrong.");case 19:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}return(0,r.useEffect)((function(){!1===t&&i("/signup",{replace:!0})}),[t]),t?(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(GE,{title:"Profile"}),(0,Ql.jsx)(BE,{message:"Welcome to your profile page! This page is a work in progress. Soon you will find information about your profile and settings here \ud83d\ude09."}),(0,Ql.jsx)("div",{className:"pb-2 font-bold",children:"Followed Users"}),s.length?s.sort((function(e,t){return e.username&&t.username?e.username.localeCompare(t.username):0})).map((function(e){return(0,Ql.jsx)("p",{children:(0,Ql.jsx)(Ld,{to:"/user/".concat(e.username),className:"text-brand-weak",children:e.username})},e.id)})):"You currently do not follow any user.",(0,Ql.jsx)("div",{className:"pb-2 pt-5 font-bold",children:"Followed Hashtags"}),u.length?u.sort((function(e,t){return e.label&&t.label?e.label.localeCompare(t.label):0})).map((function(e){return(0,Ql.jsx)("p",{children:(0,Ql.jsx)(Ld,{to:"/hash/".concat(e.label),className:"text-brand-weak",children:e.label})},e.id)})):"You currently do not follow any hashtags.",(null===a||void 0===a?void 0:a.isVerified)&&(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"pb-2 pt-5 font-bold",children:"Upload"}),(0,Ql.jsx)("p",{children:(0,Ql.jsx)(Ld,{to:"/upload",className:"text-brand-weak",children:"Upload new post"})})]}),(0,Ql.jsx)("div",{className:"pb-2 pt-5 font-bold",children:"Account Management"}),(0,Ql.jsx)("div",{className:"pb-10",children:(0,Ql.jsx)(UE,{onClick:function(){return function(){return l.apply(this,arguments)}()},children:"Permanently delete my account"})}),(0,Ql.jsx)("div",{className:"flex flex-col",children:(0,Ql.jsx)(ah,{text:"Log Out",onClick:h(f().mark((function e(){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("/"),e.next=3,n.logOut();case 3:location.reload();case 4:case"end":return e.stop()}}),e)})))})})]}):null}var zE=["name"],WE=["_f"],KE=["_f"],qE=function(e){return"checkbox"===e.type},YE=function(e){return e instanceof Date},$E=function(e){return null==e},XE=function(e){return"object"===typeof e},QE=function(e){return!$E(e)&&!Array.isArray(e)&&XE(e)&&!YE(e)},JE=function(e){return QE(e)&&e.target?qE(e.target)?e.target.checked:e.target.value:e},ZE=function(e,t){return e.has(function(e){return e.substring(0,e.search(/\.\d+(\.|$)/))||e}(t))},eS=function(e){return Array.isArray(e)?e.filter(Boolean):[]},tS=function(e){return void 0===e},nS=function(e,t,n){if(!t||!QE(e))return n;var r=eS(t.split(/[,[\].]+?/)).reduce((function(e,t){return $E(e)?e:e[t]}),e);return tS(r)||r===e?tS(e[t])?n:e[t]:r},rS="blur",iS="focusout",oS="onBlur",aS="onChange",sS="onSubmit",uS="onTouched",lS="all",cS="max",fS="min",dS="maxLength",hS="minLength",pS="pattern",vS="required",gS="validate",mS=(r.createContext(null),function(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i={},o=function(o){Object.defineProperty(i,o,{get:function(){var i=o;return t[i]!==lS&&(t[i]=!r||lS),n&&(n[i]=!0),e[i]}})};for(var a in e)o(a);return i}),yS=function(e){return QE(e)&&!Object.keys(e).length},bS=function(e,t,n){e.name;var r=ch(e,zE);return yS(r)||Object.keys(r).length>=Object.keys(t).length||Object.keys(r).find((function(e){return t[e]===(!n||lS)}))},wS=function(e){return Array.isArray(e)?e:[e]};function ES(e){var t=r.useRef(e);t.current=e,r.useEffect((function(){var n=!e.disabled&&t.current.subject.subscribe({next:t.current.callback});return function(){return function(e){e&&e.unsubscribe()}(n)}}),[e.disabled])}var SS=function(e){return"string"===typeof e},xS=function(e,t,n,r){var i=Array.isArray(e);return SS(e)?(r&&t.watch.add(e),nS(n,e)):i?e.map((function(e){return r&&t.watch.add(e),nS(n,e)})):(r&&(t.watchAll=!0),n)},TS=function(e){return"function"===typeof e},_S=function(e){for(var t in e)if(TS(e[t]))return!0;return!1};var kS=function(e,t,n,r,i){return t?Xu(Xu({},n[e]),{},{types:Xu(Xu({},n[e]&&n[e].types?n[e].types:{}),{},Yu({},r,i||!0))}):{}},AS=function(e){return/^\w*$/.test(e)},CS=function(e){return eS(e.replace(/["|']|\]/g,"").split(/\.|\[/))};function OS(e,t,n){for(var r=-1,i=AS(t)?[t]:CS(t),o=i.length,a=o-1;++r<o;){var s=i[r],u=n;if(r!==a){var l=e[s];u=QE(l)||Array.isArray(l)?l:isNaN(+i[r+1])?{}:[]}e[s]=u,e=e[s]}return e}var IS=function e(t,n,r){var i,o=qu(r||Object.keys(t));try{for(o.s();!(i=o.n()).done;){var a=i.value,s=nS(t,a);if(s){var u=s._f,l=ch(s,WE);if(u&&n(u.name)){if(u.ref.focus&&tS(u.ref.focus()))break;if(u.refs){u.refs[0].focus();break}}else QE(l)&&e(l,n)}}}catch(c){o.e(c)}finally{o.f()}},RS=function(e,t,n){return!n&&(t.watchAll||t.watch.has(e)||fl(t.watch).some((function(t){return e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))})))};var LS="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function DS(e){var t,n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(LS&&(e instanceof Blob||e instanceof FileList)||!n&&!QE(e))return e;for(var r in t=n?[]:{},e){if(TS(e[r])){t=e;break}t[r]=DS(e[r])}}return t}function PS(e,t){var n,r=AS(t)?[t]:CS(t),i=1==r.length?e:function(e,t){for(var n=t.slice(0,-1).length,r=0;r<n;)e=tS(e)?r++:e[t[r++]];return e}(e,r),o=r[r.length-1];i&&delete i[o];for(var a=0;a<r.slice(0,-1).length;a++){var s=-1,u=void 0,l=r.slice(0,-(a+1)),c=l.length-1;for(a>0&&(n=e);++s<l.length;){var f=l[s];u=u?u[f]:e[f],c===s&&(QE(u)&&yS(u)||Array.isArray(u)&&!u.filter((function(e){return!tS(e)})).length)&&(n?delete n[f]:delete e[f]),n=u}}return e}function NS(){var e=[];return{get observers(){return e},next:function(t){var n,r=qu(e);try{for(r.s();!(n=r.n()).done;){n.value.next(t)}}catch(i){r.e(i)}finally{r.f()}},subscribe:function(t){return e.push(t),{unsubscribe:function(){e=e.filter((function(e){return e!==t}))}}},unsubscribe:function(){e=[]}}}var MS=function(e){return $E(e)||!XE(e)};function jS(e,t){if(MS(e)||MS(t))return e===t;if(YE(e)&&YE(t))return e.getTime()===t.getTime();var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0,o=n;i<o.length;i++){var a=o[i],s=e[a];if(!r.includes(a))return!1;if("ref"!==a){var u=t[a];if(YE(s)&&YE(u)||QE(s)&&QE(u)||Array.isArray(s)&&Array.isArray(u)?!jS(s,u):s!==u)return!1}}return!0}var FS=function(e){return{isOnSubmit:!e||e===sS,isOnBlur:e===oS,isOnChange:e===aS,isOnAll:e===lS,isOnTouch:e===uS}},US=function(e){return"boolean"===typeof e},BS=function(e){return"file"===e.type},HS=function(e){var t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},GS=function(e){return"select-multiple"===e.type},VS=function(e){return"radio"===e.type},zS=function(e){return VS(e)||qE(e)},WS=function(e){return HS(e)&&e.isConnected};function KS(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Array.isArray(e);if(QE(e)||n)for(var r in e)Array.isArray(e[r])||QE(e[r])&&!_S(e[r])?(t[r]=Array.isArray(e[r])?[]:{},KS(e[r],t[r])):$E(e[r])||(t[r]=!0);return t}function qS(e,t,n){var r=Array.isArray(e);if(QE(e)||r)for(var i in e)Array.isArray(e[i])||QE(e[i])&&!_S(e[i])?tS(t)||MS(n[i])?n[i]=Array.isArray(e[i])?KS(e[i],[]):Xu({},KS(e[i])):qS(e[i],$E(t)?{}:t[i],n[i]):n[i]=!jS(e[i],t[i]);return n}var YS=function(e,t){return qS(e,t,KS(t))},$S={value:!1,isValid:!1},XS={value:!0,isValid:!0},QS=function(e){if(Array.isArray(e)){if(e.length>1){var t=e.filter((function(e){return e&&e.checked&&!e.disabled})).map((function(e){return e.value}));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!tS(e[0].attributes.value)?tS(e[0].value)||""===e[0].value?XS:{value:e[0].value,isValid:!0}:XS:$S}return $S},JS=function(e,t){var n=t.valueAsNumber,r=t.valueAsDate,i=t.setValueAs;return tS(e)?e:n?""===e||$E(e)?NaN:+e:r&&SS(e)?new Date(e):i?i(e):e},ZS={isValid:!1,value:null},ex=function(e){return Array.isArray(e)?e.reduce((function(e,t){return t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e}),ZS):ZS};function tx(e){var t=e.ref;if(!(e.refs?e.refs.every((function(e){return e.disabled})):t.disabled))return BS(t)?t.files:VS(t)?ex(e.refs).value:GS(t)?fl(t.selectedOptions).map((function(e){return e.value})):qE(t)?QS(e.refs).value:JS(tS(t.value)?e.ref.value:t.value,e)}var nx=function(e,t,n,r){var i,o={},a=qu(e);try{for(a.s();!(i=a.n()).done;){var s=i.value,u=nS(t,s);u&&OS(o,s,u._f)}}catch(l){a.e(l)}finally{a.f()}return{criteriaMode:n,names:fl(e),fields:o,shouldUseNativeValidation:r}},rx=function(e){return e instanceof RegExp},ix=function(e){return tS(e)?void 0:rx(e)?e.source:QE(e)?rx(e.value)?e.value.source:e.value:e},ox=function(e){return e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate)};function ax(e,t,n){var r=nS(e,n);if(r||AS(n))return{error:r,name:n};for(var i=n.split(".");i.length;){var o=i.join("."),a=nS(t,o),s=nS(e,o);if(a&&!Array.isArray(a)&&n!==o)return{name:n};if(s&&s.type)return{name:o,error:s};i.pop()}return{name:n}}var sx=function(e,t,n,r,i){return!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e)},ux=function(e,t){return!eS(nS(e,t)).length&&PS(e,t)},lx=function(e){return SS(e)||r.isValidElement(e)};function cx(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(lx(e)||Array.isArray(e)&&e.every(lx)||US(e)&&!e)return{type:n,message:lx(e)?e:"",ref:t}}var fx=function(e){return QE(e)&&!rx(e)?e:{value:e,message:""}},dx=function(){var e=h(f().mark((function e(t,n,r,i){var o,a,s,u,l,c,d,h,p,v,g,m,y,b,w,E,S,x,T,_,k,A,C,O,I,R,L,D,P,N,M,j,F,U,B,H,G,V,z,W,K,q,Y,$;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=t._f,a=o.ref,s=o.refs,u=o.required,l=o.maxLength,c=o.minLength,d=o.min,h=o.max,p=o.pattern,v=o.validate,g=o.name,m=o.valueAsNumber,y=o.mount,b=o.disabled,y&&!b){e.next=3;break}return e.abrupt("return",{});case 3:if(w=s?s[0]:a,E=function(e){i&&w.reportValidity&&(w.setCustomValidity(US(e)?"":e||" "),w.reportValidity())},S={},x=VS(a),T=qE(a),_=x||T,k=(m||BS(a))&&!a.value||""===n||Array.isArray(n)&&!n.length,A=kS.bind(null,g,r,S),C=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:dS,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hS,o=e?t:n;S[g]=Xu({type:e?r:i,message:o,ref:a},A(e?r:i,o))},!u||!(!_&&(k||$E(n))||US(n)&&!n||T&&!QS(s).isValid||x&&!ex(s).isValid)){e.next=19;break}if(O=lx(u)?{value:!!u,message:u}:fx(u),I=O.value,R=O.message,!I){e.next=19;break}if(S[g]=Xu({type:vS,message:R,ref:w},A(vS,R)),r){e.next=19;break}return E(R),e.abrupt("return",S);case 19:if(k||$E(d)&&$E(h)){e.next=28;break}if(P=fx(h),N=fx(d),$E(n)||isNaN(n)?(j=a.valueAsDate||new Date(n),SS(P.value)&&(L=j>new Date(P.value)),SS(N.value)&&(D=j<new Date(N.value))):(M=a.valueAsNumber||+n,$E(P.value)||(L=M>P.value),$E(N.value)||(D=M<N.value)),!L&&!D){e.next=28;break}if(C(!!L,P.message,N.message,cS,fS),r){e.next=28;break}return E(S[g].message),e.abrupt("return",S);case 28:if(!l&&!c||k||!SS(n)){e.next=38;break}if(F=fx(l),U=fx(c),B=!$E(F.value)&&n.length>F.value,H=!$E(U.value)&&n.length<U.value,!B&&!H){e.next=38;break}if(C(B,F.message,U.message),r){e.next=38;break}return E(S[g].message),e.abrupt("return",S);case 38:if(!p||k||!SS(n)){e.next=45;break}if(G=fx(p),V=G.value,z=G.message,!rx(V)||n.match(V)){e.next=45;break}if(S[g]=Xu({type:pS,message:z,ref:a},A(pS,z)),r){e.next=45;break}return E(z),e.abrupt("return",S);case 45:if(!v){e.next=79;break}if(!TS(v)){e.next=58;break}return e.next=49,v(n);case 49:if(W=e.sent,!(K=cx(W,w))){e.next=56;break}if(S[g]=Xu(Xu({},K),A(gS,K.message)),r){e.next=56;break}return E(K.message),e.abrupt("return",S);case 56:e.next=79;break;case 58:if(!QE(v)){e.next=79;break}q={},e.t0=f().keys(v);case 61:if((e.t1=e.t0()).done){e.next=75;break}if(Y=e.t1.value,yS(q)||r){e.next=65;break}return e.abrupt("break",75);case 65:return e.t2=cx,e.next=68,v[Y](n);case 68:e.t3=e.sent,e.t4=w,e.t5=Y,($=(0,e.t2)(e.t3,e.t4,e.t5))&&(q=Xu(Xu({},$),A(Y,$.message)),E($.message),r&&(S[g]=q)),e.next=61;break;case 75:if(yS(q)){e.next=79;break}if(S[g]=Xu({ref:w},q),r){e.next=79;break}return e.abrupt("return",S);case 79:return E(!0),e.abrupt("return",S);case 81:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}(),hx={mode:sS,reValidateMode:aS,shouldFocusError:!0};function px(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Xu(Xu({},hx),t),r={isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}},i={},o=DS(n.defaultValues)||{},a=n.shouldUnregister?{}:DS(o),s={action:!1,mount:!1,watch:!1},u={mount:new Set,unMount:new Set,array:new Set,watch:new Set},l=0,c={},d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},p={watch:NS(),array:NS(),state:NS()},v=FS(n.mode),g=FS(n.reValidateMode),m=n.criteriaMode===lS,y=function(e){return function(t){clearTimeout(l),l=window.setTimeout(e,t)}},b=function(){var e=h(f().mark((function e(t){var o;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!1,!d.isValid){e.next=15;break}if(!n.resolver){e.next=10;break}return e.t1=yS,e.next=6,_();case 6:e.t2=e.sent.errors,e.t0=(0,e.t1)(e.t2),e.next=13;break;case 10:return e.next=12,A(i,!0);case 12:e.t0=e.sent;case 13:o=e.t0,t||o===r.isValid||(r.isValid=o,p.state.next({isValid:o}));case 15:return e.abrupt("return",o);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0,u=arguments.length>3?arguments[3]:void 0,l=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],c=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(u&&n){if(s.action=!0,c&&Array.isArray(nS(i,e))){var f=n(nS(i,e),u.argA,u.argB);l&&OS(i,e,f)}if(d.errors&&c&&Array.isArray(nS(r.errors,e))){var h=n(nS(r.errors,e),u.argA,u.argB);l&&OS(r.errors,e,h),ux(r.errors,e)}if(d.touchedFields&&c&&Array.isArray(nS(r.touchedFields,e))){var v=n(nS(r.touchedFields,e),u.argA,u.argB);l&&OS(r.touchedFields,e,v)}d.dirtyFields&&(r.dirtyFields=YS(o,a)),p.state.next({isDirty:O(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else OS(a,e,t)},E=function(e,t){OS(r.errors,e,t),p.state.next({errors:r.errors})},S=function(e,t,n,r){var u=nS(i,e);if(u){var l=nS(a,e,tS(n)?nS(o,e):n);tS(l)||r&&r.defaultChecked||t?OS(a,e,t?l:tx(u._f)):L(e,l),s.mount&&b()}},x=function(e,t,n,i,a){var s=!1,u={name:e},l=nS(r.touchedFields,e);if(d.isDirty){var c=r.isDirty;r.isDirty=u.isDirty=O(),s=c!==u.isDirty}if(d.dirtyFields&&(!n||i)){var f=nS(r.dirtyFields,e);jS(nS(o,e),t)?PS(r.dirtyFields,e):OS(r.dirtyFields,e,!0),u.dirtyFields=r.dirtyFields,s=s||f!==nS(r.dirtyFields,e)}return n&&!l&&(OS(r.touchedFields,e,n),u.touchedFields=r.touchedFields,s=s||d.touchedFields&&l!==n),s&&a&&p.state.next(u),s?u:{}},T=function(){var n=h(f().mark((function n(i,o,a,s){var u,h,v;return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:u=nS(r.errors,i),h=d.isValid&&r.isValid!==o,t.delayError&&a?(e=y((function(){return E(i,a)})))(t.delayError):(clearTimeout(l),e=null,a?OS(r.errors,i,a):PS(r.errors,i)),(a?jS(u,a):!u)&&yS(s)&&!h||(v=Xu(Xu(Xu({},s),h?{isValid:o}:{}),{},{errors:r.errors,name:i}),r=Xu(Xu({},r),v),p.state.next(v)),c[i]--,d.isValidating&&!Object.values(c).some((function(e){return e}))&&(p.state.next({isValidating:!1}),c={});case 6:case"end":return n.stop()}}),n)})));return function(e,t,r,i){return n.apply(this,arguments)}}(),_=function(){var e=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.resolver){e.next=6;break}return e.next=3,n.resolver(Xu({},a),n.context,nx(t||u.mount,i,n.criteriaMode,n.shouldUseNativeValidation));case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0={};case 7:return e.abrupt("return",e.t0);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=h(f().mark((function e(t){var n,i,o,a,s,u;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_();case 2:if(n=e.sent,i=n.errors,t){o=qu(t);try{for(o.s();!(a=o.n()).done;)s=a.value,(u=nS(i,s))?OS(r.errors,s,u):PS(r.errors,s)}catch(l){o.e(l)}finally{o.f()}}else r.errors=i;return e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=h(f().mark((function e(t,i){var o,s,u,l,c,d,h=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=h.length>2&&void 0!==h[2]?h[2]:{valid:!0},e.t0=f().keys(t);case 2:if((e.t1=e.t0()).done){e.next=22;break}if(s=e.t1.value,!(u=t[s])){e.next=20;break}if(l=u._f,c=ch(u,KE),!l){e.next=16;break}return e.next=10,dx(u,nS(a,l.name),m,n.shouldUseNativeValidation);case 10:if(!(d=e.sent)[l.name]){e.next=15;break}if(o.valid=!1,!i){e.next=15;break}return e.abrupt("break",22);case 15:i||(d[l.name]?OS(r.errors,l.name,d[l.name]):PS(r.errors,l.name));case 16:if(e.t2=c,!e.t2){e.next=20;break}return e.next=20,A(c,i,o);case 20:e.next=2;break;case 22:return e.abrupt("return",o.valid);case 23:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e,t=qu(u.unMount);try{for(t.s();!(e=t.n()).done;){var n=e.value,r=nS(i,n);r&&(r._f.refs?r._f.refs.every((function(e){return!WS(e)})):!WS(r._f.ref))&&G(n)}}catch(o){t.e(o)}finally{t.f()}u.unMount=new Set},O=function(e,t){return e&&t&&OS(a,e,t),!jS(j(),o)},I=function(e,t,n){var r=Xu({},s.mount?a:tS(t)?o:SS(e)?Yu({},e,t):t);return xS(e,u,r,n)},R=function(e){return eS(nS(s.mount?a:o,e,t.shouldUnregister?nS(o,e,[]):[]))},L=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=nS(i,e),o=t;if(r){var s=r._f;s&&(!s.disabled&&OS(a,e,JS(t,s)),o=LS&&HS(s.ref)&&$E(t)?"":t,GS(s.ref)?fl(s.ref.options).forEach((function(e){return e.selected=o.includes(e.value)})):s.refs?qE(s.ref)?s.refs.length>1?s.refs.forEach((function(e){return!e.disabled&&(e.checked=Array.isArray(o)?!!o.find((function(t){return t===e.value})):o===e.value)})):s.refs[0]&&(s.refs[0].checked=!!o):s.refs.forEach((function(e){return e.checked=e.value===o})):BS(s.ref)?s.ref.value="":(s.ref.value=o,s.ref.type||p.watch.next({name:e})))}(n.shouldDirty||n.shouldTouch)&&x(e,o,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&M(e)},D=function e(t,n,r){for(var o in n){var a=n[o],s="".concat(t,".").concat(o),l=nS(i,s);!u.array.has(t)&&MS(a)&&(!l||l._f)||YE(a)?L(s,a,r):e(s,a,r)}},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=nS(i,e),l=u.array.has(e),c=DS(t);OS(a,e,c),l?(p.array.next({name:e,values:a}),(d.isDirty||d.dirtyFields)&&n.shouldDirty&&(r.dirtyFields=YS(o,a),p.state.next({name:e,dirtyFields:r.dirtyFields,isDirty:O(e,c)}))):!s||s._f||$E(c)?L(e,c,n):D(e,c,n),RS(e,u)&&p.state.next({}),p.watch.next({name:e})},N=function(){var t=h(f().mark((function t(o){var s,l,d,h,y,w,E,S,k,A,C,O,I,R,L;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=o.target,l=s.name,!(d=nS(i,l))){t.next=39;break}if(w=s.type?tx(d._f):JE(o),E=o.type===rS||o.type===iS,S=!ox(d._f)&&!n.resolver&&!nS(r.errors,l)&&!d._f.deps||sx(E,nS(r.touchedFields,l),r.isSubmitted,g,v),k=RS(l,u,E),OS(a,l,w),E?(d._f.onBlur&&d._f.onBlur(o),e&&e(0)):d._f.onChange&&d._f.onChange(o),A=x(l,w,E,!1),C=!yS(A)||k,!E&&p.watch.next({name:l,type:o.type}),!S){t.next=15;break}return t.abrupt("return",C&&p.state.next(Xu({name:l},k?{}:A)));case 15:if(!E&&k&&p.state.next({}),c[l]=(c[l],1),p.state.next({isValidating:!0}),!n.resolver){t.next=30;break}return t.next=21,_([l]);case 21:O=t.sent,I=O.errors,R=ax(r.errors,i,l),L=ax(I,i,R.name||l),h=L.error,l=L.name,y=yS(I),t.next=37;break;case 30:return t.next=32,dx(d,nS(a,l),m,n.shouldUseNativeValidation);case 32:return t.t0=l,h=t.sent[t.t0],t.next=36,b(!0);case 36:y=t.sent;case 37:d._f.deps&&M(d._f.deps),T(l,y,h,A);case 39:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),M=function(){var e=h(f().mark((function e(t){var o,a,s,l,c,v=arguments;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=v.length>1&&void 0!==v[1]?v[1]:{},l=wS(t),p.state.next({isValidating:!0}),!n.resolver){e.next=11;break}return e.next=6,k(tS(t)?t:l);case 6:c=e.sent,a=yS(c),s=t?!l.some((function(e){return nS(c,e)})):a,e.next=21;break;case 11:if(!t){e.next=18;break}return e.next=14,Promise.all(l.map(function(){var e=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=nS(i,t),e.next=3,A(n&&n._f?Yu({},t,n):n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 14:((s=e.sent.every(Boolean))||r.isValid)&&b(),e.next=21;break;case 18:return e.next=20,A(i);case 20:s=a=e.sent;case 21:return p.state.next(Xu(Xu(Xu({},!SS(t)||d.isValid&&a!==r.isValid?{}:{name:t}),n.resolver?{isValid:a}:{}),{},{errors:r.errors,isValidating:!1})),o.shouldFocus&&!s&&IS(i,(function(e){return nS(r.errors,e)}),t?l:u.mount),e.abrupt("return",s);case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),j=function(e){var t=Xu(Xu({},o),s.mount?a:{});return tS(e)?t:SS(e)?nS(t,e):e.map((function(e){return nS(t,e)}))},F=function(e,t){return{invalid:!!nS((t||r).errors,e),isDirty:!!nS((t||r).dirtyFields,e),isTouched:!!nS((t||r).touchedFields,e),error:nS((t||r).errors,e)}},U=function(e){e?wS(e).forEach((function(e){return PS(r.errors,e)})):r.errors={},p.state.next({errors:r.errors})},B=function(e,t,n){var o=(nS(i,e,{_f:{}})._f||{}).ref;OS(r.errors,e,Xu(Xu({},t),{},{ref:o})),p.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&o&&o.focus&&o.focus()},H=function(e,t){return TS(e)?p.watch.subscribe({next:function(n){return e(I(void 0,t),n)}}):I(e,t,!0)},G=function(e){var t,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=qu(e?wS(e):u.mount);try{for(l.s();!(t=l.n()).done;){var c=t.value;u.mount.delete(c),u.array.delete(c),nS(i,c)&&(s.keepValue||(PS(i,c),PS(a,c)),!s.keepError&&PS(r.errors,c),!s.keepDirty&&PS(r.dirtyFields,c),!s.keepTouched&&PS(r.touchedFields,c),!n.shouldUnregister&&!s.keepDefaultValue&&PS(o,c))}}catch(f){l.e(f)}finally{l.f()}p.watch.next({}),p.state.next(Xu(Xu({},r),s.keepDirty?{isDirty:O()}:{})),!s.keepIsValid&&b()},V=function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=nS(i,t),c=US(r.disabled);return OS(i,t,{_f:Xu(Xu({},l&&l._f?l._f:{ref:{name:t}}),{},{name:t,mount:!0},r)}),u.mount.add(t),l?c&&OS(a,t,r.disabled?void 0:nS(a,t,tx(l._f))):S(t,!0,r.value),Xu(Xu(Xu({},c?{disabled:r.disabled}:{}),n.shouldUseNativeValidation?{required:!!r.required,min:ix(r.min),max:ix(r.max),minLength:ix(r.minLength),maxLength:ix(r.maxLength),pattern:ix(r.pattern)}:{}),{},{name:t,onChange:N,onBlur:N,ref:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(a){if(a){e(t,r),l=nS(i,t);var c=tS(a.value)&&a.querySelectorAll&&a.querySelectorAll("input,select,textarea")[0]||a,f=zS(c),d=l._f.refs||[];if(f?d.find((function(e){return e===c})):c===l._f.ref)return;OS(i,t,{_f:Xu(Xu({},l._f),f?{refs:[].concat(fl(d.filter(WS)),[c],fl(Array.isArray(nS(o,t))?[{}]:[])),ref:{type:c.type,name:t}}:{ref:c})}),S(t,!1,void 0,c)}else(l=nS(i,t,{}))._f&&(l._f.mount=!1),(n.shouldUnregister||r.shouldUnregister)&&(!ZE(u.array,t)||!s.action)&&u.unMount.add(t)}))})},z=function(e,t){return function(){var o=h(f().mark((function o(s){var l,c,d,h,v;return f().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist()),l=!0,c=DS(a),p.state.next({isSubmitting:!0}),o.prev=4,!n.resolver){o.next=15;break}return o.next=8,_();case 8:d=o.sent,h=d.errors,v=d.values,r.errors=h,c=v,o.next=17;break;case 15:return o.next=17,A(i);case 17:if(!yS(r.errors)){o.next=23;break}return p.state.next({errors:{},isSubmitting:!0}),o.next=21,e(c,s);case 21:o.next=27;break;case 23:if(!t){o.next=26;break}return o.next=26,t(Xu({},r.errors),s);case 26:n.shouldFocusError&&IS(i,(function(e){return nS(r.errors,e)}),u.mount);case 27:o.next=33;break;case 29:throw o.prev=29,o.t0=o.catch(4),l=!1,o.t0;case 33:return o.prev=33,r.isSubmitted=!0,p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:yS(r.errors)&&l,submitCount:r.submitCount+1,errors:r.errors}),o.finish(33);case 37:case"end":return o.stop()}}),o,null,[[4,29,33,37]])})));return function(e){return o.apply(this,arguments)}}()},W=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};nS(i,e)&&(tS(t.defaultValue)?P(e,nS(o,e)):(P(e,t.defaultValue),OS(o,e,t.defaultValue)),t.keepTouched||PS(r.touchedFields,e),t.keepDirty||(PS(r.dirtyFields,e),r.isDirty=t.defaultValue?O(e,nS(o,e)):O()),t.keepError||(PS(r.errors,e),d.isValid&&b()),p.state.next(Xu({},r)))},K=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e||o,c=DS(l),f=e&&!yS(e)?c:o;if(n.keepDefaultValues||(o=l),!n.keepValues){if(n.keepDirtyValues){var h,v=qu(u.mount);try{for(v.s();!(h=v.n()).done;){var g=h.value;nS(r.dirtyFields,g)?OS(f,g,nS(a,g)):P(g,nS(f,g))}}catch(S){v.e(S)}finally{v.f()}}else{if(LS&&tS(e)){var m,y=qu(u.mount);try{for(y.s();!(m=y.n()).done;){var b=m.value,w=nS(i,b);if(w&&w._f){var E=Array.isArray(w._f.refs)?w._f.refs[0]:w._f.ref;try{HS(E)&&E.closest("form").reset();break}catch(x){}}}}catch(S){y.e(S)}finally{y.f()}}i={}}a=t.shouldUnregister?n.keepDefaultValues?DS(o):{}:c,p.array.next({values:f}),p.watch.next({values:f})}u={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},s.mount=!d.isValid||!!n.keepIsValid,s.watch=!!t.shouldUnregister,p.state.next({submitCount:n.keepSubmitCount?r.submitCount:0,isDirty:n.keepDirty||n.keepDirtyValues?r.isDirty:!(!n.keepDefaultValues||jS(e,o)),isSubmitted:!!n.keepIsSubmitted&&r.isSubmitted,dirtyFields:n.keepDirty||n.keepDirtyValues?r.dirtyFields:n.keepDefaultValues&&e?YS(o,e):{},touchedFields:n.keepTouched?r.touchedFields:{},errors:n.keepErrors?r.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},q=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=nS(i,e)._f,r=n.refs?n.refs[0]:n.ref;r.focus(),t.shouldSelect&&r.select()};return{control:{register:V,unregister:G,getFieldState:F,_executeSchema:_,_getWatch:I,_getDirty:O,_updateValid:b,_removeUnmounted:C,_updateFieldArray:w,_getFieldArray:R,_subjects:p,_proxyFormState:d,get _fields(){return i},get _formValues(){return a},get _stateFlags(){return s},set _stateFlags(e){s=e},get _defaultValues(){return o},get _names(){return u},set _names(e){u=e},get _formState(){return r},set _formState(e){r=e},get _options(){return n},set _options(e){n=Xu(Xu({},n),e)}},trigger:M,register:V,handleSubmit:z,watch:H,setValue:P,getValues:j,reset:K,resetField:W,clearErrors:U,unregister:G,setError:B,setFocus:q,getFieldState:F}}function vx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=r.useRef(),n=r.useState({isDirty:!1,isValidating:!1,dirtyFields:{},isSubmitted:!1,submitCount:0,touchedFields:{},isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,errors:{}}),i=l(n,2),o=i[0],a=i[1];t.current?t.current.control._options=e:t.current=Xu(Xu({},px(e)),{},{formState:o});var s=t.current.control,u=r.useCallback((function(e){bS(e,s._proxyFormState,!0)&&(s._formState=Xu(Xu({},s._formState),e),a(Xu({},s._formState)))}),[s]);return ES({subject:s._subjects.state,callback:u}),r.useEffect((function(){s._stateFlags.mount||(s._proxyFormState.isValid&&s._updateValid(),s._stateFlags.mount=!0),s._stateFlags.watch&&(s._stateFlags.watch=!1,s._subjects.state.next({})),s._removeUnmounted()})),t.current.formState=mS(o,s._proxyFormState),t.current}function gx(){Gl((function(){return"Reset Password - FikFap"}),[]);var e,t=Hl();return t.has("email")?(0,Ql.jsx)(yx,{email:null!==(e=t.get("email"))&&void 0!==e?e:""}):(0,Ql.jsx)(mx,{})}function mx(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=W(),o=Zl().authController,a=vx(),s=a.register,u=a.handleSubmit,c=a.formState,d=function(){var e=h(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),e.next=3,o.resetPassword(t.email);case 3:(r=e.sent).state===ql.SUCCESS?i(uT.RESET_PASSWORD+"?email="+t.email):n(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ql.jsx)(Bw,{children:(0,Ql.jsxs)("form",{onSubmit:u(d),children:[(0,Ql.jsx)(sh,{children:"Reset password"}),(0,Ql.jsx)(BE,{message:t,onClose:function(){return n(null)}}),(0,Ql.jsx)(FE,{readOnly:c.isSubmitting,name:"Email",type:"email",formRegister:Xu({},s("email",{required:!0}))}),(0,Ql.jsx)(HE,{label:"Initiate reset",isLoading:c.isSubmitting,big:!0})]})})}function yx(e){var t=e.email,n=l((0,r.useState)(null),2),i=n[0],o=n[1],a=Zl().authController,s=W(),u=vx(),c=u.register,d=u.handleSubmit,p=u.formState,v=function(){var e=h(f().mark((function e(n){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(null),e.next=3,a.resetPasswordSubmit(t,n.authCode,n.newPassword);case 3:(r=e.sent).state===ql.SUCCESS?s(uT.HOT_INDEX):o(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ql.jsxs)("form",{className:"flex flex-col p-5 pt-8 w-full h-full overflow-y-scroll no-scrollbar",onSubmit:d(v),children:[(0,Ql.jsx)(sh,{children:"Reset password"}),(0,Ql.jsx)(BE,{message:i,onClose:function(){return o(null)}}),(0,Ql.jsx)(FE,{readOnly:p.isSubmitting,name:"Confirmation code",type:"number",formRegister:Xu({},c("authCode",{required:!0}))}),(0,Ql.jsx)(FE,{readOnly:p.isSubmitting,name:"New password",type:"password",formRegister:Xu({},c("newPassword",{required:!0}))}),(0,Ql.jsx)(HE,{label:"Reset password",isLoading:p.isSubmitting})]})}function bx(e){var t=e.subType,n=e.containerState,r=e.dispatch,i=e.height;Gl((function(){return"Likes - FikFap"}),[]);var o=K().postId,a=bw(n,r,{type:Dd.LIKED,subtype:t},o),s=a.content,u=a.fetchNewContent,l=a.indexState,c=a.isFetching,f=a.isError;return(0,Ql.jsxs)(nh,{isError:f,isLoading:c&&s.length<1,numPosts:s.length,children:[(0,Ql.jsx)(uw,{indexState:l,content:s,onContentExhaustion:function(e){return u(ww(e))},height:i}),(0,Ql.jsx)(Pw,{detailTitle:"My Likes"}),(0,Ql.jsx)(Jd,{})]})}function wx(e){var t=e.onClick,n=e.children,r="text-white bg-dark hover:text-light-extreme hover:bg-dark-weak";return e.isActive&&(r="text-dark bg-light active"),(0,Ql.jsx)("li",{className:"mr-2",children:(0,Ql.jsx)("div",{className:"".concat(r," inline-block py-3 px-4 rounded-lg cursor-pointer"),onClick:function(e){return t&&t(e)},children:n})})}function Ex(){var e=(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("p",{className:"text-lg",children:"Button Variants"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{children:"DEFAULT"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{variant:Gd.DARK,children:"DARK"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{variant:Gd.LIGHT,children:"LIGHT"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("p",{className:"text-lg",children:"Button Sizes"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{children:"DEFAULT"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{size:Vd.SMALL,children:"SMALL"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Yd,{size:Vd.BIG,children:"BIG"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(Xd,{icon:zd.home}),(0,Ql.jsx)("p",{className:"text-lg",children:"Tabs"}),(0,Ql.jsx)("br",{}),(0,Ql.jsx)(wx,{children:"Tab"})]});return(0,Ql.jsx)(Ql.Fragment,{children:e})}var Sx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"}))}));var xx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"}))}));var Tx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"}))}));var _x=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M11 3a1 1 0 10-2 0v1a1 1 0 102 0V3zM15.657 5.757a1 1 0 00-1.414-1.414l-.707.707a1 1 0 001.414 1.414l.707-.707zM18 10a1 1 0 01-1 1h-1a1 1 0 110-2h1a1 1 0 011 1zM5.05 6.464A1 1 0 106.464 5.05l-.707-.707a1 1 0 00-1.414 1.414l.707.707zM5 10a1 1 0 01-1 1H3a1 1 0 110-2h1a1 1 0 011 1zM8 16v-1h4v1a2 2 0 11-4 0zM12 14c.015-.34.208-.646.477-.859a4 4 0 10-4.954 0c.27.213.462.519.476.859h4.002z"}))}));var kx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{d:"M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z"}))}));var Ax=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"}))}));function Cx(e){var t=e.collectionId,n=W(),r=Wy().deleteCollection;function i(){return i=h(f().mark((function e(t){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(confirm("Are you sure you want to delete this collection?")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r(t);case 4:e.sent?(Yl({category:"Collections",action:"Deleted Collection",label:t}),Lf("Collection deleted."),n(uT.COLLECTIONS)):(Yl({category:"Collections",action:"Deleted Collection Error",label:t}),Lf("Something went wrong."));case 6:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}return(0,Ql.jsxs)(Ox,{children:[(0,Ql.jsx)(Ld,{to:uT.COLLECTIONS_EDIT.replace(":collectionId",t),children:(0,Ql.jsxs)(Ix,{children:[(0,Ql.jsx)(kx,{className:"h-4 w-9 pr-2 pl-2"}),"Edit name"]})}),(0,Ql.jsxs)(Ix,{onClick:function(e){!function(e){i.apply(this,arguments)}(t),e.preventDefault()},children:[(0,Ql.jsx)(Ax,{className:"h-4 w-9 pr-2 pl-2"}),"Delete"]})]})}function Ox(e){var t=e.children,n=l((0,r.useState)(!1),2),i=n[0],o=n[1],a=l((0,r.useState)(!1),2),s=a[0],u=a[1];function c(){o(!1),u(!1)}return(0,r.useEffect)((function(){i&&requestAnimationFrame((function(){u(!0)}))}),[i]),(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("div",{className:"absolute bottom-0 left-0 right-0 top-0 ".concat(i?"":" invisible"),onClick:c,onTouchStart:c}),(0,Ql.jsxs)("div",{children:[i&&(0,Ql.jsx)("div",{className:"relative",children:(0,Ql.jsx)("div",{className:"fixed left-0 p-2 cursor-pointer bg-white text-black transition-all duration-200 ease-in ".concat(s?"w-full rounded-md":"h-14 w-14 rounded-md rounded-tr-3xl opacity-0"),children:t})}),(0,Ql.jsx)("div",{className:"relative top-0 right-0",children:(0,Ql.jsx)(Xd,{icon:i?(0,Ql.jsx)("div",{className:"h-4",children:zd.cancel}):(0,Ql.jsx)("div",{className:"scale-125",children:zd.dotsVertical}),onClick:function(e){i?c():o(!0),e.preventDefault()},isActive:i})})]})]})}function Ix(e){var t=e.children,n=e.onClick;return(0,Ql.jsx)("div",{className:"text-black flex items-center pl-2 pr-2 h-14 font-medium cursor-pointer select-none",onClick:n,children:t})}var Rx,Lx=function(e){var t=e.dispatch,n=Zl().authed,i=Wy(),o=i.collections,a=i.likes,s=l((0,r.useState)([]),2),u=s[0],c=s[1];(0,r.useEffect)((function(){c(Fy())}),[]);var f=u.length,d=l((0,r.useState)("Users without a sign up will be deleted after 30 days of inactivity. Make sure you are signed up to preserve your collection."),2),h=d[0],p=d[1];return(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"My Collection"}),!n&&(0,Ql.jsx)(BE,{message:h,onClose:function(){return p(null)},isSuccess:!0}),(0,Ql.jsx)("div",{className:"mb-4",children:(0,Ql.jsx)(Ld,{to:uT.LIKES_GRID,onClick:function(){xE(),t({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.LIKED,subtype:Pd.TOP})})},children:(0,Ql.jsx)(Dx,{collectionId:void 0,title:"Liked Posts",description:"Browse my likes (".concat(a.length," ").concat(1===a.length?"post":"posts",")"),imageSrc:(0,Ql.jsx)(Sx,{}),background:Rx.PINK})})}),(0,Ql.jsx)("div",{className:"mb-4",children:(0,Ql.jsx)(Ld,{to:uT.FOLLOWING_GRID,onClick:function(){xE(),t({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.FOLLOWING,subtype:Pd.TOP})})},children:(0,Ql.jsx)(Dx,{collectionId:void 0,title:"Following",description:"Browse posts of followed users and hashtags",imageSrc:(0,Ql.jsx)(xx,{}),background:Rx.GOLD})})}),f>0&&(0,Ql.jsx)("div",{className:"mb-4",children:(0,Ql.jsx)(Ld,{to:uT.HISTORY_GRID,onClick:function(){xE(),t({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.HISTORY})})},children:(0,Ql.jsx)(Dx,{collectionId:void 0,title:"History",description:"Browse my history (".concat(f," ").concat(1===f?"post":"posts",")"),imageSrc:(0,Ql.jsx)(Tx,{}),background:Rx.BLUE})})}),o.map((function(e){return(0,Ql.jsx)("div",{className:"mb-4",children:(0,Ql.jsx)(Ld,{to:A(uT.COLLECTION_GRID,{collectionId:e.id}),onClick:function(){xE(),t({type:ow.DELETE_CONTAINER,containerName:Ew({type:Dd.COLLECTION,collectionId:e.id,subtype:Pd.TOP})})},children:(0,Ql.jsx)(Dx,{collectionId:e.id,title:e.label,description:e.postAmount?"".concat(e.postAmount," ").concat(1===e.postAmount?"post":"posts"):"Add a post to this collection in the top right of the Feed tab",imageSrc:e.postSample&&e.postSample.imageUrl?Kl(e.postSample.sourceId,e.postSample.imageUrl,dl.GIF_THUMBNAIL_SD):(0,Ql.jsx)(_x,{})})})},e.id)})),(0,Ql.jsx)("div",{className:"flex justify-center mt-4 mb-4",children:(0,Ql.jsx)(Ld,{to:uT.COLLECTIONS_CREATE,children:(0,Ql.jsx)(Yd,{size:Vd.BIG,children:(0,Ql.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ql.jsx)(Dw,{className:"h-4 w-4 mr-1"}),"Create Collection"]})})})})]})};!function(e){e.GRAY="bg-dark-weak",e.BLUE="bg-gradient-to-br from-green-400 to-blue-500",e.PINK="bg-gradient-to-br from-purple-400 via-pink-500 to-red-500",e.GOLD="bg-gradient-to-br from-yellow-200 to-yellow-800"}(Rx||(Rx={}));var Dx=function(e){var t=e.title,n=e.description,r=e.imageSrc,i=e.collectionId,o=e.background;return(0,Ql.jsxs)("div",{className:"flex items-center hover:bg-coolGray-100 w-full",children:[(0,Ql.jsx)("div",{className:"w-16 h-16 rounded overflow-hidden shrink-0",children:"string"===typeof r?(0,Ql.jsx)("img",{loading:"lazy",src:r,className:"bg-dark-weak",style:{minWidth:"80px",minHeight:"80px"}}):(0,Ql.jsx)(Ql.Fragment,{children:(0,Ql.jsx)("div",{className:"w-16 h-16 flex items-center justify-center "+(null!==o&&void 0!==o?o:Rx.GRAY),children:(0,Ql.jsx)("div",{className:"w-7 h-7",children:r})})})}),(0,Ql.jsxs)("div",{className:"flex justify-between w-full",children:[(0,Ql.jsxs)("div",{className:"px-5",children:[(0,Ql.jsx)("div",{className:"text-lg font-semibold text-light text-left",children:t}),(0,Ql.jsx)("div",{className:"text-sm text-light-weak text-left",children:n})]}),i&&(0,Ql.jsx)("div",{children:(0,Ql.jsx)(Cx,{collectionId:i})})]})]})},Px=function(){var e=W(),t=l((0,r.useState)(null),2),n=t[0],i=t[1],o=Wy().createCollection,a=vx(),s=a.register,u=a.handleSubmit,c=a.formState,d=function(){var t=h(f().mark((function t(n){var r;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),t.prev=1,t.next=4,o(n.name);case 4:r=t.sent,Yl({category:"Collections",action:"Created Collection",label:r.id}),Lf("Collection created."),e(uT.COLLECTIONS),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(1),Yl({category:"Collections",action:"Created Collection Error"}),i("Something went wrong.");case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"Create collection"}),(0,Ql.jsxs)("form",{onSubmit:u(d),className:"flex flex-col w-full",children:[(0,Ql.jsx)(BE,{message:n,onClose:function(){return i(null)}}),(0,Ql.jsx)(FE,{readOnly:c.isSubmitting,name:"Name",type:"text",formRegister:Xu({},s("name",{required:!1})),autoFocus:!0}),(0,Ql.jsx)(HE,{label:"Create",isLoading:c.isSubmitting})]})]})},Nx=function(){var e=W(),t=K().postId,n=Wy(),i=n.collections,o=n.addPostToCollection,a=l((0,r.useState)(null),2),s=a[0],u=a[1],c=function(){var t=h(f().mark((function t(n,r){return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o(n,r.id);case 2:t.sent?(Yl({category:"Collections",action:"Added Post to Collection",label:r.id}),Lf("Added to ".concat(r.label)),e(-1)):(Yl({category:"Collections",action:"Added Post to Collection Error",label:r.id}),u("Something went wrong."));case 4:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"Add to collection"}),(0,Ql.jsx)(BE,{message:s,onClose:function(){return u(null)}}),i.map((function(e){return(0,Ql.jsx)("div",{className:"mb-4",children:(0,Ql.jsx)("div",{onClick:function(){return c(Number(t),e)},className:"cursor-pointer",children:(0,Ql.jsx)(Dx,{collectionId:void 0,title:e.label,description:e.postAmount?"".concat(e.postAmount," posts"):"Add a post to this collection in the top right of the Feed tab",imageSrc:e.postSample&&e.postSample.imageUrl?Kl(e.postSample.sourceId,e.postSample.imageUrl,dl.GIF_THUMBNAIL_SD):(0,Ql.jsx)(_x,{})})})},e.id)})),(0,Ql.jsx)("div",{className:"flex justify-center mt-4 mb-4",children:(0,Ql.jsx)(Ld,{to:uT.COLLECTIONS_CREATE,children:(0,Ql.jsx)(Yd,{size:Vd.BIG,children:(0,Ql.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ql.jsx)(Dw,{className:"h-4 w-4 mr-1"}),"Create Collection"]})})})})]})};function Mx(e){var t=e.subType,n=e.containerState,i=e.dispatch,o=e.height,a=K().collectionId,s=bw(n,i,{type:Dd.COLLECTION,subtype:t,collectionId:a||""}),u=s.content,l=s.fetchNewContent,c=s.indexState,f=s.isFetching,d=s.isError,h=Wy().collections,p=(0,r.useMemo)((function(){var e;return(null===(e=h.find((function(e){return e.id===a})))||void 0===e?void 0:e.label)||"Collection"}),[h]);return Gl((function(){return"".concat(p," - FikFap")}),[p]),a?(0,Ql.jsxs)(nh,{isError:d,isLoading:f&&u.length<1,children:[(0,Ql.jsx)(uw,{indexState:c,content:u,onContentExhaustion:function(e){return l(ww(e))},height:o}),(0,Ql.jsx)(Pw,{detailTitle:p}),(0,Ql.jsx)(Jd,{})]}):(0,Ql.jsx)(Gw,{})}var jx=function(){var e=W(),t=K().collectionId,n=l((0,r.useState)(null),2),i=n[0],o=n[1],a=Wy().editCollection,s=vx(),u=s.register,c=s.handleSubmit,d=s.formState,p=function(){var n=h(f().mark((function n(r){return f().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o(null),n.prev=1,n.next=4,a(t||"",r.name);case 4:Yl({category:"Collections",action:"Edited Collection",label:t}),Lf("Collection edited."),e(uT.COLLECTIONS),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(1),Yl({category:"Collections",action:"Edited Collection Error",label:t}),o("Something went wrong.");case 13:case"end":return n.stop()}}),n,null,[[1,9]])})));return function(e){return n.apply(this,arguments)}}();return t?(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"Edit collection"}),(0,Ql.jsxs)("form",{onSubmit:c(p),className:"flex flex-col w-full",children:[(0,Ql.jsx)(BE,{message:i,onClose:function(){return o(null)}}),(0,Ql.jsx)(FE,{readOnly:d.isSubmitting,name:"Name",type:"text",formRegister:Xu({},u("name",{required:!1})),autoFocus:!0}),(0,Ql.jsx)(HE,{label:"Edit",isLoading:d.isSubmitting})]})]}):(0,Ql.jsx)(Gw,{})};function Fx(e){var t=e.containerState,n=e.dispatch,r=e.height;Gl((function(){return"History - FikFap"}),[]);var i=bw(t,n,{type:Dd.HISTORY}),o=i.content,a=i.fetchNewContent,s=i.indexState,u=i.isFetching,l=i.isError;return(0,Ql.jsxs)(nh,{isError:l,isLoading:u&&o.length<1,children:[(0,Ql.jsx)(uw,{indexState:s,content:o,onContentExhaustion:function(e){return a(ww(e))},height:r}),(0,Ql.jsx)(Pw,{detailTitle:"My History"}),(0,Ql.jsx)(Jd,{})]})}var Ux=function(e){var t="Unknown";function n(n){e({isPrivate:n,browserName:t})}function r(e){return e===eval.toString().length}function i(){var e=window;if(void 0!==navigator.maxTouchPoints)if(void 0!==e.safari&&void 0===e.DeviceMotionEvent)t="Safari for macOS",function(){try{window.safari.pushNotification.requestPermission("https://example.com","private",{},(function(){}))}catch(bc){return n(!new RegExp("gesture").test(bc))}n(!1)}();else{if(void 0===e.DeviceMotionEvent)throw new Error("detectIncognito Could not identify this version of Safari");t="Safari for iOS",function(){var e=!1,t=document.createElement("iframe");t.style.display="none",document.body.appendChild(t),t.contentWindow.applicationCache.addEventListener("error",(function(){return e=!0,n(!0)})),setTimeout((function(){e||n(!1)}),100)}()}else!function(){var e=window.openDatabase,t=window.localStorage;try{e(null,null,null,null)}catch(bc){return n(!0)}try{t.setItem("test","1"),t.removeItem("test")}catch(bc){return n(!0)}n(!1)}()}function o(){navigator.webkitTemporaryStorage.queryUsageAndQuota((function(e,t){n(t<function(){var e=window;return void 0!==e.performance&&void 0!==e.performance.memory&&void 0!==e.performance.memory.jsHeapSizeLimit?performance.memory.jsHeapSizeLimit:1073741824}())}),(function(e){throw new Error("detectIncognito somehow failed to query storage quota: "+e.message)}))}function a(){void 0!==Promise&&void 0!==Promise.allSettled?o():(0,window.webkitRequestFileSystem)(0,1,(function(){n(!1)}),(function(){n(!0)}))}!function(){if(function(){var e=navigator.vendor;return void 0!==e&&0===e.indexOf("Apple")&&r(37)}())i();else if(function(){var e=navigator.vendor;return void 0!==e&&0===e.indexOf("Google")&&r(33)}())t=function(){var e=navigator.userAgent;return e.match(/Chrome/)?e.match(/Edg/)?"Edge":void 0!==navigator.brave?"Brave":void 0!==navigator.opr?"Opera":"Chrome":"Chromium"}(),a();else if(void 0!==document.documentElement&&void 0!==document.documentElement.style.MozAppearance&&r(37))t="Firefox",n(void 0===navigator.serviceWorker);else{if(void 0===navigator.msSaveBlob||!r(39))throw new Error("detectIncognito cannot determine the browser");t="Internet Explorer",n(void 0===window.indexedDB)}}()};function Bx(e){var t=e.containerState,n=e.dispatch,r=e.height,i=K(),o=i.userName,a=i.postId,s=bw(t,n,{type:Dd.USER,userName:o||""},a);return Gl((function(){return a&&s.content&&void 0!==s.content[0]&&Hd(s.content[0])?"".concat(s.content[0].content.label," - FikFap"):"@"+o+" - FikFap"}),[s.content,a,o]),o?(0,Ql.jsxs)(nh,{isError:s.isError,isLoading:s.content.length<1,children:[(0,Ql.jsx)(uw,{content:s.content,indexState:s.indexState,onContentExhaustion:function(e){return s.fetchNewContent(ww(e))},height:r}),(0,Ql.jsx)(Pw,{detailTitle:"@"+o,username:o}),(0,Ql.jsx)(Jd,{})]}):(0,Ql.jsx)(Gw,{})}var Hx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.657 18.657A8 8 0 016.343 7.343S7 9 9 10c0-2 .5-5 2.986-7C14 5 16.09 5.777 17.656 7.343A7.975 7.975 0 0120 13a7.975 7.975 0 01-2.343 5.657z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 16.121A3 3 0 1012.015 11L11 14H9c0 .768.293 1.536.879 2.121z"}))}));var Gx=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 4h13M3 8h9m-9 4h9m5-4v12m0 0l-4-4m4 4l4-4"}))}));function Vx(e){var t=e.clipsCount,n=e.likesCount,r=e.followerCount,i=e.showLikes;return(0,Ql.jsxs)("div",{className:"flex flex-row justify-center w-full max-w-xs h-10",children:[(0,Ql.jsx)(zx,{title:"Clips",value:null!==t&&void 0!==t?t:0}),i&&(0,Ql.jsx)(zx,{title:"Likes",value:null!==n&&void 0!==n?n:0}),(0,Ql.jsx)(zx,{title:"Followers",value:null!==r&&void 0!==r?r:0})]})}function zx(e){var t=e.title,n=e.value;return(0,Ql.jsxs)("div",{className:"flex flex-col items-center  basis-0 flex-grow",children:[(0,Ql.jsx)("div",{className:" font-bold",children:Vl(n)}),(0,Ql.jsx)("div",{className:"text-xs text-dark-weak",children:t})]})}function Wx(e){var t=e.subType,n=e.containerState,i=e.dispatch,o=K().hashtag,a=W();Gl((function(){return o?Fl(o)+" - FikFap":""}),[o]);var s=l(qy(Wy(),o||""),2),u=s[0],c=s[1],d=function(e){var t=l((0,r.useState)(null),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){function t(){return(t=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("hashtags/label/".concat(t),{retry:{limit:2}});case 2:return e.next=4,e.sent.json();case 4:n=e.sent,i(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(e){t.apply(this,arguments)}(e)}),[e]),n}(o),p={type:Dd.HASHTAG,subtype:t,hashtag:o||""};return o?(0,Ql.jsx)(mE,{title:Fl(o),containerState:n,dispatch:i,containerArgs:p,generatePostPath:function(e){return A(t===Pd.TOP?uT.HASHTAG_POST:uT.HASHTAG_POST_LATEST,{hashtag:o,postId:String(e)})},customOptionField:(0,Ql.jsx)(Xd,{icon:t===Pd.TOP?(0,Ql.jsx)(Hx,{}):(0,Ql.jsx)(Gx,{}),onClick:function(){a(A(t===Pd.TOP?uT.HASHTAG_LATEST:uT.HASHTAG,{hashtag:o}))}}),assistingContent:(0,Ql.jsxs)("div",{className:"w-full flex flex-col items-center justify-center bg-dark gap-5 pb-5 px-4",children:[(0,Ql.jsx)(Vx,{clipsCount:null===d||void 0===d?void 0:d.countPosts,followerCount:null===d||void 0===d?void 0:d.countFollows}),(0,Ql.jsx)(Yd,{size:Vd.BIG,onClick:c,children:u?(0,Ql.jsxs)("div",{className:"flex flex-row",children:[(0,Ql.jsx)(Dy,{className:"-ml-1 w-7 h-7 mr-2"}),(0,Ql.jsx)("span",{children:"Following"})]}):(0,Ql.jsx)("span",{children:"Follow"})})]})}):(0,Ql.jsx)(Gw,{})}function Kx(e){var t=e.subType,n=e.containerState,r=e.dispatch;Gl((function(){return"Likes - FikFap"}),[]);var i=W(),o={type:Dd.LIKED,subtype:t};return(0,Ql.jsx)(mE,{title:"My Likes",containerState:n,dispatch:r,containerArgs:o,generatePostPath:function(){return t===Pd.TOP?uT.LIKES_FEED:uT.LIKES_FEED_RANDOM},customOptionField:(0,Ql.jsx)(Qd,{icon:zd.shuffle,active:t===Pd.RANDOM,onClick:function(){i(t===Pd.TOP?uT.LIKES_GRID_RANDOM:uT.LIKES_GRID)}})})}function qx(e){var t=e.subType,n=e.containerState,i=e.dispatch,o=K().collectionId,a=Wy().collections,s=(0,r.useMemo)((function(){var e;return(null===(e=a.find((function(e){return e.id===o})))||void 0===e?void 0:e.label)||"Collection"}),[a]);Gl((function(){return"".concat(s," - FikFap")}),[s]);var u=W(),l={type:Dd.COLLECTION,subtype:t,collectionId:o||""};return o?(0,Ql.jsx)(mE,{title:s,containerState:n,dispatch:i,containerArgs:l,generatePostPath:function(){return A(t===Pd.TOP?uT.COLLECTION_FEED_RANDOM:uT.COLLECTION_FEED,{collectionId:o})},customOptionField:(0,Ql.jsx)(Qd,{icon:zd.shuffle,active:t===Pd.RANDOM,onClick:function(){u(A(t===Pd.TOP?uT.COLLECTION_GRID_RANDOM:uT.COLLECTION_GRID,{collectionId:o}))}})}):(0,Ql.jsx)(Gw,{})}function Yx(e){var t=e.containerState,n=e.dispatch;Gl((function(){return"History - FikFap"}),[]);var r={type:Dd.HISTORY};return(0,Ql.jsx)(mE,{title:"History",containerState:t,dispatch:n,containerArgs:r,generatePostPath:function(){return uT.HISTORY_FEED}})}function $x(e){var t=e.subType,n=e.containerState,r=e.dispatch;Gl((function(){return"Following - FikFap"}),[]);var i=W(),o={type:Dd.FOLLOWING,subtype:t};return(0,Ql.jsx)(mE,{title:"Following",containerState:n,dispatch:r,containerArgs:o,generatePostPath:function(){return t===Pd.TOP?uT.FOLLOWING_FEED:uT.FOLLOWING_FEED_RANDOM},customOptionField:(0,Ql.jsx)(Qd,{icon:zd.shuffle,active:t===Pd.RANDOM,onClick:function(){i(t===Pd.TOP?uT.FOLLOWING_GRID_RANDOM:uT.FOLLOWING_GRID)}})})}function Xx(){return(0,Ql.jsxs)(Hw,{children:[(0,Ql.jsx)(jw,{className:"h-28 w-24"}),(0,Ql.jsx)("div",{className:"text-2xl p-6",children:"Error 404 - Not Found"}),(0,Ql.jsx)(Ld,{to:uT.HOT_INDEX,children:(0,Ql.jsx)(Yd,{size:Vd.BIG,children:"Go to Home"})})]})}function Qx(){Gl((function(){return"Resend Confirmation - FikFap"}),[]);var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=Zl().authController,o=Hl(),a=W(),s=vx(),u=s.register,c=s.handleSubmit,d=s.setValue,p=s.formState;(0,r.useEffect)((function(){var e;o.has("email")&&d("email",null!==(e=o.get("email"))&&void 0!==e?e:"")}),[o]);var v=function(){var e=h(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),e.next=3,i.resendConfirmationEmail(t.email);case 3:(r=e.sent).state===ql.SUCCESS?a(uT.CONFIRM+"?email="+t.email):("User is already confirmed."===r.message&&a("".concat(uT.LOG_IN,"?email_confirmed=true&email=").concat(t.email)),n(r.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ql.jsx)(Bw,{children:(0,Ql.jsxs)("form",{onSubmit:c(v),children:[(0,Ql.jsx)(sh,{children:"Resend confirmation"}),(0,Ql.jsx)(BE,{message:"Your account is not confirmed yet. Please use the form below to receive a new confirmation email.",isSuccess:!0}),(0,Ql.jsx)(BE,{message:t,onClose:function(){return n(null)}}),(0,Ql.jsx)(FE,{readOnly:p.isSubmitting,name:"Email",type:"email",formRegister:Xu({},u("email",{required:!0}))}),(0,Ql.jsx)(HE,{label:"Resend",isLoading:p.isSubmitting,big:!0})]})})}function Jx(){Gl((function(){return"Confirm Email - FikFap"}),[]);var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=Zl().authController,o=Hl(),a=W(),s=vx(),u=s.register,c=s.handleSubmit,d=s.setValue,p=s.formState,v=function(){var e=h(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),e.next=3,i.confirmSignUp(t.email,t.authCode.trim());case 3:(r=e.sent).state===ql.SUCCESS?a("".concat(uT.LOG_IN,"?email_confirmed=true&email=").concat(t.email)):("User cannot be confirmed. Current status is CONFIRMED"===r.message&&a("".concat(uT.LOG_IN,"?email_confirmed=true&email=").concat(t.email)),n(r.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,r.useEffect)((function(){if(o.has("email")&&o.has("code")){var e,t;d("email",null!==(e=o.get("email"))&&void 0!==e?e:""),d("authCode",null!==(t=o.get("code"))&&void 0!==t?t:""),c(v)()}else{var n,r;if(o.has("email"))d("email",null!==(n=o.get("email"))&&void 0!==n?n:"");if(o.has("code"))d("authCode",null!==(r=o.get("code"))&&void 0!==r?r:"")}}),[o]),(0,Ql.jsx)(Bw,{children:(0,Ql.jsxs)("form",{onSubmit:c(v),children:[(0,Ql.jsx)(sh,{children:"Confirm email"}),(0,Ql.jsx)(BE,{message:"You're almost there! We have sent an activation link to the email you provided. Please click the link or enter the code below to activate your account. \ud83e\udd73",isSuccess:!0}),(0,Ql.jsx)(BE,{message:t,onClose:function(){return n(null)}}),(!o.has("email")||o.has("code"))&&(0,Ql.jsx)(FE,{readOnly:p.isSubmitting,name:"Email",type:"email",formRegister:Xu({},u("email",{required:!0}))}),(!o.has("code")||o.has("email"))&&(0,Ql.jsx)(FE,{readOnly:p.isSubmitting,name:"Confirmation code",type:"text",formRegister:Xu({},u("authCode",{required:!0}))}),(0,Ql.jsx)(HE,{label:"Confirm",isLoading:p.isSubmitting,big:!0})]})})}function Zx(e){var t=e.pwaAvailable,n=e.pwaInstall;return Gl((function(){return"Download FikFap App"}),[]),(0,Ql.jsxs)("form",{className:"flex flex-col p-5 pt-8 w-full",children:[(0,Ql.jsx)(sh,{children:"Download FikFap App"}),(0,Ql.jsx)(BE,{message:"The best way to enjoy FikFap is to download the official App!"}),Bl()?(0,Ql.jsx)(BE,{message:"Congratulations! You are using the FikFap App! \ud83e\udd73",isSuccess:!0}):t?(0,Ql.jsx)("div",{className:"pb-4 w-full flex flex-col",children:(0,Ql.jsx)("button",{className:"inline-flex flex-shrink-0 flex-grow-0 justify-center items-center h-14 font-semibold py-2 px-4 rounded-full bg-brand",onClick:function(){n()},children:(0,Ql.jsx)("span",{children:"Download App"})})}):Ml()?(0,Ql.jsx)(BE,{message:"\ud83e\udd14 The FikFap app is not able to be installed on your phone. If you are using incognito mode, please open your browser in normal mode to install it. It could also be that you have already installed the app.",isSuccess:!0}):(0,Ql.jsx)(BE,{message:"\ud83d\udcf2 The FikFap app is only available for mobile devices. Please grab your phone and open fikfap.com/app to install it!",isSuccess:!0}),(0,Ql.jsx)(BE,{message:"Still unsure? We have created a video guide for you."}),(0,Ql.jsx)("video",{src:"/how-to-install-fikfap-app.mp4",playsInline:!0,autoPlay:!0,muted:!0,loop:!0,controls:!0,className:"w-auto"})]})}var eT,tT=r.forwardRef((function(e,t){return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",ref:t},e),r.createElement("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"}))}));function nT(e){var t,n=e.containerState,i=e.dispatch,o=K().userName;Gl((function(){return" @".concat(o," - FikFap")}),[o]);var a=l(Ky(Wy(),o||""),2),s=a[0],u=a[1],c=function(e){var t=l((0,r.useState)(null),2),n=t[0],i=t[1];return(0,r.useEffect)((function(){function t(){return(t=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("user/username/".concat(t),{retry:{limit:2}});case 2:return e.next=4,e.sent.json();case 4:n=e.sent,i(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e&&function(e){t.apply(this,arguments)}(e)}),[e]),n}(o);if(!o)return(0,Ql.jsx)(Gw,{});var d={type:Dd.USER,userName:o};return(0,Ql.jsx)(mE,{title:(0,Ql.jsx)(rT,{name:o,isVerified:null!==(t=null===c||void 0===c?void 0:c.isVerified)&&void 0!==t&&t}),containerState:n,dispatch:i,containerArgs:d,generatePostPath:function(e){return A(uT.USER_POST,{postId:String(e),userName:o})},assistingContent:(0,Ql.jsxs)("div",{className:"w-full flex flex-col items-center justify-center bg-dark gap-5 pb-5 px-4",children:[(0,Ql.jsx)(Vx,{clipsCount:null===c||void 0===c?void 0:c.countPosts,likesCount:null===c||void 0===c?void 0:c.countIncomingLikes,followerCount:null===c||void 0===c?void 0:c.countIncomingFollows,showLikes:!0}),(0,Ql.jsx)(Yd,{size:Vd.BIG,onClick:u,children:s?(0,Ql.jsxs)("div",{className:"flex flex-row",children:[(0,Ql.jsx)(Dy,{className:"-ml-1 w-7 h-7 mr-2"}),(0,Ql.jsx)("span",{children:"Following"})]}):(0,Ql.jsx)("span",{children:"Follow"})}),c&&(0,Ql.jsx)(iT,{links:c.profileLinks,userName:o})]})})}function rT(e){var t=e.name,n=e.isVerified;return(0,Ql.jsxs)(Ql.Fragment,{children:[(0,Ql.jsx)("span",{children:"@"+t}),n&&(0,Ql.jsx)("span",{className:"ml-2 h-5 text-brand",children:zd.verified})]})}function iT(e){var t=e.links,n=e.userName,r=t;return"christinalustxxx"===n.toLocaleLowerCase()&&(r=[{type:eT.ONLYFANS,url:"https://onlyfans.com/christinalustxxx"},{type:eT.FANSLY,url:"https://fansly.com/christinalustxxx"}]),r?r.length<1?null:(0,Ql.jsx)("div",{className:"w-full flex flex-col justify-center items-stretch",children:r.map((function(e){return(0,Ql.jsx)(oT,{link:e,userName:n},e.url)}))}):($l({category:"Error",action:"Old Api cached"}),null)}function oT(e){var t=e.link,n=e.userName;return(0,Ql.jsxs)(st,{className:"flex truncate items-center justify-center text-sm font-medium text-coolGray-700  hover:text-light-weak",to:t.url,eventLabel:"creator-profile-social",value:n,target:"_blank",children:[(0,Ql.jsx)(tT,{className:"h-4 pr-1 flex-shrink-0"}),(0,Ql.jsx)("span",{className:"truncate",children:Wl(t.url)})]})}function aT(){Gl((function(){return"Sign In - FikFap"}),[]);var e,t=l((0,r.useState)(null),2),n=t[0],i=t[1],o=vx(),a=o.setValue,s=o.register,u=o.handleSubmit,c=o.formState,d=W(),p=Zl().authController,v=Hl(),g=l((0,r.useState)(null),2),m=g[0],y=g[1];v.has("email")&&a("email",null!==(e=v.get("email"))&&void 0!==e?e:"");(0,r.useEffect)((function(){v.has("email_confirmed")&&y("Your account has been created. Please log in below.")}),[v]);var b=function(){var e=h(f().mark((function e(t){var n;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(null),e.next=3,p.logIn(t.email,t.password);case 3:(n=e.sent).state===ql.SUCCESS?(d(uT.HOT_INDEX),location.reload()):("User is not confirmed."===n.message&&d("/resend-confirmation?email="+t.email),i(n.message));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ql.jsx)(Bw,{children:(0,Ql.jsxs)("form",{className:"",onSubmit:u(b),children:[(0,Ql.jsx)(sh,{children:"Log In"}),(0,Ql.jsx)(BE,{message:n,onClose:function(){return i(null)}}),(0,Ql.jsx)(BE,{message:m,onClose:function(){return y(null)},isSuccess:!0}),(0,Ql.jsx)(FE,{readOnly:c.isSubmitting,name:"Email",type:"email",formRegister:Xu({},s("email",{required:!0}))}),(0,Ql.jsx)(FE,{readOnly:c.isSubmitting,name:"Password",type:"password",formRegister:Xu({},s("password",{required:!0}))}),(0,Ql.jsx)("div",{className:"pb-4",children:(0,Ql.jsx)(HE,{label:"Log In",isLoading:c.isSubmitting,big:!0})}),(0,Ql.jsxs)("div",{className:"text-sm flex",children:[(0,Ql.jsx)("div",{className:"mr-10",children:(0,Ql.jsx)(UE,{to:uT.SIGN_UP,children:"Sign up"})}),(0,Ql.jsx)("div",{children:(0,Ql.jsx)(UE,{to:uT.RESET_PASSWORD,children:"Forgot your password?"})})]})]})})}function sT(){Gl((function(){return"Sign Up - FikFap"}),[]);var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=vx(),o=i.register,a=i.handleSubmit,s=i.formState,u=Zl().authController,c=W(),d=function(){var e=h(f().mark((function e(t){var r;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(null),e.next=3,u.signUp(t.email,t.password);case 3:(r=e.sent).state===ql.SUCCESS?c(uT.CONFIRM+"?email="+t.email):n(r.message);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,Ql.jsx)(Bw,{children:(0,Ql.jsxs)("form",{onSubmit:a(d),children:[(0,Ql.jsxs)("div",{className:"bg-coolGray-800 text-dark text-md rounded-md p-4 mb-6",children:[(0,Ql.jsx)("h2",{className:"text-xl font-bold mb-2",children:"Join the Future of Porn"}),(0,Ql.jsxs)("div",{className:"mb-2",children:["FikFap is a mobile-optimized app with an intelligent feed algorithm that learns what you like, and keeps giving you more of it."," ",(0,Ql.jsx)(Ld,{to:uT.ABOUT,className:"font-medium underline",children:"Learn more here."})]})]}),(0,Ql.jsx)(BE,{message:t,onClose:function(){return n(null)}}),(0,Ql.jsx)(FE,{readOnly:s.isSubmitting,name:"Email",type:"email",formRegister:Xu({},o("email",{required:!0}))}),(0,Ql.jsx)(FE,{readOnly:s.isSubmitting,name:"Password",type:"password",formRegister:Xu({},o("password",{required:!0}))}),(0,Ql.jsxs)("div",{className:"text-sm mb-4 text-light-weak",children:["By clicking Sign Up, I agree to FikFap's"," ",(0,Ql.jsx)(UE,{to:uT.ABOUT,children:"terms"})," ,"," ",(0,Ql.jsx)(UE,{to:uT.ABOUT,children:"privacy policy"})," and ",(0,Ql.jsx)(UE,{to:uT.ABOUT,children:"cookie policy"}),"."]}),(0,Ql.jsx)("div",{className:"pb-4",children:(0,Ql.jsx)(HE,{label:"Sign Up",isLoading:s.isSubmitting,big:!0})}),(0,Ql.jsx)("div",{className:"text-sm pb-4",children:(0,Ql.jsx)(UE,{to:uT.LOG_IN,children:"Already have an account? Log In"})}),(0,Ql.jsx)("div",{className:"text-sm mb-4 text-light-weak",children:"All your current likes, follows and collections will be transferred to your new account. \ud83e\udd0d"})]})})}!function(e){e.ONLYFANS="ONLYFANS",e.FANSLY="FANSLY"}(eT||(eT={}));var uT,lT=function(){var e=W(),t=l((0,r.useState)(null),2),n=t[0],i=t[1],o=vx(),a=o.register,s=o.handleSubmit,u=o.formState,c=function(){var t=h(f().mark((function t(n){var r,o;return f().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i(null),t.prev=1,t.next=4,g(n.redgifsUrl,n.title,n.hashtag);case 4:r=t.sent,$l({category:"Upload",action:"Created Upload",label:String(r.id)}),Lf("Upload successful."),e("/post/".concat(r.id)),location.reload(),t.next=23;break;case 11:if(t.prev=11,t.t0=t.catch(1),$l({category:"Upload",action:"Created Upload Error"}),!t.t0||!t.t0.response){t.next=20;break}return t.next=17,t.t0.response.text();case 17:t.t1=t.sent,t.next=21;break;case 20:t.t1=null;case 21:o=t.t1,i("Something went wrong: ".concat(o," (").concat(t.t0,")"));case 23:case"end":return t.stop()}}),t,null,[[1,11]])})));return function(e){return t.apply(this,arguments)}}(),d=l((0,r.useState)([]),2),p=d[0],v=d[1];(0,r.useEffect)((function(){var e=function(){var e=h(f().mark((function e(){var t;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("hashtags");case 2:return e.next=4,e.sent.json();case 4:t=e.sent,v(t);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);var g=function(){var e=h(f().mark((function e(t,n,r){var i;return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl("uploads/posts",{method:"post",json:{url:t,postLabel:n,hashtagLabel:r},timeout:6e4});case 2:return e.next=4,e.sent.json();case 4:return i=e.sent,e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();return(0,Ql.jsxs)(Bw,{children:[(0,Ql.jsx)(sh,{children:"Upload"}),(0,Ql.jsxs)("form",{onSubmit:s(c),className:"flex flex-col w-full",children:[(0,Ql.jsx)(BE,{message:n,onClose:function(){return i(null)}}),(0,Ql.jsx)(FE,{readOnly:u.isSubmitting,name:"RedGifs URL",type:"url",formRegister:Xu({},a("redgifsUrl",{required:!0}))}),(0,Ql.jsx)(FE,{readOnly:u.isSubmitting,name:"Title",type:"text",formRegister:Xu({},a("title",{required:!0}))}),(0,Ql.jsx)(jE,{readOnly:u.isSubmitting,name:"Hashtag",formRegister:Xu({},a("hashtag",{required:!0})),options:p.sort((function(e,t){return e.label&&t.label?e.label.localeCompare(t.label):0})).map((function(e){return e.label}))}),(0,Ql.jsx)(HE,{label:"Upload",isLoading:u.isSubmitting})]})]})};function cT(e){var t=e.children;return void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_VERSION_COMMIT_SHA:"83d47db6285a113668f95498ecfd01a2c630bd50",REACT_APP_STAGE:"prod",REACT_APP_COGNITO_USER_POOL_CLIENT_ID:"5v1cjavk5s6dvfejfr7929dibu",REACT_APP_COGNITO_USER_POOL_ID:"us-east-1_mlltkNH2K",REACT_APP_VERSION:"2318",REACT_APP_API_URL:"https://api.fikfap.com"}.JEST_WORKER_ID?(0,Ql.jsx)(Ql.Fragment,{children:t}):(0,Ql.jsx)(fT,{children:t})}function fT(e){var t=e.children;return Xl(),r.useEffect((function(){try{Ux((function(e){e.isPrivate?Yl({category:"System",action:"Incognito/Regular Mode Detected",label:"Incognito",nonInteraction:!0}):Yl({category:"System",action:"Incognito/Regular Mode Detected",label:"Regular",nonInteraction:!0})}))}catch(bc){console.error("Could not get Incognito status",bc),Yl({category:"System",action:"Regular/Incognito Mode Detected Error",label:bc&&bc.reason||void 0,nonInteraction:!0})}}),[]),function(){var e=l((0,r.useState)(void 0),2),t=(e[0],e[1]),n=function(e){try{Yl({category:"System",action:"Adblock/Regular Detected",label:e?"Adblock":"Regular",nonInteraction:!0})}catch(bc){console.error("Could not get or send Adblock status",bc),"undefined"!==typeof ga?ga("send","event","Adblock/Regular Detected (Hack)",e?"Adblock":"Regular",{nonInteraction:1}):"undefined"!==typeof _gaq&&_gaq.push(["_trackEvent","Adblock/Regular Detected (Hack)",e?"Adblock":"Regular",void 0,void 0,!0])}};(0,r.useEffect)((function(){fetch("https://www3.doubleclick.net",{method:"HEAD",mode:"no-cors",cache:"no-store"}).then((function(e){t(!1),n(!1)})).catch((function(e){t(!0),n(!0)}))}),[])}(),(0,Ql.jsx)(Ql.Fragment,{children:t})}!function(e){e.NEW="/new",e.FOLLOWING_GRID_RANDOM="/following/overview/random",e.FOLLOWING_GRID="/following/overview",e.FOLLOWING_FEED_RANDOM="/following/random",e.FOLLOWING_FEED="/following",e.HASHTAG_POST_LATEST="/hash/:hashtag/post/:postId/latest",e.HASHTAG_POST="/hash/:hashtag/post/:postId",e.HASHTAG_LATEST="/hash/:hashtag/latest",e.HASHTAG="/hash/:hashtag",e.USER_OVERVIEW="/user/:userName/overview",e.USER_POST="/user/:userName/post/:postId",e.USER="/user/:userName",e.COLLECTIONS_EDIT="/collections/:collectionId/edit",e.COLLECTIONS_ADD="/collections/add/:postId",e.COLLECTIONS_CREATE="/collections/create",e.COLLECTION_FEED_RANDOM="/collections/:collectionId/feed/random",e.COLLECTION_FEED="/collections/:collectionId/feed",e.COLLECTION_GRID_RANDOM="/collections/:collectionId/random",e.COLLECTION_GRID="/collections/:collectionId",e.COLLECTIONS="/collections",e.LIKES_FEED_RANDOM="/likes/feed/random",e.LIKES_FEED="/likes/feed",e.LIKES_GRID_RANDOM="/likes/random",e.LIKES_GRID="/likes",e.POST="/post/:postId",e.ABOUT="/about",e.DISCOVER="/discover",e.LOG_IN="/login",e.SIGN_UP="/signup",e.CONFIRM="/confirm",e.USER_SELF="/user",e.RESET_PASSWORD="/reset-password",e.RESEND_CONFIRMATION="/resend-confirmation",e.UPLOAD="/upload",e.UI="/ui",e.APP="/app",e.HISTORY_FEED="/history/feed",e.HISTORY_GRID="/history",e.HOT_INDEX="/"}(uT||(uT={}));var dT=function(){var e=zw(),t=function(){var e=l((0,r.useState)(null),2),t=e[0],n=e[1],i=!!t;return(0,r.useEffect)((function(){var e=function(e){e.preventDefault(),n(e)};return window.addEventListener("beforeinstallprompt",e),function(){window.removeEventListener("beforeinstallprompt",e)}}),[]),(0,r.useEffect)((function(){function e(){$l({category:"Feed",action:"Install PWA",label:"Version ".concat(bt," Hash ").concat(yt)}),n(null)}return window.addEventListener("appinstalled",e),function(){window.removeEventListener("appinstalled",e)}}),[]),[i,function(){return t?t.prompt():Promise.reject(new Error('Tried installing before browser sent "beforeinstallprompt" event'))}]}(),n=l(t,2),i=n[0],o=n[1],a=l((0,r.useReducer)(dw,{}),2),s=a[0],u=a[1],c=ME("hashtags?includePostSamples=true");return(0,Ql.jsx)(Ad,{pwaAvailable:i,pwaInstall:o,children:function(t){return(0,Ql.jsxs)(J,{children:[(0,Ql.jsx)(X,{path:uT.NEW,element:(0,Ql.jsx)(Iw,{containerState:s,dispatch:u,optimizeVariant:e,height:t},"new")}),(0,Ql.jsx)(X,{path:uT.FOLLOWING_GRID_RANDOM,element:(0,Ql.jsx)($x,{subType:Pd.RANDOM,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.FOLLOWING_GRID,element:(0,Ql.jsx)($x,{subType:Pd.TOP,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.FOLLOWING_FEED_RANDOM,element:(0,Ql.jsx)(Iw,{containerState:s,dispatch:u,optimizeVariant:e,randomFollow:!0,height:t},"following-random")}),(0,Ql.jsx)(X,{path:uT.FOLLOWING_FEED,element:(0,Ql.jsx)(Iw,{containerState:s,dispatch:u,optimizeVariant:e,height:t},"following")}),(0,Ql.jsx)(X,{path:uT.HASHTAG_POST_LATEST,element:(0,Ql.jsx)(Vw,{subType:Pd.LATEST,containerState:s,dispatch:u,height:t},Pd.LATEST)}),(0,Ql.jsx)(X,{path:uT.HASHTAG_POST,element:(0,Ql.jsx)(Vw,{subType:Pd.TOP,containerState:s,dispatch:u,height:t},Pd.TOP)}),(0,Ql.jsx)(X,{path:uT.HASHTAG_LATEST,element:(0,Ql.jsx)(Wx,{subType:Pd.LATEST,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.HASHTAG,element:(0,Ql.jsx)(Wx,{subType:Pd.TOP,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.USER_POST,element:(0,Ql.jsx)(Bx,{containerState:s,dispatch:u,height:t})}),(0,Ql.jsx)(X,{path:uT.USER,element:(0,Ql.jsx)(nT,{containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.COLLECTIONS_EDIT,element:(0,Ql.jsx)(jx,{})}),(0,Ql.jsx)(X,{path:uT.COLLECTIONS_ADD,element:(0,Ql.jsx)(Nx,{})}),(0,Ql.jsx)(X,{path:uT.COLLECTIONS_CREATE,element:(0,Ql.jsx)(Px,{})}),(0,Ql.jsx)(X,{path:uT.COLLECTION_FEED_RANDOM,element:(0,Ql.jsx)(Mx,{subType:Pd.RANDOM,containerState:s,dispatch:u,height:t},Pd.RANDOM)}),(0,Ql.jsx)(X,{path:uT.COLLECTION_FEED,element:(0,Ql.jsx)(Mx,{subType:Pd.TOP,containerState:s,dispatch:u,height:t},Pd.TOP)}),(0,Ql.jsx)(X,{path:uT.COLLECTION_GRID_RANDOM,element:(0,Ql.jsx)(qx,{subType:Pd.RANDOM,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.COLLECTION_GRID,element:(0,Ql.jsx)(qx,{subType:Pd.TOP,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.COLLECTIONS,element:(0,Ql.jsx)(Lx,{dispatch:u})}),(0,Ql.jsx)(X,{path:uT.LIKES_FEED_RANDOM,element:(0,Ql.jsx)(bx,{subType:Pd.RANDOM,containerState:s,dispatch:u,height:t},Pd.RANDOM)}),(0,Ql.jsx)(X,{path:uT.LIKES_FEED,element:(0,Ql.jsx)(bx,{subType:Pd.TOP,containerState:s,dispatch:u,height:t},Pd.TOP)}),(0,Ql.jsx)(X,{path:uT.LIKES_GRID_RANDOM,element:(0,Ql.jsx)(Kx,{subType:Pd.RANDOM,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.LIKES_GRID,element:(0,Ql.jsx)(Kx,{subType:Pd.TOP,containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.POST,element:(0,Ql.jsx)(Iw,{containerState:s,dispatch:u,optimizeVariant:e,height:t},"hot")}),(0,Ql.jsx)(X,{path:uT.ABOUT,element:(0,Ql.jsx)(Kw,{})}),(0,Ql.jsx)(X,{path:uT.DISCOVER,element:(0,Ql.jsx)(NE,{dispatch:u,categoryRequest:c})}),(0,Ql.jsx)(X,{path:uT.HISTORY_FEED,element:(0,Ql.jsx)(Fx,{containerState:s,dispatch:u,height:t})}),(0,Ql.jsx)(X,{path:uT.HISTORY_GRID,element:(0,Ql.jsx)(Yx,{containerState:s,dispatch:u})}),(0,Ql.jsx)(X,{path:uT.LOG_IN,element:(0,Ql.jsx)(aT,{})}),(0,Ql.jsx)(X,{path:uT.SIGN_UP,element:(0,Ql.jsx)(sT,{})}),(0,Ql.jsx)(X,{path:uT.CONFIRM,element:(0,Ql.jsx)(Jx,{})}),(0,Ql.jsx)(X,{path:uT.USER_SELF,element:(0,Ql.jsx)(VE,{})}),(0,Ql.jsx)(X,{path:uT.RESET_PASSWORD,element:(0,Ql.jsx)(gx,{})}),(0,Ql.jsx)(X,{path:uT.RESEND_CONFIRMATION,element:(0,Ql.jsx)(Qx,{})}),!gt&&(0,Ql.jsx)(X,{path:uT.UI,element:(0,Ql.jsx)(Ex,{})}),(0,Ql.jsx)(X,{path:uT.APP,element:(0,Ql.jsx)(Zx,{pwaAvailable:i,pwaInstall:o})}),(0,Ql.jsx)(X,{path:"/upload",element:(0,Ql.jsx)(lT,{})}),(0,Ql.jsx)(X,{path:"/hot",element:(0,Ql.jsx)($,{to:uT.HOT_INDEX})}),(0,Ql.jsx)(X,{path:uT.HOT_INDEX,element:(0,Ql.jsx)(Iw,{containerState:s,dispatch:u,optimizeVariant:e,height:t},"hot")}),(0,Ql.jsx)(X,{path:"*",element:(0,Ql.jsx)(Xx,{})})]})}})},hT=function(){return(0,Ql.jsx)(Rd,{children:(0,Ql.jsxs)(cT,{children:[(0,Ql.jsx)(ec,{children:(0,Ql.jsx)(Pf,{children:(0,Ql.jsx)(zy,{children:(0,Ql.jsx)(dT,{})})})}),(0,Ql.jsx)(Rf,{position:"top-center",toastOptions:{duration:3e3},containerStyle:{left:40,right:40,top:57}})]})})};console.log("Version ".concat(bt," Hash ").concat(yt)),Gn.configure({Auth:{region:"us-east-1",userPoolId:St,userPoolWebClientId:xt,authenticationFlowType:"USER_SRP_AUTH"}}),i.createRoot(document.getElementById("root")).render((0,Ql.jsx)(r.StrictMode,{children:(0,Ql.jsx)(hT,{})})),function(e){if(console.log("1. register started"),"serviceWorker"in navigator){if(console.log("2. serviceWorker constructor available"),new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){console.log("3. serviceWorker constructor loaded");var t="".concat("","/service-worker.js");o?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var r=n.headers.get("content-type");404===n.status||null!=r&&-1===r.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):a(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://cra.link/PWA")}))):a(t,e)}))}}()}()}();